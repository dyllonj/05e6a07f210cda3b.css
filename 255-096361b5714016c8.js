"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{15208:function(e,n,t){t.d(n,{Z:function(){return Le}});var r=t(14924),i=t(85893),a=t(67294),o=t(25617),s=t(41120),c=t(75154),l=t(17830),u=t(57785),d=t(43207),m=t(26042),p=t(45989),f=t(76743),g=t(5566),h=t(50253),v=(0,s.Z)((function(){return(0,c.Z)({wrapper:{display:"flex",alignItems:"center",position:"relative"},modal:{position:"static !important",minHeight:350}})}));function x(e){var n=e.children,t=v();return(0,i.jsx)(g.Z,{open:!0,hideBackdrop:!0,disablePortal:!0,className:t.modal,children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.Z,{justifyContent:"center",flexDirection:"column",className:t.wrapper,children:n})})})}var y=t(22318),b=t(94184),C=t.n(b),Z=t(98342),E=t(17812),w=t(71843),N=t(42242),A=(0,s.Z)((function(e){var n;return(0,c.Z)({modal:(n={position:"relative",backgroundColor:e.palette.white.main,backgroundRepeat:"no-repeat",backgroundPosition:"bottom 10px left 0",boxShadow:"0px 34px 34px rgba(0, 0, 0, 0.05)",borderRadius:"10px",margin:e.spacing(0,"auto"),maxWidth:400},(0,r.Z)(n,e.breakpoints.up("sm"),{margin:"unset",maxWidth:"unset",width:"580px"}),(0,r.Z)(n,e.breakpoints.up("md"),{width:"600px"}),n),backButton:{margin:"20px 22px",color:"black",position:"absolute",left:0},backButtonArrow:{position:"relative",left:"4px"},innerWrapper:(0,r.Z)({display:"flex",flexDirection:"column",alignItems:"center",margin:"70px 28px"},e.breakpoints.up("sm"),{margin:"70px 55px"})})}));function j(e){var n=e.children,t=e.stepIndex,r=void 0===t?0:t,s=e.backButtonCallback,c=A(),l=(0,o.I0)(),u=(0,a.useCallback)((function(){(!s||s())&&l((0,N.dZ)(r-1))}),[l,r,s]);return(0,i.jsxs)("div",{className:c.modal,children:[r>0&&(0,i.jsx)(E.Z,{onClick:u,className:c.backButton,"data-testid":"back-arrow-button",children:(0,i.jsx)(w.Z,{className:c.backButtonArrow})}),(0,i.jsx)("div",{className:c.innerWrapper,children:n})]})}var I=t(34516),k=t(56168),_=t(81133),T=(0,s.Z)((function(e){var n;return(0,c.Z)({stepWrapper:(0,r.Z)({display:"flex",flexDirection:"column"},e.breakpoints.up("lg"),{flexDirection:"row"}),content:(0,r.Z)({display:"flex",flexDirection:"column",alignSelf:"stretch",alignItems:"center"},e.breakpoints.up("sm"),{margin:e.spacing(0,10)}),linkText:{marginTop:function(e){return e.incentive?20:0},fontSize:20,fontWeight:600,lineHeight:"26px",textAlign:"center"},logos:{display:"flex",flexDirection:"row",paddingTop:function(e){return e.incentive?"50px":"70px"},alignSelf:"stretch",marginBottom:e.spacing(11)},logo:{position:"relative","&::after":(0,r.Z)({position:"absolute",top:"60px",left:0,fontSize:14,fontWeight:600,lineHeight:"21px",textAlign:"left"},e.breakpoints.up("sm"),{textAlign:"center",left:"50%",transform:"translateX(-50%)"})},distCompTitle:{"&::after":{content:function(e){var n=e.distributionCompanyId;return"'".concat((0,_.o7)(n),"'")}}},ampionLogo:{"&::after":{content:"'Ampion'"}},cyberSecurity:{flexGrow:2,display:"flex",flexDirection:"row",alignItems:"center"},hrLine:{height:6,backgroundImage:"url(/account-linking/link-arrow.png)",backgroundRepeat:"round",width:"100%",margin:e.spacing(0,2)},notes:(n={maxWidth:400,margin:e.spacing(2,"auto",0)},(0,r.Z)(n,e.breakpoints.up("sm"),{maxWidth:"unset",width:420}),(0,r.Z)(n,e.breakpoints.up("md"),{margin:e.spacing(0,0,0,5)}),n),note:{lineHeight:"18px",fontSize:18,fontWeight:700,color:e.palette.grayDark.dark,textAlign:"left"},noteDescription:(0,r.Z)({lineHeight:"22px",fontSize:18,fontWeight:400,textAlign:"left",color:e.palette.black.main,"&:not(:last-of-type)":{marginBottom:e.spacing(3)}},e.breakpoints.up("lg"),{"&:not(:last-of-type)":{marginBottom:e.spacing(14)}}),reward:{position:"absolute",top:0,borderRadius:"10px 10px 0 0",color:e.palette.green.main,backgroundColor:e.palette.green.light,width:"100%",fontSize:20,fontWeight:500,lineHeight:"26px",textAlign:"center",padding:e.spacing(2,0),backgroundImage:"url(/account-linking/giftbox.png)",backgroundRepeat:"no-repeat",backgroundPosition:"right"},incentive:{fontWeight:800}})}));var S=function(e){var n=e.stepIndex,t=(0,o.v9)(u.fv),r=t.message,a=t.incentive,s=t.distribution_company_id,c=!((0,o.v9)((function(e){return e.accountLinking})).landingSource===k.D.direct)&&!!a,l=T({incentive:c?a:0,distributionCompanyId:s});return(0,i.jsxs)("div",{className:l.stepWrapper,children:[(0,i.jsxs)(j,{stepIndex:n,children:[c&&(0,i.jsxs)("div",{className:l.reward,children:["Receive a"," ",(0,i.jsxs)("span",{className:l.incentive,children:["$",a]})," ","Reward"]}),(0,i.jsxs)(y.Z,{component:"div",className:l.content,children:[(0,i.jsx)("div",{className:l.linkText,children:"Improve Your Service By Enabling Account Linking"}),(0,i.jsxs)("div",{className:l.logos,children:[(0,i.jsx)("div",{className:C()(l.logo,l.distCompTitle),children:(0,i.jsx)("img",{alt:"dist-co-logo",src:(0,Z.D1)(s,!0)})}),(0,i.jsxs)("div",{className:l.cyberSecurity,children:[(0,i.jsx)("div",{className:l.hrLine}),(0,i.jsx)("img",{alt:"cyber-security-icon",src:"/account-linking/cyber-security.png"}),(0,i.jsx)("div",{className:l.hrLine})]}),(0,i.jsx)("div",{className:C()(l.logo,l.ampionLogo),children:(0,i.jsx)("img",{alt:"ampion-logo",src:"/account-linking/ampion-logo.png"})})]}),(0,i.jsx)(I.a,{label:"Link",buttonProps:{"data-testid":"link-button"}})]})]}),(0,i.jsxs)(y.Z,{component:"div",className:l.notes,children:[(0,i.jsx)("p",{className:l.note,children:"How will this improve my Ampion service?"}),(0,i.jsx)("p",{className:l.noteDescription,children:"By enabling Account Linking, Ampion is able to read your monthly energy use and make quick adjustments to your solar farm percentage. This ensures you're receiving the maximum savings and carbon offset."}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:l.note,children:"Great, I'm in! How do I get started?"}),(0,i.jsx)("p",{className:l.noteDescription,"data-testid":"linking-message",children:r})]})]})]})},U=t(47568),P=t(20414),z=t(41749),L=t(282),M=t(31456),R=t(80366),O=t(62423),H=(0,s.Z)((function(){return(0,c.Z)({oopsText:{marginTop:"30px",fontWeight:"normal",fontSize:"16px",lineHeight:"18px",textAlign:"center"},promiseText:{marginTop:"15px",marginBottom:"15px",fontWeight:"normal",fontSize:"16px",lineHeight:"15px",color:"#9D9D9D",textAlign:"center"},cloaseBtn:{position:"absolute",top:"17px",right:"17px"}})}));var D=function(e){var n=e.closeClickHandler,t=H();return(0,i.jsxs)(O.p,{children:[(0,i.jsx)("img",{src:"/account-linking/manual-input.png",alt:"Bill blank with touching finger in green, outlined"}),(0,i.jsxs)("div",{"data-testid":"unreadable-file-message-container",className:t.oopsText,children:[(0,i.jsx)("div",{children:"Oops! We can't read the file."}),(0,i.jsx)("div",{children:"Please enter the data manually."})]}),(0,i.jsx)("div",{className:t.promiseText,children:"We promise, it will only take a minute!"}),(0,i.jsx)(I.a,{label:"Enter data manually",buttonProps:{"data-testid":"inter-data-button"}}),(0,i.jsx)(E.Z,{"aria-label":"close",size:"small",className:t.cloaseBtn,onClick:n,"data-testid":"close-button",children:(0,i.jsx)(R.Z,{})})]})},V=t(7590),W=(0,s.Z)((function(){return(0,c.Z)({content:{display:"flex",flexDirection:"column",alignSelf:"stretch",alignItems:"center"},description:{fontSize:"18px",lineHeight:"23px",textAlign:"center"},clarification:{color:"#848484",fontSize:"14px",lineHeight:"18px",textAlign:"center",maxWidth:"370px"},billUpload:{height:"200px",border:"1px dashed #B8B8B8",boxSizing:"border-box",borderRadius:"5px",alignSelf:"stretch",marginTop:"40px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},billUploadDescription:{color:"#48535A",fontSize:"14px",lineHeight:"22px"},billUploadButton:{"&:hover":{backgroundColor:"transparent"}},billUpploadLoading:{height:"70px"},billUploadUploadedImage:{cursor:"pointer"},billUploadContainer:{width:"auto"},billUploadLink:{padding:0},billUploadLinkText:{fontSize:"14px",lineHeight:"22px",textTransform:"none",textDecoration:"underline",color:"#3478F7"},note:{fontSize:"16px",lineHeight:"21px",fontWeight:400,color:"#929292",marginTop:"35px"},noteLink:{color:"#000000",textDecoration:"underline",cursor:"pointer"}})}));var F=function(e){var n=e.stepIndex,t=W(),r=(0,o.I0)(),s=(0,a.useState)(!1),c=s[0],l=s[1],d=(0,a.useState)(!1),m=d[0],p=d[1],f=(0,o.v9)((function(e){var n,t;return null===(n=e.accountLinking)||void 0===n||null===(t=n.bill)||void 0===t?void 0:t.isParsed})),g=(0,o.v9)((function(e){return e.externalData})),h=g.testCondition,v=g.testErrorCategory,x=g.campaignId,b=(0,o.v9)(V.jr),Z=(0,o.v9)(u.fv).distribution_company_id,E=(0,a.useCallback)(function(){var e=(0,U.Z)((function(e){var n,t;return(0,P.__generator)(this,(function(i){switch(i.label){case 0:n=e.target,l(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),t=n.files[0],[4,(0,M.ow)(t,Z,b,h,v)];case 2:return i.sent(),r((0,N.Cf)({isParsed:!0})),p(!0),r((0,N.sK)()),[3,4];case 3:return i.sent(),r((0,N.Cf)()),p(!0),[3,4];case 4:return l(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[r,l,p,Z,x]),w=(0,a.useCallback)((function(){r((0,N.dZ)(n+2))}),[n,r]),A=(0,a.useCallback)((function(){l(!1),p(!1)}),[l,p]),I=(0,a.useCallback)((function(){r((0,N.dZ)(n+1))}),[r,n]);return(0,a.useEffect)((function(){m&&f&&setTimeout((function(){r((0,N.dZ)(n+2))}),1e3)}),[n,m,f,r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j,{stepIndex:n,children:(0,i.jsxs)(y.Z,{component:"div",className:t.content,children:[(0,i.jsx)("div",{className:t.description,children:"Please upload your most recent Versant Power bill"}),(0,i.jsx)("div",{className:t.clarification,children:"The information we need will be automatically extracted from your bill if you provide a PDF file."}),(0,i.jsxs)("div",{className:t.billUpload,children:[!c&&!m&&(0,i.jsxs)(z.Z,{container:!0,wrap:"nowrap",alignItems:"center",className:t.billUploadContainer,children:[(0,i.jsx)(z.Z,{item:!0,children:(0,i.jsxs)(L.Z,{component:"label",className:t.billUploadButton,disableRipple:!0,"data-testid":"upload-button",children:[(0,i.jsx)("img",{src:"/account-linking/bill-upload.png",alt:"bill blank with uploading arrow in green, outlined"}),(0,i.jsx)("input",{type:"file",hidden:!0,multiple:!0,"data-testid":"upload-input",onChange:E})]})}),(0,i.jsxs)(z.Z,{container:!0,direction:"column",className:t.billUploadDescription,children:[(0,i.jsx)(z.Z,{item:!0,children:"Drag and drop files here or"}),(0,i.jsx)(z.Z,{item:!0,children:(0,i.jsxs)(L.Z,{component:"label",className:C()(t.billUploadButton,t.billUploadLink),disableRipple:!0,"data-testid":"upload-link-button",children:[(0,i.jsx)("span",{className:t.billUploadLinkText,children:"upload file"}),(0,i.jsx)("input",{type:"file",hidden:!0,multiple:!0,"data-testid":"upload-link-input",onChange:E})]})})]})]}),c&&!m&&(0,i.jsx)("img",{src:"/account-linking/bill-upload-loading.gif",alt:"two blue and green spheres circling",className:t.billUpploadLoading}),m&&f&&(0,i.jsx)("img",{src:"/account-linking/bill-upload-uploaded.png",alt:"green checkmark",className:t.billUploadUploadedImage,onClick:w})]}),(0,i.jsxs)("div",{className:t.note,children:["Or take a minute to"," ",(0,i.jsx)("span",{className:t.noteLink,onClick:I,"data-testid":"enter-data-manually-link",children:"enter the data manually"})]})]})}),m&&!f&&(0,i.jsx)(D,{closeClickHandler:A})]})},B=t(17867),Y=t(70753),q=(0,t(1591).Z)((function(){return{root:{color:"#368AF6",backgroundColor:"#fff","&:hover":{backgroundColor:"#fff"},border:"1px solid #368AF6",borderRadius:"20px 5px",height:"50px",fontSize:"16px",fontWeight:400,lineHeight:"15px",textTransform:"none",padding:"18px 50px"}}}))(L.Z);function Q(e){var n=e.label,t=e.clickCallback,r=(0,o.I0)(),s=(0,o.v9)((function(e){return e.accountLinking.stepIndex})),c=(0,a.useCallback)((function(){t&&t(),r((0,N.dZ)(s-1))}),[t,r,s]);return(0,i.jsx)(q,{variant:"contained",color:"primary",onClick:c,"data-testid":e["data-testid"],children:n})}var G=(0,s.Z)((function(){return(0,c.Z)({noteText:{marginTop:"45px",marginBottom:"45px",fontWeight:"normal",fontSize:"16px",lineHeight:"15px",textAlign:"center"},cloaseBtn:{position:"absolute",top:"17px",right:"17px"}})}));function K(e){var n=e.closeClickHandler,t=G(),r=(0,o.I0)(),s=(0,a.useCallback)((function(){r((0,N.Cf)())}),[r]);return(0,i.jsxs)(O.p,{children:[(0,i.jsx)("img",{src:"/account-linking/bill-remove.png"}),(0,i.jsx)("div",{"data-testid":"remove-bill-warning",className:t.noteText,children:"The information you entered will be removed."}),(0,i.jsx)(Q,{label:"Go back",clickCallback:s,"data-testid":"go-back-button"}),(0,i.jsx)(E.Z,{"aria-label":"close",size:"small",className:t.cloaseBtn,onClick:n,"data-testid":"close-button",children:(0,i.jsx)(R.Z,{})})]})}var J=t(86631),X=t(29525),$=t(88206),ee=t(86459),ne=(0,s.Z)((function(e){return(0,c.Z)({paper:{margin:"80px 10px"},paperWidthXs:(0,r.Z)({maxWidth:"calc(100% - 20px) !important"},e.breakpoints.up("md"),{maxWidth:"1250px !important"}),img:{width:"100%",margin:"82px 95px 135px"},cloaseBtn:{position:"absolute",top:"17px",right:"17px"}})}));function te(e){var n=e.isOpen,t=e.closeHandler,r=ne(),a=(0,$.c)($.A.needHelp);return(0,i.jsx)(J.Z,{open:n,onClose:t,scroll:"body",disableEnforceFocus:a,container:a?(0,ee.Ii)():void 0,maxWidth:"xs",classes:{paper:r.paper,paperWidthXs:r.paperWidthXs},children:(0,i.jsx)(X.Z,{children:(0,i.jsxs)(h.Z,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,i.jsx)("img",{src:"/account-linking/bill-example.png",className:r.img,alt:"bill example"}),(0,i.jsx)(E.Z,{"aria-label":"close",size:"small",className:r.cloaseBtn,onClick:t,"data-testid":"close-button",children:(0,i.jsx)(R.Z,{})})]})})})}var re,ie=(0,s.Z)((function(){return(0,c.Z)({content:{display:"flex",flexDirection:"column",alignSelf:"stretch",alignItems:"center"},form:{margin:"10px"},description:{fontSize:"18px",lineHeight:"18px",marginBottom:"5px",textAlign:"center"},descriptionLink:{fontSize:"14px",lineHeight:"15px",textDecoration:"underline",cursor:"pointer",color:"#8D8D8D",textAlign:"center",marginTop:"25px"},fields:{marginTop:"40px",marginBottom:"30px"},button:{padding:"0 80px"}})}));!function(e){e.accountNumber="utilityAccountNumber",e.nameOnAccount="billAccountName",e.chargesAmount="billNewCharges",e.dueDate="billDueDate"}(re||(re={}));var ae=function(e){var n=e.stepIndex,t=ie(),r=(0,o.I0)(),s=(0,I.j)(),c=(0,o.v9)((function(e){return e.accountLinking})).bill,l=(0,B.cI)({defaultValues:c,mode:"all"}),u=(0,a.useState)(!1),d=u[0],p=u[1],f=(0,a.useState)(!1),g=f[0],h=f[1],v=(0,a.useCallback)((function(e){r((0,N.Cf)(e)),s()}),[r]),x=l.register,b=(0,l.handleSubmit)(v),C=(0,a.useCallback)((function(){p(!0)}),[p]),Z=(0,a.useCallback)((function(){p(!1)}),[p]),E=(0,a.useCallback)((function(){return h(!0),!1}),[h]),w=(0,a.useCallback)((function(){h(!1)}),[h]);return(0,a.useEffect)((function(){x(re.accountNumber,{required:"Account Number is required"}),x(re.nameOnAccount,{required:"Name on the account is required"}),x(re.chargesAmount,{required:"New charges amount is required"}),x(re.dueDate,{required:"Bill due date is required"})}),[x]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j,{stepIndex:n,backButtonCallback:E,children:(0,i.jsx)(y.Z,{component:"div",className:t.content,children:(0,i.jsxs)("form",{id:"account-linking-check-info-form",className:t.form,children:[(0,i.jsx)("div",{className:t.description,children:"Enter the data as it appears on your"}),(0,i.jsx)("div",{className:t.description,children:"utility bill"}),(0,i.jsx)("div",{className:t.descriptionLink,onClick:C,"data-testid":"open-hint-modal",children:"Where can I find this information on my bill?"}),(0,i.jsxs)(z.Z,{container:!0,spacing:2,className:t.fields,children:[(0,i.jsx)(Y.yt,(0,m.Z)({testId:re.accountNumber,name:re.accountNumber,label:"Account Number",inputMode:"numeric",defaultValue:null===c||void 0===c?void 0:c.utilityAccountNumber},l)),(0,i.jsx)(Y.yt,(0,m.Z)({testId:re.nameOnAccount,name:re.nameOnAccount,label:"Name on the account",defaultValue:null===c||void 0===c?void 0:c.billAccountName},l)),(0,i.jsx)(Y.GP,(0,m.Z)({testId:re.chargesAmount,name:re.chargesAmount,label:"New charges amount",defaultValue:null===c||void 0===c?void 0:c.billNewCharges},l)),(0,i.jsx)(Y.I0,(0,m.Z)({testId:re.dueDate,name:re.dueDate,label:"Bill due date",defaultValue:null===c||void 0===c?void 0:c.billDueDate},l))]}),(0,i.jsx)("div",{className:t.button,children:(0,i.jsx)(I.a,{label:"Next",submitHandler:b,buttonProps:{"data-testid":"next-button"}})})]})})}),d&&(0,i.jsx)(te,{isOpen:d,closeHandler:Z}),g&&(0,i.jsx)(K,{closeClickHandler:w})]})},oe=t(25195);function se(e){var n=e.requestErrorModalsMap,t=(0,o.v9)(u.zh),r=(0,o.v9)((function(e){return e.accountLinking})).retryStepIndex,s=(0,o.I0)(),c=(0,a.useCallback)((function(){window.open("".concat("https://ampion.net","/contact-us"),"_blank")}),[]),d=(0,a.useCallback)((function(){s((0,N.dZ)(r)),s((0,u.MP)())}),[r]);if(!t)return null;var m=n[t.ErrorCategory];if(!m){var p=n[l.wA.LINKACCT_FAILED];return(0,i.jsx)(p,{tryClickCallback:d,contactUsClickCallback:c})}return(0,i.jsx)(m,{tryClickCallback:d,contactUsClickCallback:c})}var ce=(0,s.Z)((function(e){var n,t;return(0,c.Z)({loadingWrapper:(0,r.Z)({position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),"@keyframes ampion-logo-pulse":{"0%":{opacity:"0.3",transform:"scale(0.5)"},"50%":{opacity:"1",transform:"scale(1)"},"100%":{opacity:"0.3",transform:"scale(0.5)"}},ampionLogo:(0,r.Z)({width:"100px",animation:"$ampion-logo-pulse 2s infinite ease-out"},e.breakpoints.up("sm"),{width:"auto"}),loadingWrapperHideAnimation:{opacity:"0",transition:"opacity 1s"},loadingText:{fontSize:"12px",lineHeight:"17px",fontWeight:400,textAlign:"center",position:"absolute",top:"260px",width:"200px"},joinWrapper:(0,r.Z)({display:"flex",flexDirection:"column",position:"absolute",opacity:"0",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),joinWrapperAppearAnimation:{opacity:"1",transition:"opacity 2s"},joinWrapperHideAnimation:{opacity:"0",transition:"opacity 1s"},logos:(0,r.Z)({display:"flex",flexDirection:"row",margin:"0 44px"},e.breakpoints.up("sm"),{width:"540px",margin:"0"}),logo:{position:"relative","& img":(0,r.Z)({minWidth:"45px"},e.breakpoints.up("sm"),{minWidth:"100px"}),"&::after":(0,r.Z)({position:"absolute",top:"60px",left:0,fontSize:"14px",fontWeight:600,lineHeight:"21px",textAlign:"left"},e.breakpoints.up("sm"),{textAlign:"center",left:"50%",transform:"translateX(-50%)",minWidth:"100px",top:"110px"})},distCompTitle:{"&::after":{content:function(e){var n=e.distributionCompanyId;return"'".concat((0,_.o7)(n),"'")}}},ampionTitle:{"&::after":{content:"'Ampion'"}},distCompLogoAnimation:(n={transform:"translateX(calc(50vw - 44px - 22px))",transition:"transform 2s"},(0,r.Z)(n,e.breakpoints.up("sm"),{transform:"translateX(220px)"}),(0,r.Z)(n,"&::after",{opacity:"0",transition:"transform 2s, opacity 2s"}),n),ampionLogoAnimation:(t={transform:"translateX(calc(-50vw + 44px + 22px))",transition:"transform 2s"},(0,r.Z)(t,e.breakpoints.up("sm"),{transform:"translateX(-220px)"}),(0,r.Z)(t,"&::after",{opacity:"0",transition:"transform 2s, opacity 2s"}),t),cyberSecurity:{flexGrow:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},hrLine:{height:"9px",backgroundImage:"url(/account-linking/linking-arrow.png)",backgroundRepeat:"round",width:"100%",margin:"0 15px"},hrLineAnimation:{width:"0",transition:"width 1s"},namesAnimation:{width:"0",transition:"width 2s"},name:(0,r.Z)({minWidth:"45px",textAlign:"center"},e.breakpoints.up("sm"),{minWidth:"100px"}),successWrapper:{position:"absolute",opacity:"0",display:"flex",flexDirection:"column",alignItems:"center"},successWrapperAppearAnimation:{opacity:"1",transition:"opacity 2s"},successText:{fontSize:"18px",lineHeight:"25px",fontWeight:400,textAlign:"center",position:"absolute",top:"150px",width:"320px",maxWidth:"100vw",transform:"translateY(100%)"},hoorayTextWrapper:{marginBottom:"35px"},hoorayText:{fontSize:"24px",lineHeight:"27px",fontWeight:700,color:"#0089FE"},successTextAppearAnimation:{transform:"translateY(0)",transition:"transform 2s"},successImg:(0,r.Z)({width:"55px"},e.breakpoints.up("sm"),{width:"124px"})})}));function le(e){var n=e.requestErrorModalsMap,t=(0,o.v9)((function(e){return e.accountLinking})).complete,s=(0,o.v9)(u.zh),c=(0,o.v9)(u.fv).distribution_company_id,l=ce({distributionCompanyId:c}),d=(0,a.useState)(!1),m=d[0],p=d[1],f=(0,a.useState)(!1),g=f[0],h=f[1],v=(0,a.useState)(!1),x=v[0],b=v[1],E=(0,o.I0)(),w=(0,a.useCallback)((function(){var e;p(!0);var n=setTimeout((function(){h(!0),e=setTimeout((function(){b(!0)}),2e3)}),2e3);return function(){clearTimeout(n),clearTimeout(e)}}),[p,h,b]);(0,a.useEffect)((function(){var e=setTimeout((function(){if(t)return w();E((0,oe.WM)())}),2e3);return function(){clearTimeout(e)}}),[t,E,w]);var N,A=C()(l.loadingWrapper,(0,r.Z)({},l.loadingWrapperHideAnimation,m||x)),j=C()(l.hrLine,(0,r.Z)({},l.hrLineAnimation,g)),I=C()(l.logo,l.distCompTitle,(0,r.Z)({},l.distCompLogoAnimation,g)),k=C()(l.logo,l.ampionTitle,(0,r.Z)({},l.ampionLogoAnimation,g)),_=C()(l.logos),T=C()(l.joinWrapper,(N={},(0,r.Z)(N,l.joinWrapperAppearAnimation,m),(0,r.Z)(N,l.joinWrapperHideAnimation,x),N)),S=C()(l.successWrapper,(0,r.Z)({},l.successWrapperAppearAnimation,x)),U=C()(l.successText,(0,r.Z)({},l.successTextAppearAnimation,x));return(0,i.jsxs)(i.Fragment,{children:[!s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:A,children:(0,i.jsx)("img",{alt:"ampion-logo-rounded",src:"/account-linking/logo-rounded.png",className:l.ampionLogo})}),(0,i.jsx)(y.Z,{component:"div",className:T,children:(0,i.jsxs)("div",{className:_,children:[(0,i.jsx)("div",{className:I,children:(0,i.jsx)("img",{alt:"dist-company-logo",src:(0,Z.D1)(c,!0)})}),(0,i.jsxs)("div",{className:l.cyberSecurity,children:[(0,i.jsx)("div",{className:j}),(0,i.jsx)("img",{alt:"security-icon",src:"/account-linking/cyber-security-locked.png"}),(0,i.jsx)("div",{className:j})]}),(0,i.jsx)("div",{className:k,children:(0,i.jsx)("img",{alt:"ampion-logo",src:"/account-linking/ampion-logo.svg"})})]})}),(0,i.jsxs)("div",{className:S,children:[(0,i.jsx)("img",{alt:"success-animation",src:"/account-linking/link-success.gif",className:l.successImg}),(0,i.jsxs)(y.Z,{component:"div",className:U,children:[(0,i.jsxs)("div",{className:l.hoorayTextWrapper,children:[(0,i.jsx)("div",{className:l.hoorayText,children:"Hooray!"}),(0,i.jsx)("div",{className:l.hoorayText,children:"We are connected"})]}),(0,i.jsx)("div",{children:"Thanks for continuing to be a part of the"}),(0,i.jsx)("div",{children:"smarter, cleaner, greener choice."})]})]})]}),(0,i.jsx)(se,{requestErrorModalsMap:n})]})}var ue=(0,s.Z)((function(){return(0,c.Z)({noteText:{marginTop:"29px",marginBottom:"36px",fontWeight:"normal",fontSize:"16px",lineHeight:"20px",textAlign:"center"}})}));var de=function(e){var n=e.contactUsClickCallback,t=ue();return(0,i.jsxs)(O.p,{children:[(0,i.jsx)("img",{src:"/account-linking/already-linked.png",alt:"shield outlined"}),(0,i.jsx)("div",{className:t.noteText,children:"Your account is already linked! If you have any questions or concerns, please use the \u201cContact Us\u201d button."}),(0,i.jsx)(I.a,{label:"Contact Us",submitHandler:n,notStretched:!0,buttonProps:{"data-testid":"contact-us-button"}})]})},me=t(48327),pe=(0,s.Z)((function(){return(0,c.Z)({noteText:{marginTop:"29px",marginBottom:"36px",fontWeight:"normal",fontSize:"16px",lineHeight:"20px",textAlign:"center"}})}));var fe=function(e){var n=e.tryClickCallback,t=pe();return(0,i.jsxs)(O.p,{children:[(0,i.jsx)("img",{src:"/account-linking/incorrect-info.png",alt:"blank with question mark outlined"}),(0,i.jsx)("div",{className:t.noteText,children:"Sorry, but we could not read the bill attachment. Please enter the information manually."}),(0,i.jsx)(I.a,{label:"Try again",submitHandler:n,notStretched:!0,buttonProps:{"data-testid":"try-again-button"}})]})},ge=t(37426),he=(0,s.Z)((function(){return(0,c.Z)({noteText:{marginTop:"29px",marginBottom:"36px",fontWeight:"normal",fontSize:"16px",lineHeight:"20px",textAlign:"center"}})}));var ve,xe=function(e){var n=e.contactUsClickCallback,t=e.tryClickCallback,r=he(),a=(0,o.v9)((function(e){return e.accountLinking})).landingSource;return(0,i.jsxs)(O.p,{children:[(0,i.jsx)("img",{src:"/account-linking/incorrect-info.png",alt:"blank with question mark outlined"}),(0,i.jsx)("div",{"data-testid":"account-not-linkeable-message",className:r.noteText,children:"The utility did not accept the account linking request. If you would still like to try to link your account, please use the \u201cContact Us\u201d button."}),a===k.D.enrollment&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I.a,{label:"Try again",submitHandler:t,notStretched:!0,buttonProps:{"data-testid":"try-again-button"}}),(0,i.jsx)(ge.Z,{pb:"20px"})]}),(0,i.jsx)(I.a,{label:"Contact Us",submitHandler:n,notStretched:!0,buttonProps:{"data-testid":"contact-us-button"}})]})},ye=(0,s.Z)((function(){return(0,c.Z)({enterForward:{opacity:"0",transform:"translateX(100%)"},enterActiveForward:{opacity:"1",transform:"translateX(0%)",transition:"opacity 500ms, transform 500ms"},exitForward:{opacity:"1",transform:"translateX(0%)"},exitActiveForward:{opacity:"0",transition:"opacity 500ms"},exitBack:{opacity:"1"},exitActiveBack:{opacity:"0",transition:"opacity 500ms"},enterBack:{opacity:"0",transform:"translateX(-100%)"},enterActiveBack:{opacity:"1",transform:"translateX(0%)",transition:"opacity 500ms, transform 500ms"},enterFinish:{opacity:"0",transform:"scale(0.5, 0.5)"},enterActiveFinish:{opacity:"1",transform:"scale(1, 1)",transition:"opacity 500ms, transform 500ms"}})})),be=[{Component:S},{Component:F,isMultiNodeTransition:!0},{Component:ae,isMultiNodeTransition:!0},{Component:le,extraProps:{requestErrorModalsMap:(ve={},(0,r.Z)(ve,l.wA.ACCT_ALREADY_LINKED,de),(0,r.Z)(ve,l.wA.ACCT_INPUT_INVALID,fe),(0,r.Z)(ve,l.wA.ACCT_NOT_LINKABLE,xe),(0,r.Z)(ve,l.wA.LINKACCT_FAILED,me.Z),ve)}}];function Ce(e,n){return n?Array.from(e.parentNode.childNodes):[e]}var Ze,Ee=function(e){var n=e.steps,t=(0,a.useState)(0),r=t[0],s=t[1],c=(0,a.useState)(!0),l=c[0],u=c[1],d=(0,o.v9)((function(e){return e.accountLinking.stepIndex})),g=ye(),h=n[d],v=(0,a.useCallback)((function(e){var t=Ce(e,h.isMultiNodeTransition);d===n.length-1?t.map((function(e){return e.classList.add(g.enterFinish)})):t.map((function(e){return e.classList.add(l?g.enterForward:g.enterBack)}))}),[l,d,n,h,g]),y=(0,a.useCallback)((function(e){var t=Ce(e,h.isMultiNodeTransition);d===n.length-1?t.map((function(e){return e.classList.add(g.enterActiveFinish)})):t.map((function(e){return e.classList.add(l?g.enterActiveForward:g.enterActiveBack)})),s(d)}),[l,d,s,n,h,g]),b=(0,a.useCallback)((function(e){Ce(e,h.isMultiNodeTransition).map((function(e){return e.classList.add(l?g.exitForward:g.exitBack)}))}),[l,h,g]),C=(0,a.useCallback)((function(e){Ce(e,h.isMultiNodeTransition).map((function(e){return e.classList.add(l?g.exitActiveForward:g.exitActiveBack)}))}),[l,h,g]);return(0,a.useEffect)((function(){r!==d&&u(d>r)}),[r,d,u]),(0,i.jsx)(x,{children:(0,i.jsx)(p.Z,{children:(0,i.jsx)(f.Z,{timeout:500,onEnter:v,onEntering:y,onExit:b,onExiting:C,children:(0,i.jsx)(h.Component,(0,m.Z)({stepIndex:r},h.extraProps))},d)})})},we=t(56393),Ne=(0,s.Z)((function(e){return(0,c.Z)({content:{display:"flex",flexDirection:"column",alignSelf:"stretch",alignItems:"center"},distLogo:{width:"170px",marginBottom:"11px"},form:{margin:"10px"},description:{fontSize:"18px",lineHeight:"26px",marginBottom:"17px",textAlign:"center"},note:{fontSize:"16px",lineHeight:"23px",textAlign:"center",padding:"6px 12px",color:e.palette.orange.main,backgroundColor:e.palette.serenade.main,borderRadius:"5px"},descriptionLink:{fontSize:"14px",lineHeight:"15px",textDecoration:"underline",cursor:"pointer",color:e.palette.gray.dark,textAlign:"center",marginTop:"25px"},fields:{marginTop:"28px",marginBottom:"30px"},button:{margin:e.spacing(0,"auto"),maxWidth:400},forgotLink:{textAlign:"right",marginTop:"9px",marginBottom:"41px",fontSize:"14px",lineHeight:"20px","& a":{color:e.palette.blackDark.light}}})}));!function(e){e.utilityUsername="utilityUsername",e.utilityPassword="utilityPassword"}(Ze||(Ze={}));var Ae=function(e){var n=e.stepIndex,t=Ne(),r=(0,o.I0)(),s=(0,I.j)(),c=(0,o.v9)(u.fv).distribution_company_id,l=(0,o.v9)(u.dy),d=(0,B.cI)({defaultValues:l,mode:"all"}),m=(0,a.useState)(!1),p=m[0],f=m[1],g=(0,a.useCallback)((function(e){r((0,u.av)(e)),s()}),[r,s]),h=d.register,v=d.handleSubmit,x=d.unregister,b=d.errors,C=d.setValue,E=d.watch,w=d.trigger,N=d.clearErrors,A=d.getValues,k=v(g),T=(0,a.useCallback)((function(){return f(!0),!1}),[f]),S=(0,a.useCallback)((function(){f(!1)}),[f]);(0,a.useEffect)((function(){h(Ze.utilityUsername,{required:"Username is required"}),h(Ze.utilityPassword,{required:"Password is required"})}),[h]);var U=_.lj[c],P=(0,Z.D1)(c),L=(0,_.Nv)(c),M=Z.c4[c],R="Enter Your ".concat(L," Username & Password"),O="Username | ".concat(L),H="Password | ".concat(L),D="Forgot ".concat(M," Username or Password?");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j,{stepIndex:n,backButtonCallback:T,children:(0,i.jsxs)(y.Z,{component:"div",className:t.content,children:[(0,i.jsx)("img",{alt:"logo",className:t.distLogo,src:P}),(0,i.jsxs)("form",{id:"account-linking-check-info-form",className:t.form,children:[(0,i.jsx)(y.Z,{className:t.description,children:R}),(0,i.jsx)(y.Z,{className:t.note,children:"*Do Not Input Ampion Login Credentials"}),(0,i.jsxs)(z.Z,{container:!0,spacing:2,className:t.fields,children:[(0,i.jsx)(Y.yt,{"data-testid":Ze.utilityUsername,name:Ze.utilityUsername,label:O,defaultValue:null===l||void 0===l?void 0:l.utilityUsername,register:h,unregister:x,errors:b,setValue:C,watch:E,trigger:w,clearErrors:N,getValues:A}),(0,i.jsx)(Y.yt,{"data-testid":Ze.utilityPassword,name:Ze.utilityPassword,type:"password",label:H,defaultValue:null===l||void 0===l?void 0:l.utilityPassword,register:h,unregister:x,errors:b,setValue:C,watch:E,trigger:w,clearErrors:N,getValues:A})]}),U&&(0,i.jsx)(y.Z,{className:t.forgotLink,children:(0,i.jsx)("a",{href:U,target:"_blank",rel:"noreferrer",children:D})}),(0,i.jsx)(we.Z,{label:"Next",submitHandler:k,buttonStyle:"halfrounded"})]})]})}),p&&(0,i.jsx)(K,{closeClickHandler:S})]})},je=(0,s.Z)((function(e){return(0,c.Z)({noteText:{marginTop:"29px",marginBottom:"36px",fontWeight:"normal",fontSize:"16px",lineHeight:"20px",textAlign:"center"},forgotLink:{color:e.palette.grayDark.main,fontSize:14,marginTop:e.spacing(4)}})}));var Ie,ke=function(e){var n=e.tryClickCallback,t=je(),r=(0,o.v9)(u.fv).distribution_company_id,a=Z.c4[r],s=_.lj[r];return(0,i.jsxs)(O.p,{children:[(0,i.jsx)("img",{src:"/account-linking/incorrect-info.png",alt:"blank with question mark outlined"}),(0,i.jsx)(y.Z,{"data-testid":"account-not-linkeable-message",className:t.noteText,children:"The username / password is incorrect."}),(0,i.jsxs)(y.Z,{"data-testid":"account-not-linkeable-message",className:t.noteText,children:["Please make sure to provide your current"," ",a," ","credentials."]}),(0,i.jsx)(I.a,{label:"Try again",submitHandler:n,notStretched:!0,buttonProps:{"data-testid":"try-again-button"}}),s&&(0,i.jsxs)("a",{href:s,target:"_blank",className:t.forgotLink,rel:"noreferrer",children:["Forgot"," ",a," ","Username or Password?"]})]})},_e=[{Component:S},{Component:Ae,isMultiNodeTransition:!0},{Component:le,extraProps:{requestErrorModalsMap:(Ie={},(0,r.Z)(Ie,l.wA.ACCT_ALREADY_LINKED,de),(0,r.Z)(Ie,l.wA.ACCT_INPUT_INVALID,fe),(0,r.Z)(Ie,l.wA.ACCT_NOT_LINKABLE,ke),(0,r.Z)(Ie,l.wA.LINKACCT_FAILED,me.Z),Ie)}}],Te=(0,s.Z)((function(){return(0,c.Z)({noteText:{marginTop:"29px",marginBottom:"36px",fontWeight:"normal",fontSize:"16px",lineHeight:"20px",textAlign:"center"}})}));var Se,Ue=function(e){var n=e.contactUsClickCallback,t=Te();return(0,i.jsxs)(O.p,{children:[(0,i.jsx)("img",{src:"/account-linking/incorrect-info.png",alt:"blank with question mark outlined"}),(0,i.jsx)("div",{className:t.noteText,children:"We do not support account linking with your utility at this time."}),(0,i.jsx)(I.a,{label:"Need help?",submitHandler:n,notStretched:!0,buttonProps:{"data-testid":"contact-us-button"}})]})},Pe=(Se={},(0,r.Z)(Se,l.hk.Versant,{flowComponent:Ee,steps:be,retryStepIndex:2}),(0,r.Z)(Se,l.hk.Credentials,{flowComponent:Ee,steps:_e,retryStepIndex:1}),(0,r.Z)(Se,l.hk.CredentialsOnly,{flowComponent:Ee,steps:_e,retryStepIndex:1}),Se),ze=(0,s.Z)((function(e){return(0,c.Z)({"@global":{body:{paddingRight:0,overflow:"initial !important"}},modalContainer:{flexGrow:1,display:"flex",flexDirection:"column",margin:e.spacing(0,1.25),paddingTop:0,justifyContent:"center"}})}));var Le=function(){var e=ze(),n=(0,o.I0)(),t=(0,o.v9)(u.fv).workflow,r=(0,o.v9)(u.vS),s=Pe[t]||{},c=s.flowComponent,m=s.steps,p=s.retryStepIndex,f=t===l.hk.None,g=(0,a.useCallback)((function(){n((0,N.dZ)(p)),n((0,u.Py)())}),[n,p]),h=(0,a.useCallback)((function(){window.open("".concat("https://ampion.net","/contact-us"),"_blank")}),[]);return(0,a.useEffect)((function(){n((0,oe.cS)())}),[n]),(0,a.useEffect)((function(){p>=0&&n((0,N.mf)(p))}),[n,p]),(0,i.jsxs)("div",{className:e.modalContainer,children:[!f&&t&&(0,i.jsx)(c,{steps:m}),r&&(0,i.jsx)(me.Z,{tryClickCallback:g,contactUsClickCallback:h}),f&&(0,i.jsx)(Ue,{contactUsClickCallback:h}),(0,i.jsx)(d.Z,{})]})}},66665:function(e,n,t){t.d(n,{$n:function(){return o},Cd:function(){return r},H7:function(){return a},nK:function(){return i},qu:function(){return s}});var r="ACCOUNT_LINKING_SET_STEP_INDEX",i="ACCOUNT_LINKING_SET_BILL",a="ACCOUNT_LINKING_SET_COMPLETE",o="ACCOUNT_LINKING_SET_RETRY_STEP_INDEX",s="ACCOUNT_LINKING_SET_LANDING_SOURCE"},42242:function(e,n,t){t.d(n,{Cf:function(){return a},LC:function(){return c},dZ:function(){return i},mf:function(){return s},sK:function(){return o}});var r=t(66665);function i(e){return{type:r.Cd,payload:e}}function a(e){return{type:r.nK,payload:e}}function o(){return{type:r.H7}}function s(e){return{type:r.$n,payload:e}}function c(e){return{type:r.qu,payload:e}}},25195:function(e,n,t){t.d(n,{WM:function(){return f},M:function(){return p},cS:function(){return g}});var r=t(47568),i=t(20414),a=t(17830),o=t(57785),s=t(52273),c=t(31456),l={NatGrid:[4,8],CMP:[29],Versant:[30],Eversource:[1,2],SCE:[36],Comed:[33]},u=t(42242),d=t(56255),m=t(7590),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,t){var r=t(),i=r.enrollment.utilities,a=r.accountLinking.complete,o=r.externalData,s=o.campaignId,d=o.testCondition,m=o.testErrorCategory,p=r.connectUtility.workflowInfo,f=p.workflow,g=p.campaign_id;a||i.forEach((function(t){var r=t.accountNumber,i=t.serviceAddressZipCode,a=t.utilityId,o=t.finalDistributionCompanyId,p=null===r||void 0===r?void 0:r.replace(/\D/g,"");e&&l.Eversource.includes(parseInt(a,10))&&((0,c.Ei)({distributionCompanyId:o,utilityAccountNumber:p,billZip:i,campaignId:s||g,testCondition:d,testErrorCategory:m,workflow:f}),n((0,u.sK)()))}))}},f=function(){return function(e,n){var t=n(),c=(0,o.fv)(t),l=c.workflow,d=c.distribution_company_id,p=(0,o.dy)(t),f=(0,m.jr)(t),g=(0,m.KT)(t),h=t.accountLinking.bill,v=t.externalData,x=v.testCondition,y=v.testErrorCategory;if(!(h&&!h.isParsed||p))return!1;var b=window.location.search;return(0,s.rK)("/api/account-linking".concat(b),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({bill:h,user:p,distributionCompanyId:d,campaignId:f,testCondition:x,testErrorCategory:y,workflow:l,customerType:g})}).then(function(){var n=(0,r.Z)((function(n){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n.ok?[2,e((0,u.sK)())]:[4,n.json()];case 1:return(t=r.sent()).ErrorCategory&&t.ErrorCategory===a.wA.LINKACCT_FAILED&&l===a.hk.Credentials?[2,e((0,u.sK)())]:[2,e((0,o.MP)(t))]}}))}));return function(e){return n.apply(this,arguments)}}()).catch((function(){e((0,o.fL)(!0))}))}},g=function(e){return function(){var n=(0,r.Z)((function(n,t){var r,a,s,u,m,p,f,g;return(0,i.__generator)(this,(function(i){return r=t(),a=r.externalData,s=a.distributionCompanyId,u=(0,o.fv)(r),m=u.workflow,p=u.distribution_company_id,m&&!e?[2,!1]:(f=(0,d.Hn)(r),g=s||p||l.Versant[0],[2,(0,c.BX)(Number(g),f).then((function(e){n((0,o.ur)(e))}))])}))}));return function(e,t){return n.apply(this,arguments)}}()}},34516:function(e,n,t){t.d(n,{a:function(){return d},j:function(){return u}});var r=t(85893),i=t(67294),a=t(25617),o=t(41120),s=t(30889),c=t(42242),l=(0,o.Z)({root:function(e){return{height:"50px",borderRadius:"20px 5px",padding:e.notStretched?"18px 45px":"0"}}});function u(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.accountLinking.stepIndex}));return(0,i.useCallback)((function(){e((0,c.dZ)(n+1))}),[e,n])}function d(e){var n=e.label,t=e.submitHandler,i=void 0===t?void 0:t,a=e.notStretched,o=void 0!==a&&a,c=e.buttonProps,d=void 0===c?{}:c,m=l({notStretched:o}),p=u();return(0,r.jsx)(s.Z,{actionCallback:p,className:m.root,label:n,submitHandler:i,notStretched:o,buttonProps:d})}},62423:function(e,n,t){t.d(n,{p:function(){return p}});var r=t(14924),i=t(85893),a=t(41120),o=t(75154),s=t(5566),c=t(50253),l=t(22318),u=(t(67294),t(88206)),d=t(86459),m=(0,a.Z)((function(e){var n;return(0,o.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(n={position:"relative",width:"calc(100vw - 20px)",backgroundColor:e.palette.white.main,backgroundRepeat:"no-repeat",backgroundPosition:"bottom 10px left 0",boxShadow:"0px 34px 34px rgba(0, 0, 0, 0.05)",borderRadius:"10px"},(0,r.Z)(n,e.breakpoints.up("sm"),{width:"500px"}),(0,r.Z)(n,e.breakpoints.up("md"),{width:"500px"}),n),innerWrapper:(0,r.Z)({display:"flex",flexDirection:"column",alignItems:"center",margin:"90px 28px"},e.breakpoints.up("sm"),{margin:"90px"})})}));function p(e){var n=e.children,t=m(),r=(0,u.c)(u.A.needHelp);return(0,i.jsx)(s.Z,{open:!0,disablePortal:!0,disableEnforceFocus:r,container:r?(0,d.Ii)():void 0,children:(0,i.jsx)(c.Z,{justifyContent:"center",flexDirection:"column",className:t.wrapper,children:(0,i.jsx)("div",{className:t.modal,children:(0,i.jsx)(l.Z,{component:"div",className:t.innerWrapper,children:n})})})})}},48327:function(e,n,t){var r=t(85893),i=t(41120),a=t(75154),o=(t(67294),t(25617)),s=t(57785),c=t(62423),l=t(34516),u=t(37426),d=t(81133),m=(0,i.Z)((function(){return(0,a.Z)({noteText:{marginTop:"29px",marginBottom:"36px",fontWeight:"normal",fontSize:"16px",lineHeight:"20px",textAlign:"center"}})}));n.Z=function(e){var n=e.tryClickCallback,t=e.contactUsClickCallback,i=m(),a=(0,o.v9)(s.fv).distribution_company_id;return(0,r.jsxs)(c.p,{children:[(0,r.jsx)("img",{src:"/account-linking/trouble.png",alt:"cloud with x mark outlined"}),(0,r.jsx)("div",{"data-testid":"account-linking-failed-message",className:i.noteText,children:(0,r.jsx)(d.Ol,{id:a})}),(0,r.jsx)(l.a,{label:"Try again",submitHandler:n,buttonProps:{"data-testid":"try-again-button"}}),(0,r.jsx)(u.Z,{pb:"20px"}),(0,r.jsx)(l.a,{label:"Contact Us",submitHandler:t,buttonProps:{"data-testid":"contact-us-button"}})]})}},90699:function(e,n,t){t.d(n,{E:function(){return o}});var r=t(26042),i=t(69396),a=t(66665),o={stepIndex:0,complete:!1,landingSource:t(56168).D.direct};n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case a.Cd:return(0,i.Z)((0,r.Z)({},e),{stepIndex:n.payload});case a.nK:return(0,i.Z)((0,r.Z)({},e),{bill:n.payload});case a.H7:return(0,i.Z)((0,r.Z)({},e),{complete:!0});case a.$n:return(0,i.Z)((0,r.Z)({},e),{retryStepIndex:n.payload});case a.qu:return(0,i.Z)((0,r.Z)({},e),{landingSource:n.payload});default:return e}}},31456:function(e,n,t){t.d(n,{BX:function(){return u},Ei:function(){return l},ow:function(){return s}});var r=t(47568),i=t(20414),a=t(4612),o=t(52273);function s(e,n,t,r,i){return c.apply(this,arguments)}function c(){return c=(0,r.Z)((function(e,n,t,a,o){return(0,i.__generator)(this,(function(s){return[2,new Promise((function(s,c){var l=window.location.search,u=new FormData;u.append("bill",e),u.append("distributionCompanyId",n.toString()),u.append("campaignId",t),u.append("testCondition",a),u.append("testErrorCategory",o),fetch("/api/account-linking".concat(l),{method:"POST",body:u}).then(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){return e.ok?[2,s()]:[2,c()]}))}));return function(n){return e.apply(this,arguments)}}()).catch(c)}))]}))})),c.apply(this,arguments)}function l(e){return new Promise((function(n,t){var a=window.location.search;(0,o.rK)("/api/account-linking".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){var e=(0,r.Z)((function(e){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.ok?[2,n()]:[4,e.json()];case 1:return r=i.sent(),[2,t(r)]}}))}));return function(n){return e.apply(this,arguments)}}()).catch(t)}))}function u(e,n){return(0,o.rK)("".concat(o.Gy,"/").concat(o.iA,"/").concat(e,"/linking").concat(n?"?vid=".concat(n):"")).then((function(e){return e.ok?e.json():{error:new Error("Bad response from server: ".concat(e.statusText," (").concat(e.status,")"))}})).catch((function(e){return a.p.notify({message:"Failed to process request to load account linking flow info: ".concat(e)}),{error:e}}))}},7590:function(e,n,t){t.d(n,{KT:function(){return c},jr:function(){return o},ux:function(){return s}});var r=t(68697),i=t(17830),a=t(56168),o=(0,r.P1)((function(e){return e.externalData}),(function(e){return e.accountLinking}),(function(e){var n;return null===(n=e.connectUtility)||void 0===n?void 0:n.workflowInfo}),(function(e,n,t){var r=e.CampaignId,i=n.landingSource,o=t.campaign_id;return i===a.D.direct?r:r||o})),s=(0,r.P1)((function(e){var n;return null===(n=e.connectUtility)||void 0===n?void 0:n.workflowInfo}),(function(e){var n=e.workflow,t=e.enrollment_step;return n!==i.hk.None&&t===i.Ts.ENROLLMENT_END})),c=(0,r.P1)((function(e){return e.wizard.customerType}),(function(e){return e.externalData.customerType}),(function(e,n){return n||e}))},56168:function(e,n,t){var r;t.d(n,{D:function(){return r}}),function(e){e[e.enrollment=0]="enrollment",e[e.email=1]="email",e[e.direct=2]="direct"}(r||(r={}))},49609:function(e,n,t){t.d(n,{Vj:function(){return m},Yv:function(){return l},c2:function(){return i},f3:function(){return o},ij:function(){return u},jc:function(){return s},tA:function(){return d},wR:function(){return a},wl:function(){return c}});var r=t(26594),i=(0,r.PH)("agentInvitation/continue/incompleteEnrollment"),a=(0,r.PH)("agentInvitation/continue/completeEnrollment"),o=(0,r.PH)("agentInvitation/trigger/creditCheck"),s=(0,r.PH)("agentInvitation/cancel/creditCheck"),c=(0,r.PH)("agentInvitation/trigger/lmiQualificationCleanup"),l=(0,r.PH)("agentInvitation/trigger/billCleanup"),u=(0,r.PH)("agentInvitation/trigger/handleUtilityCompanyChange"),d=(0,r.PH)("agentInvitation/trigger/triggerUtilityAccountCleanup"),m=(0,r.PH)("agentInvitation/continue/enrollmentSubmission")},34322:function(e,n,t){t.d(n,{EK:function(){return f},FO:function(){return l},FS:function(){return Z},KP:function(){return b},LY:function(){return N},M8:function(){return x},NR:function(){return T},QL:function(){return g},SJ:function(){return m},Sb:function(){return i},Sz:function(){return h},TL:function(){return o},TR:function(){return I},X1:function(){return u},XL:function(){return s},_F:function(){return a},dm:function(){return _},dn:function(){return E},j7:function(){return A},n0:function(){return v},n1:function(){return d},nn:function(){return y},wE:function(){return w},wR:function(){return j},wc:function(){return k},wg:function(){return c},xi:function(){return C},xk:function(){return p}});var r=t(26594),i=(0,r.PH)("agentInvitation/set/createAgentInvitationInitialEnrollment"),a=(0,r.PH)("agentInvitation/set/createAgentInvitationInitialEnrollmentSuccess"),o=(0,r.PH)("agentInvitation/set/createAgentInvitationInitialEnrollmentFailure"),s=(0,r.PH)("agentInvitation/set/updateAgentInvitationInitialEnrollment"),c=(0,r.PH)("agentInvitation/set/updateAgentInvitationInitialEnrollmentSuccess"),l=(0,r.PH)("agentInvitation/set/createAgentInvitationFullEnrollmentFailure"),u=(0,r.PH)("agentInvitation/set/isAgentInvitationEnrollmentBeingContinued"),d=(0,r.PH)("agentInvitation/reset/initialEnrollmentError"),m=(0,r.PH)("agentInvitation/set/isCreditCheckLoading"),p=(0,r.PH)("agentInvitation/set/isCreditCheckSuccessful"),f=(0,r.PH)("agentInvitation/set/creditCheckFalied"),g=(0,r.PH)("agentInvitation/set/clearCreditCheckStatus"),h=(0,r.PH)("agentInvitation/set/creditCheckStatus"),v=(0,r.PH)("agentInvitation/set/isInitialEnrollmentBeingCreated"),x=(0,r.PH)("agentInvitation/set/checkUtilityValidity"),y=(0,r.PH)("agentInvitation/set/checkUtilityValidityCheckResult"),b=(0,r.PH)("agentInvitation/add/utilityAccountDataRow"),C=(0,r.PH)("agentInvitation/set/utilityAccountData"),Z=(0,r.PH)("agentInvitation/set/utilityAccountError"),E=(0,r.PH)("agentInvitation/delete/utilityAccountDataRow"),w=(0,r.PH)("agentInvitation/reset/utilityAccount"),N=(0,r.PH)("agentInvitation/set/relatedUtilityCompanyInfo"),A=(0,r.PH)("agentInvitation/add/addLMIQualificationtDataRow"),j=(0,r.PH)("agentInvitation/set/LMIQualificationData"),I=(0,r.PH)("agentInvitation/set/LMIQualificationDataError"),k=(0,r.PH)("agentInvitation/delete/LMIQualificationDataRow"),_=(0,r.PH)("agentInvitation/reset/LMIQualificationData"),T=(0,r.PH)("agentInvitation/cancel/enrollmentSubmission")},5318:function(e,n,t){t.d(n,{E:function(){return m}});var r=t(26042),i=t(69396),a=t(26594),o=t(82119),s=t(52273),c=t(15186),l=t(34322),u=function(){return{id:(0,s.Fs)(),accountNumber:"",bills:[],errors:{}}},d=function(){return{id:(0,s.Fs)(),category:o.e3.program,categoryTitle:o.e9.program,type:"",verificationMethod:"",supportingDocs:[],errors:{}}},m={isInitialEnrollmentBeingCreated:!1,isInitialEnrollmentBeingUpdated:!1,isAgentInvitationEnrollmentBeingContinued:!1,isUtilityValidityBeingChecked:!1,utilityAccounts:[u()],LMIQualifications:[d()]},p=(0,a.Lq)(m,(function(e){e.addCase(l.Sb,(function(e){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingCreated:!0,enrollment:void 0,initialEnrollmentError:void 0})})),e.addCase(l._F,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingCreated:!1,enrollment:n.payload,initialEnrollmentError:void 0})})),e.addCase(l.TL,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingCreated:!1,enrollment:void 0,initialEnrollmentError:n.payload})})),e.addCase(l.n1,(function(e){return(0,i.Z)((0,r.Z)({},e),{initialEnrollmentError:void 0})})),e.addCase(l.XL,(function(e){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingUpdated:!0,initialEnrollmentUpdateError:void 0})})),e.addCase(l.NR,(function(e){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingUpdated:!1})})),e.addCase(l.wg,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingUpdated:!1,enrollment:n.payload,initialEnrollmentUpdateError:void 0})})),e.addCase(l.FO,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingUpdated:!1,initialEnrollmentUpdateError:n.payload})})),e.addCase(l.X1,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isAgentInvitationEnrollmentBeingContinued:n.payload})})),e.addCase(l.SJ,(function(e){return(0,i.Z)((0,r.Z)({},e),{creditCheckStatus:c.i.Loading})})),e.addCase(l.xk,(function(e){return(0,i.Z)((0,r.Z)({},e),{creditCheckStatus:c.i.Success})})),e.addCase(l.EK,(function(e){return(0,i.Z)((0,r.Z)({},e),{creditCheckStatus:c.i.Failed})})),e.addCase(l.QL,(function(e){return(0,i.Z)((0,r.Z)({},e),{creditCheckStatus:void 0})})),e.addCase(l.Sz,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{creditCheckStatus:n.payload})})),e.addCase(l.n0,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isInitialEnrollmentBeingCreated:n.payload})})),e.addCase(l.M8,(function(e){return(0,i.Z)((0,r.Z)({},e),{isUtilityValidityBeingChecked:!0})})),e.addCase(l.nn,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{utilityValidationDetails:n.payload,isUtilityValid:n.payload.valid,isUtilityValidityBeingChecked:!1})})),e.addCase(l.xi,(function(e,n){var t=n.payload,a=t.data,o=t.index;return e.utilityAccounts[o]=(0,i.Z)((0,r.Z)({},a),{errors:{}}),e})),e.addCase(l.FS,(function(e,n){var t=n.payload,a=t.data,o=t.index;return e.utilityAccounts[o]=(0,i.Z)((0,r.Z)({},e.utilityAccounts[o]),{errors:a}),e})),e.addCase(l.dn,(function(e,n){var t=n.payload,a=e.utilityAccounts;return(0,i.Z)((0,r.Z)({},e),{utilityAccounts:a.filter((function(e,n){return n!==t}))})})),e.addCase(l.KP,(function(e){return e.utilityAccounts.push(u()),e})),e.addCase(l.LY,(function(e,n){return e.relatedUtilityCompanyInfo=n.payload,e})),e.addCase(l.wE,(function(e){return e.utilityAccounts=m.utilityAccounts,e.relatedUtilityCompanyInfo=void 0,e})),e.addCase(l.wR,(function(e,n){var t=n.payload,a=t.data,o=t.index;return e.LMIQualifications[o]=(0,i.Z)((0,r.Z)({},a),{errors:{}}),e})),e.addCase(l.TR,(function(e,n){var t=n.payload,a=t.data,o=t.index;return e.LMIQualifications[o]=(0,i.Z)((0,r.Z)({},e.LMIQualifications[o]),{errors:a}),e})),e.addCase(l.wc,(function(e,n){var t=n.payload,a=e.LMIQualifications;return(0,i.Z)((0,r.Z)({},e),{LMIQualifications:a.filter((function(e,n){return n!==t}))})})),e.addCase(l.j7,(function(e){return e.LMIQualifications.push(d()),e})),e.addCase(l.dm,(function(e){return e.LMIQualifications=m.LMIQualifications,e}))}));n.Z=p},95371:function(e,n,t){t.d(n,{Bp:function(){return x},J5:function(){return p},OA:function(){return y},Ps:function(){return d},Ss:function(){return m},Yw:function(){return h},Zt:function(){return u},n8:function(){return g},te:function(){return v},xF:function(){return f}});var r=t(26042),i=t(68697),a=t(99116),o=t(88206),s=t(69833),c=t(30243),l=t(82119),u=(0,i.P1)((function(e){return e.agentInvitation.utilityAccounts}),(function(e){return e})),d=(0,i.P1)((function(e){return e.agentInvitation.utilityAccounts}),(function(e){return e.filter((function(e){var n=e.accountNumber,t=e.bills,r=e.meterNumber;return!!n||t.length||r}))})),m=(0,i.P1)((function(e){return e.agentInvitation.utilityValidationDetails}),(function(e){var n=e.bill_upload_required,t=e.distribution_co_name,i=e.distribution_co_id,a=(0,s.n)(i);return(0,r.Z)({isBillRequired:n,distCoName:c.zh[i]||t},a)})),p=(0,i.P1)((function(e){return e.agentInvitation.enrollment}),(function(e){return e.uuid})),f=(0,i.P1)((function(e){return e.agentInvitation.utilityValidationDetails.lmi_qualifications}),(function(e){return(0,l.HE)(e)})),g=(0,i.P1)((function(e){return e.wizard.customerType}),(function(e){return(0,o.c)(o.A.lmiAI)&&e===a.g.home})),h=(0,i.P1)((function(e){return e.wizard.lmiEligible}),(function(e){return e})),v=(0,i.P1)((function(e){return e.agentInvitation.LMIQualifications}),(function(e){return e})),x=(0,i.P1)((function(e){return e.agentInvitation.LMIQualifications}),(function(e){return e})),y=(0,i.P1)((function(e){return e.wizard}),(function(e){return{lmiEligible:e.lmiEligible,lmiQualifications:e.lmiQualifications}}))},15186:function(e,n,t){var r,i;t.d(n,{b:function(){return i},i:function(){return r}}),function(e){e.Loading="Loading",e.Success="Success",e.Failed="Failed",e.EnrollmentUpdateError="EnrollmentUpdateError"}(r||(r={})),function(e){e.Failed="Failed",e.Success="Success",e.Pending="Pending"}(i||(i={}))},51110:function(e,n,t){t.d(n,{m:function(){return o}});var r=t(85893),i=t(67294),a=t(41699);function o(e){var n=e.text,t=void 0===n?"Contact us":n,o=(0,i.useCallback)((function(){window.open("".concat("https://ampion.net","/contact-us"),"_blank")}),[]);return(0,r.jsx)(a.Q,{text:t,clickCallback:o})}},41699:function(e,n,t){t.d(n,{Q:function(){return c}});var r=t(85893),i=t(67294),a=t(41120),o=t(75154),s=(0,a.Z)((function(e){return(0,o.Z)({root:function(){return{color:e.palette.gray.dark,textDecoration:"underline",cursor:"pointer",fontSize:"16px",lineHeight:"20px",fontWeight:600}}})}));function c(e){var n=e.text,t=e.clickCallback,a=s(),o=(0,i.useCallback)((function(){t&&t()}),[t]);return(0,r.jsx)("span",{onClick:o,className:a.root,children:n})}},29756:function(e,n,t){var r=t(85893),i=t(41120),a=t(75154),o=t(22318),s=(0,i.Z)((function(e){return(0,a.Z)({endAdornmentMenuItem:{backgroundColor:e.palette.blueLight.main,padding:e.spacing(.5),marginLeft:e.spacing(1.5),borderRadius:2,"& p":{color:e.palette.blueDark.main,fontSize:12,fontWeight:500}}})}));n.Z=function(e){var n=e.label,t=s();return(0,r.jsx)("div",{className:t.endAdornmentMenuItem,children:(0,r.jsx)(o.Z,{children:n})})}},37426:function(e,n,t){var r=t(14924),i=t(26042),a=t(85893),o=t(41120),s=t(75154),c=t(50253),l=(0,o.Z)((function(e){return(0,s.Z)({spacer:(0,r.Z)({fontSize:6},e.breakpoints.up("md"),{fontSize:10})})}));n.Z=function(e){var n=l();return(0,a.jsx)(c.Z,(0,i.Z)({className:n.spacer},e))}},3526:function(e,n,t){t.d(n,{VC:function(){return m},y2:function(){return p}});var r=t(85893),i=t(67294),a=t(25617),o=t(20165),s=t(87371),c=t(12484),l=t(56255),u=t(99116),d=[{label:"Home",value:u.g.home},{label:"Business",value:u.g.business}];function m(e){var n;return null===(n=d.find((function(n){return n.value===e})))||void 0===n?void 0:n.label}function p(e){var n=e.setValue,t=e.register,u=(0,a.I0)(),m=(0,a.v9)((function(e){return e.wizard.customerType}));(0,i.useEffect)((function(){t(o.UE.customerType)}),[t]);return(0,r.jsx)(c.Z,{name:o.UE.customerType,value:m,radioElements:d,handleChange:function(e){var t=e.target.value;n(o.UE.customerType,t),u((0,l.eZ)(t)),u((0,s.f)())}})}},67232:function(e,n,t){t.d(n,{t:function(){return I}});var r=t(85893),i=t(67294),a=t(25617),o=t(94184),s=t.n(o),c=t(41120),l=t(75154),u=t(41749),d=t(95477),m=t(52414),p=t(17572),f=t(37874),g=t(6146),h=t(20474),v=t(43585),x=t(20165),y=t(47568),b=t(20414),C=t(84578),Z=t(22318),E=t(6994),w=(0,c.Z)((function(e){return(0,l.Z)({warningContainer:{marginTop:e.spacing(4)},issue:{color:e.palette.red.dark,fontWeight:500},default:{fontStyle:"italic"}})}));var N=function(){var e=w(),n=function(){var e=(new C.Z).date(),n=e.getUTCDay(),t=e.getUTCHours();return"3:1-2|5:1-2".split("|").some((function(e){var r,i=e.split(":"),a=i[0],o=(null===(r=i[1])||void 0===r?void 0:r.split("-"))||[];return n===parseInt(a,10)&&t>=parseInt(o[0],10)&&t<=parseInt(o[1],10)}))}(),t=(0,i.useState)(!0),a=t[0],o=t[1];(0,i.useEffect)((function(){function e(){return(e=(0,y.Z)((function(){var e;return(0,b.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,E.eF)()];case 1:return e=n.sent(),o(e.working),[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=(0,r.jsx)(Z.Z,{className:e.default,children:"Please note that the Illinois disclosure process may not be available on Tuesday and Thursday evenings (from 8-10 p.m. CPT)."});return a?n&&(s=(0,r.jsx)(Z.Z,{className:e.issue,children:"The Illinois disclosure process is currently in its maintenance window. Subscribers may not be able to continue to the agreement step."})):s=(0,r.jsx)(Z.Z,{className:e.issue,children:"The Illinois disclosure process is currently not functioning. Subscribers will not be able to proceed to the agreement step. Ampion will send a notification when service is restored."}),(0,r.jsx)("div",{"data-testid":"electric-utility-warning-message",className:e.warningContainer,children:s})},A=t(25637),j=(0,c.Z)((function(e){return(0,l.Z)({wrapper:{position:"relative"},spinnerWrapper:{position:"absolute",top:"19px"},spinnerRoot:{color:e.palette.blue.main}})}));function I(e){var n,t,o=e.name,c=e.values,l=e.width,y=e.zipCodeValue,b=void 0===y?"":y,C=e.className,Z=e.classNameWrapper,E=void 0===Z?"":Z,w=e.register,I=e.unregister,k=e.setValue,_=e.errors,T=e.watch,S=e.trigger,U=e.clearErrors,P=e.getValues,z=e.applicationMode,L=void 0===z?void 0:z,M=j(),R=(0,a.I0)(),O=(0,a.v9)((function(e){return e})),H=O.wizard.electricUtility,D=O.utilityCompanies,V=D.companiesMap,W=D.isDataLoading,F=(0,a.v9)(v.Ur),B=(0,a.v9)(p.Me),Y=B.highlightedUtilityValues,q=B.utilityValues,Q=function(e){var n=e.utilityValues,t=e.highlightedUtilityValues,r=e.currentFormValue,i=e.isDataLoading;return(Object.keys(n).length||Object.keys(t).length)&&(0,h.hj)(r)&&!i?r:""}({utilityValues:q,highlightedUtilityValues:Y,currentFormValue:c[o]||H,isDataLoading:W}),G=L===f.Iz.AgentInvitation,K=G&&(null===(n=V[Q])||void 0===n?void 0:n.includes("IL"));return(0,i.useEffect)((function(){if(!G){var e=F||b;(0,g.mf)(e)&&(R((0,m.PR)(e)),R((0,m.k)({zipCode:e,updateFormFields:[x.UE.serviceAddressState]})))}}),[R,F,b,G]),(0,i.useEffect)((function(){G&&(0,g.mf)(b)&&R((0,m.PR)(b))}),[R,G,b]),(0,r.jsxs)(u.Z,{item:!0,xs:12,md:l,className:s()(M.wrapper,E),children:[(0,r.jsx)(A.A,{name:o,label:"Electric Utility",highlightFirst:G?void 0:Y,errorMessage:null===(t=_[o])||void 0===t?void 0:t.message,options:G?Y:q,value:Q,disabled:!Object.keys(q).length,className:C,setValue:k,register:w,unregister:I,errors:void 0,watch:T,trigger:S,clearErrors:U,getValues:P}),W&&(0,r.jsx)(u.Z,{container:!0,justifyContent:"center",className:M.spinnerWrapper,children:(0,r.jsx)(d.Z,{size:33,classes:{root:M.spinnerRoot}})}),K&&(0,r.jsx)(N,{})]})}},255:function(e,n,t){function r(e){return e/1024/1024<20}t.d(n,{Bn:function(){return a},Hu:function(){return r},Rz:function(){return l},S4:function(){return s},nK:function(){return c},qm:function(){return o}});var i=["image/jpeg","image/png","image/gif","application/pdf"];function a(e){return i.includes(e)}function o(e,n){var t;return n?"/agent-invitation/secure-file-upload.svg":(null===(t=e.fileLocation)||void 0===t?void 0:t.includes("s3"))?e.fileLocation:"/no-preview-24px.svg"}function s(e){return o(e).includes(".pdf")}function c(e){return!e.fileLocation}function l(e){return e?Object.keys(e).reduce((function(n,t){var r=e[t];return r.isSizeError||r.isTypeError||r.isUploadError||(n[t]=r),n}),{}):e}},23497:function(e,n,t){t.d(n,{y:function(){return m}});var r=t(26042),i=t(69396),a=t(99534),o=t(85893),s=(t(67294),t(41749)),c=t(25617),l=t(37874),u=t(20165),d=t(29982);function m(e){var n,t,m=e.containerClassName,p=void 0===m?void 0:m,f=e.testId,g=void 0===f?void 0:f,h=e.name,v=e.values,x=e.value,y=e.width,b=e.inputProps,C=e.InputProps,Z=e.InputLabelProps,E=e.autocompleteOff,w=void 0!==E&&E,N=e.autoFocus,A=void 0!==N&&N,j=e.disabled,I=e.emptyValueMode,k=void 0===I?l.eW.EmptyString:I,_=e.disabledPropMode,T=void 0===_?l.iJ.Auto:_,S=e.onBlur,U=e.disableXsBehavior,P=void 0!==U&&U,z=(0,a.Z)(e,["containerClassName","testId","name","values","value","width","inputProps","InputProps","InputLabelProps","autocompleteOff","autoFocus","disabled","emptyValueMode","disabledPropMode","onBlur","disableXsBehavior"]),L=z.variant,M=z.setValue,R=z.register,O=z.unregister,H=z.errors,D=z.watch,V=z.trigger,W=z.clearErrors,F=z.getValues,B=z.label,Y=z.placeholder,q=z.pattern,Q=z.inputMode,G=z.changeCallback,K=z.trimWhitespaceOnChange,J=z.disableUnderline,X=z.disableDefaultInputClass,$=z.type,ee=z.multiline,ne=z.minRows,te=z.maxRows,re=(0,c.v9)((function(e){return e.enrollment})).isAlreadyEnrolled;return t=T===l.iJ.Auto?j||re&&u.IT.includes(h):j,(0,o.jsx)(s.Z,{item:!0,xs:P?y:12,md:y,className:p,children:(0,o.jsx)(d.Q,{testId:g,name:h,errorMessage:null===(n=H[h])||void 0===n?void 0:n.message,value:x,defaultValue:v&&v[h],inputProps:(0,i.Z)((0,r.Z)({},b),{disabled:t}),InputProps:C,InputLabelProps:Z,autocompleteOff:w,autoFocus:A,emptyValueMode:k,onBlur:S,variant:L,setValue:M,register:R,unregister:O,errors:H,watch:D,trigger:V,clearErrors:W,getValues:F,label:B,placeholder:Y,pattern:q,inputMode:Q,changeCallback:G,trimWhitespaceOnChange:K,disableUnderline:J,disableDefaultInputClass:X,type:$,multiline:ee,minRows:ne,maxRows:te})})}},90483:function(e,n,t){t.d(n,{z:function(){return l}});var r=t(26042),i=t(99534),a=t(85893),o=(t(67294),t(41749)),s=t(37874),c=t(7003);function l(e){var n,t=e.testId,l=void 0===t?void 0:t,u=e.name,d=e.values,m=e.value,p=e.width,f=e.inputProps,g=e.autocompleteOff,h=void 0!==g&&g,v=e.emptyValueMode,x=void 0===v?s.eW.EmptyString:v,y=(0,i.Z)(e,["testId","name","values","value","width","inputProps","autocompleteOff","emptyValueMode"]),b=y.errors;return(0,a.jsx)(o.Z,{item:!0,xs:12,md:p,children:(0,a.jsx)(c.i,(0,r.Z)({testId:l,name:u,errorMessage:null===(n=b[u])||void 0===n?void 0:n.message,value:void 0===m?d&&d[u]:m,defaultValue:d&&d[u],inputProps:f,autocompleteOff:h,emptyValueMode:x},y))})}},70753:function(e,n,t){t.d(n,{y2:function(){return M.y2},R3:function(){return ge},Yv:function(){return Qe},bi:function(){return v},ND:function(){return Ke},GP:function(){return ce},I0:function(){return re},yt:function(){return x.y},zJ:function(){return y.z},s5:function(){return Ge},Jr:function(){return tn},qf:function(){return on},gd:function(){return cn},XL:function(){return K},b2:function(){return dn},Ad:function(){return S},rQ:function(){return O},xv:function(){return P}});var r=t(14924),i=t(26042),a=t(69396),o=t(85893),s=t(41120),c=t(75154),l=t(50253),u=t(84872),d=t(73637),m=t(79895),p=t(22318),f=t(67294),g=t(60424),h=(0,s.Z)((function(e){var n,t;return(0,c.Z)({popover:{pointerEvents:"none"},tooltip:{},popoverLabel:{fontSize:12,fontWeight:"bold"},paper:{padding:e.spacing(1),background:e.palette.blue.light,width:240,textAlign:"center",marginLeft:5},title:(n={fontWeight:700,letterSpacing:"0.1px",lineHeight:"22px",color:e.palette.black.main},(0,r.Z)(n,e.breakpoints.up("sm"),{fontSize:"14px"}),(0,r.Z)(n,"fontSize",12),(0,r.Z)(n,"margin",0),n),icon:{color:e.palette.black.main,fontSize:18},iconContainer:(t={},(0,r.Z)(t,e.breakpoints.up("sm"),{cursor:"pointer",display:"inline",position:"absolute",marginTop:2,marginLeft:5}),(0,r.Z)(t,"display","none"),t),helpContentElement:(0,r.Z)({textDecoration:"underline",fontSize:11,cursor:"pointer",color:e.palette.gray.main},e.breakpoints.up("sm"),{paddingLeft:e.spacing(2),fontSize:13})})}));var v=function(e){var n=e.label,t=e.popoverLabel,r=void 0===t?"":t,s=e.popoverLabelPlacement,c=void 0===s?"top":s,v=e.helpContent,x=void 0===v?null:v,y=e.className,b=void 0===y?"":y,C=h(),Z=(0,f.useState)(null),E=Z[0],w=Z[1],N=(0,f.useState)(null),A=N[0],j=N[1],I=(0,f.useCallback)((function(e){w(e.currentTarget)}),[]),k=(0,f.useCallback)((function(){w(null)}),[]),_=Boolean(E);return(0,o.jsxs)(l.Z,{className:b,width:"100%",children:[r&&(0,o.jsx)(u.Z,{id:"mouse-over-popover",placement:c,open:_,anchorEl:E,transition:!0,modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"scrollParent"},arrow:{enabled:!0,element:A}},children:function(e){var n=e.TransitionProps;return(0,o.jsx)(d.Z,(0,a.Z)((0,i.Z)({},n),{timeout:350,children:(0,o.jsxs)(m.Z,{className:C.paper,children:[(0,o.jsx)("span",{ref:j}),(0,o.jsx)(p.Z,{className:C.popoverLabel,children:r})]})}))}}),(0,o.jsxs)(p.Z,{className:C.title,children:[n,r&&(0,o.jsx)("span",{className:C.iconContainer,"aria-haspopup":"true","aria-owns":_?"mouse-over-popover":void 0,onMouseEnter:I,onMouseLeave:k,children:(0,o.jsx)(g.Z,{className:C.icon})})]}),x&&(0,o.jsx)("div",{className:C.helpContentElement,onClick:x.clickHandler,children:x.title})]})},x=t(23497),y=t(90483),b=t(41749),C=t(99534),Z=t(24294),E=t(25617),w=t(30585),N=t(64436),A=t(39803),j=t(20165),I=t(39011),k=(0,s.Z)((function(){return(0,c.Z)({select:{width:"100%","& > div":{margin:0}},input:{marginTop:"0 !important"}})}));function _(e){var n=e.testId,t=void 0===n?void 0:n,r=e.name,s=e.setValue,c=e.value,l=void 0===c?null:c,u=e.options,d=e.errorMessage,m=void 0===d?void 0:d,p=e.disabled,g=(0,C.Z)(e,["testId","name","setValue","value","options","errorMessage","disabled"]),h="".concat(r,"-autocomplete-select"),v=k(),x=g.trigger,y=g.clearErrors,b=g.getValues,_=g.changeCallback,T=(0,f.useState)(!1),S=T[0],U=T[1],P=(0,I.RJ)(r,x,y,b),z=P.onBlurHandler,L=P.onFocusHandler,M=(0,f.useCallback)((function(e,n){s(r,n),z(),_&&_()}),[s,r,z,_]),R=(0,f.useCallback)((function(e){"mousedown"!==e.type&&"click"!==e.type&&"change"!==e.type||U(!0)}),[]),O=(0,f.useCallback)((function(){U(!1)}),[]);(0,f.useEffect)((function(){(l||p)&&L(),z()}),[l,L,z,p]);var H=(0,E.v9)((function(e){return e.enrollment})).isAlreadyEnrolled,D=p||H&&j.IT.includes(r);return(0,o.jsxs)(N.Z,{className:v.select,error:!!m,children:[(0,o.jsx)(Z.ZP,{id:h,autoSelect:!0,disableClearable:!0,open:S,onOpen:R,onClose:O,value:l||null,className:v.select,onChange:M,disabled:D,getOptionLabel:function(e){return String(u[e])},options:Object.keys(u).map((function(e){return e})),renderInput:function(e){return(0,o.jsx)(A.Z,(0,a.Z)((0,i.Z)({},e),{label:"State",margin:"normal",inputProps:(0,a.Z)((0,i.Z)({},e.inputProps),{autoComplete:"off",form:{autoComplete:"off"},disabled:D,"data-testid":t})}))}}),(0,o.jsx)(w.Z,{children:m||""})]})}var T=t(99116);function S(e){var n,t=e.testId,r=void 0===t?void 0:t,i=e.name,a=e.value,s=e.width,c=e.setValue,l=e.errors,u=e.register,d=e.unregister,m=e.watch,p=e.trigger,f=e.clearErrors,g=e.getValues,h=e.changeCallback,v=void 0===h?function(){}:h;return(0,o.jsx)(b.Z,{item:!0,xs:12,md:s,children:(0,o.jsx)(_,{testId:r,name:i,label:"State",errorMessage:null===(n=l[i])||void 0===n?void 0:n.message,options:T.$,value:a,setValue:c,errors:l,register:u,unregister:d,watch:m,trigger:p,clearErrors:f,getValues:g,changeCallback:v})})}(0,s.Z)((function(){return(0,c.Z)({fieldWrapper:{display:"flex",margin:"0 0 20px"},fieldItem:{margin:"0 5px",maxWidth:50,height:70}})}));var U=(0,s.Z)((function(e){return(0,c.Z)({text:{color:e.palette.black.main,fontSize:"16px",letterSpacing:"0.15px",lineHeight:"24px"}})}));function P(e){var n=e.children,t=U();return(0,o.jsx)("p",{className:t.text,children:n})}var z=t(94184),L=t.n(z),M=((0,s.Z)((function(e){return(0,c.Z)({formTitle:{color:e.branding.titlesColor,fontSize:"24px",letterSpacing:"0",lineHeight:"32px",fontWeight:200,textAlign:"center",margin:"80px auto 56px"},formTitleHasSubTitle:{margin:"80px auto 16px"},formSubTitle:{lineHeight:"22px",color:e.palette.black.light,fontSize:"14px",letterSpacing:"0.1px",textAlign:"center",margin:"0 auto 56px",fontWeight:"bold"}})})),t(3526)),R=(0,s.Z)((function(e){return(0,c.Z)({stepTitle:{color:e.branding.titlesColor,fontSize:"24px",fontStyle:"normal",fontFamily:"Jost",letterSpacing:"0.25px",lineHeight:"32px",fontWeight:600,textAlign:"center",margin:"12px auto",textTransform:"uppercase"}})}));function O(e){var n=e.className,t=void 0===n?"":n,r=e.testId,i=void 0===r?"default-step-title":r,a=e.title,s=R();return(0,o.jsx)(p.Z,{"data-testid":i,className:L()(s.stepTitle,t),variant:"h2",children:a})}var H=t(25637);function D(e){var n,t=e.containerClassName,r=void 0===t?void 0:t,a=e.testId,s=void 0===a?void 0:a,c=e.name,l=e.value,u=e.values,d=e.width,m=(0,C.Z)(e,["containerClassName","testId","name","value","values","width"]),p=m.errors;return(0,o.jsx)(b.Z,{item:!0,xs:12,md:d,className:r,children:(0,o.jsx)(H.A,(0,i.Z)({testId:s,name:c,errorMessage:null===(n=p[c])||void 0===n?void 0:n.message,value:null!==l&&void 0!==l?l:u[c]},m))})}var V=t(52414),W=t(56255),F=t(8920);function B(e){var n=e.selected,t=e.fillColor,r=n?t:"#4D4D4D";return(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.57945 0.127249C9.83416 -0.0425791 10.166 -0.0425791 10.4208 0.127249L19.456 6.15073C20.0804 6.56695 19.7857 7.54016 19.0353 7.54016H0.964881C0.214507 7.54016 -0.0801541 6.56696 0.544195 6.15073L9.57945 0.127249ZM10.0001 1.14891L2.03838 6.45673H17.9619L10.0001 1.14891ZM18.855 7.0522C18.8549 7.05209 18.8547 7.052 18.8546 7.05189L18.855 7.0522Z",fill:r}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5007 15.6672C16.2016 15.6672 15.959 15.4246 15.959 15.1255V9.16659C15.959 8.86746 16.2016 8.62488 16.5007 8.62488C16.7998 8.62488 17.0424 8.86746 17.0424 9.16659V15.1255C17.0424 15.4246 16.7998 15.6672 16.5007 15.6672Z",fill:r}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1687 15.6672C11.8695 15.6672 11.627 15.4246 11.627 15.1255V9.16659C11.627 8.86746 11.8695 8.62488 12.1687 8.62488C12.4678 8.62488 12.7104 8.86746 12.7104 9.16659V15.1255C12.7104 15.4246 12.4678 15.6672 12.1687 15.6672Z",fill:r}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.83273 15.6672C7.53355 15.6672 7.29102 15.4246 7.29102 15.1255V9.16659C7.29102 8.86746 7.53355 8.62488 7.83273 8.62488C8.13187 8.62488 8.37445 8.86746 8.37445 9.16659V15.1255C8.37445 15.4246 8.13187 15.6672 7.83273 15.6672Z",fill:r}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5007 15.6672C3.20152 15.6672 2.95898 15.4246 2.95898 15.1255V9.16659C2.95898 8.86746 3.20152 8.62488 3.5007 8.62488C3.79988 8.62488 4.04242 8.86746 4.04242 9.16659V15.1255C4.04242 15.4246 3.79988 15.6672 3.5007 15.6672Z",fill:r}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.791016 18.375C0.791016 17.4775 1.51862 16.7499 2.41616 16.7499H17.5842C18.4817 16.7499 19.2094 17.4775 19.2094 18.375C19.2094 19.2725 18.4817 20.0002 17.5842 20.0002H2.41616C1.51862 20.0002 0.791016 19.2725 0.791016 18.375ZM2.41616 17.8333C2.11699 17.8333 1.87445 18.0759 1.87445 18.375C1.87445 18.6742 2.11699 18.9167 2.41616 18.9167H17.5842C17.8834 18.9167 18.1259 18.6742 18.1259 18.375C18.1259 18.0759 17.8834 17.8333 17.5842 17.8333H2.41616Z",fill:r})]})}function Y(e){var n=e.selected,t=e.fillColor,r=n?t:"#4D4D4D";return(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_1647_814)",children:[(0,o.jsx)("path",{d:"M19.752 3.30078H3.24805C1.97403 3.30078 0.9375 4.33731 0.9375 5.61133V15.5137C0.9375 16.7877 1.97403 17.8242 3.24805 17.8242H19.752C21.026 17.8242 22.0625 16.7877 22.0625 15.5137V5.61133C22.0625 4.33731 21.026 3.30078 19.752 3.30078ZM3.24805 4.62109H19.752C20.2979 4.62109 20.7422 5.06534 20.7422 5.61133V6.93164H2.25781V5.61133C2.25781 5.06534 2.70206 4.62109 3.24805 4.62109ZM19.752 16.5039H3.24805C2.70206 16.5039 2.25781 16.0597 2.25781 15.5137V8.25195H20.7422V15.5137C20.7422 16.0597 20.2979 16.5039 19.752 16.5039Z",fill:r}),(0,o.jsx)("path",{d:"M5.55859 14.5234H4.89844C4.53387 14.5234 4.23828 14.2279 4.23828 13.8633V13.2031C4.23828 12.8386 4.53387 12.543 4.89844 12.543H5.55859C5.92317 12.543 6.21875 12.8386 6.21875 13.2031V13.8633C6.21875 14.2279 5.92317 14.5234 5.55859 14.5234Z",fill:r})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_1647_814",children:(0,o.jsx)("rect",{width:"21.125",height:"21.125",fill:"white",transform:"translate(0.9375)"})})})]})}var q=(0,s.Z)((function(e){return(0,c.Z)({paymentCardCommon:(0,r.Z)({borderRadius:5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"45%",height:80},e.breakpoints.up("sm"),{width:200}),paymentCard:{cursor:"pointer",border:"1px solid #B1B1B1",borderRadius:5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%",height:"100%"},paymentCardSelected:{border:"none"},text:{color:e.palette.black.main,marginTop:e.spacing(.5),padding:e.spacing(0,.5)},selected:{color:e.palette.primary.main,fontWeight:500}})}));function Q(e){var n,t,i=e.onClick,a=e.text,s=e.selected,c=q(),l=(0,F.Z)();"Bank Account"===a?(n=(0,o.jsx)(B,{fillColor:l.palette.primary.main,selected:s}),t="bank-account"):(n=(0,o.jsx)(Y,{fillColor:l.palette.primary.main,selected:s}),t="debit-credit-card");var u=(0,o.jsxs)("div",{"data-testid":"payment-method-".concat(t),className:L()(c.paymentCard,(0,r.Z)({},c.paymentCardSelected,s)),onClick:i,children:[n,(0,o.jsx)(p.Z,{variant:"body1",className:L()(c.text,(0,r.Z)({},c.selected,s)),children:a})]});return s?(0,o.jsx)(m.Z,{elevation:3,className:c.paymentCardCommon,children:u}):(0,o.jsx)("div",{className:c.paymentCardCommon,children:u})}var G=(0,s.Z)((function(e){var n;return(0,c.Z)({selectPaymentTypeHeading:{fontSize:18,lineHeight:"22px",letterSpacing:"0.1px",marginBottom:e.spacing(3)},paymentCardsContainer:(n={display:"flex",marginBottom:e.spacing(4)},(0,r.Z)(n,e.breakpoints.only("xs"),{justifyContent:"space-between"}),(0,r.Z)(n,"& > div:nth-child(1)",(0,r.Z)({marginRight:e.spacing(2)},e.breakpoints.only("xs"),{marginRight:0})),n)})}));function K(e){var n=e.setValue,t=e.values,r=e.paymentInfo,i=G(),a=(0,E.I0)(),s=r.ach_plaid_allowed,c=r.ach_microdeposit_allowed||s,l=t[j.UE.paymentMethod]||(c?j.A6.checkingAccount:j.A6.creditCard),u=(0,f.useCallback)((function(e){n(j.UE.paymentMethod,e),a((0,V.s1)({name:j.UE.paymentMethod,value:e}))}),[a,n]);(0,f.useEffect)((function(){var e;u(c?j.A6.checkingAccount:j.A6.creditCard),e=r.ach_microdeposit_allowed&&s?j.w.none:r.ach_microdeposit_allowed?j.w.microdeposits:s?j.w.plaid:j.w.none,a((0,V.s1)({name:j.UE.paymentVerificationMethod,value:e}))}),[a,c,s,r.ach_microdeposit_allowed,u]);var d=(0,f.useCallback)((function(e){a((0,V.TM)()),a((0,W.$Z)()),u(e)}),[a,u]);return(0,o.jsxs)(b.Z,{item:!0,xs:12,children:[(0,o.jsx)(p.Z,{className:i.selectPaymentTypeHeading,children:"Select Payment Method Type"}),(0,o.jsxs)("div",{className:i.paymentCardsContainer,children:[c&&(0,o.jsx)(Q,{text:"Bank Account",selected:l===j.A6.checkingAccount,onClick:function(){return d(j.A6.checkingAccount)}}),r.credit_card_allowed&&(0,o.jsx)(Q,{text:"Credit / Debit Card",selected:l===j.A6.creditCard,onClick:function(){return d(j.A6.creditCard)}})]})]})}var J=t(90661);function X(e){var n=e.stripeComponent,t=e.label,r=e.id,i=e.width,a=(0,f.useState)({shrink:!1}),s=a[0],c=a[1],l=(0,f.useState)(""),u=l[0],d=l[1],m=(0,f.useCallback)((function(e){c({shrink:!e.empty}),u&&d(""),e.error&&d(e.error.message)}),[u,c,d]);return(0,o.jsx)(b.Z,{item:!0,xs:12,md:i,children:(0,o.jsx)(A.Z,{id:r,fullWidth:!0,label:t,error:!!u,helperText:u,onChange:m,InputLabelProps:s,InputProps:{inputProps:{component:n},inputComponent:J.KS}})})}var $=t(87827),ee=t(38469),ne=t(84578),te=(0,s.Z)((function(){return(0,c.Z)({datePicker:{width:"100%"}})}));function re(e){var n,t=e.testId,r=void 0===t?void 0:t,i=e.name,a=e.label,s=e.width,c=e.setValue,l=e.errors,u=e.trigger,d=e.clearErrors,m=e.getValues,p=e.defaultValue,g=(0,f.useState)(p?new Date(p):null),h=g[0],v=g[1],x=te(),y=(0,I.RJ)(i,u,d,m),C=y.onBlurHandler,Z=y.onFocusHandler,E=(0,f.useCallback)((function(e){c(i,e?e.toLocaleDateString("en-US"):""),v(e)}),[i,c,v]),w=null===(n=l[i])||void 0===n?void 0:n.message;return(0,o.jsx)(b.Z,{item:!0,xs:12,md:s,children:(0,o.jsx)($.M,{utils:ne.Z,children:(0,o.jsx)(ee.e,{disableToolbar:!0,autoOk:!0,variant:"inline",format:"MM/dd/yyyy",name:i,label:a,value:h,onChange:E,className:x.datePicker,error:!!w,helperText:w,onBlur:C,onFocus:Z,inputProps:{"data-testid":r}})})})}var ie=t(7397),ae=t(57333),oe=(0,s.Z)((function(){return(0,c.Z)({input:{width:"100%"}})}));function se(e){var n=e.inputRef,t=e.onChange,r=e.name,s=(0,C.Z)(e,["inputRef","onChange","name"]);return(0,o.jsx)(ae.Z,(0,a.Z)((0,i.Z)({},s),{getInputRef:n,onValueChange:function(e){t({target:{name:r,value:e.value}})},thousandSeparator:!0,fixedDecimalScale:!0,decimalScale:2}))}function ce(e){var n,t=e.testId,r=void 0===t?void 0:t,i=e.name,a=e.label,s=e.width,c=e.setValue,l=e.errors,u=e.defaultValue,d=void 0===u?0:u,m=(0,f.useState)(Number(d).toFixed(2)),p=m[0],g=m[1],h=oe(),v=(0,f.useCallback)((function(e){var n=e.target.value;c(i,n),g(n)}),[i,c,g]),x=null===(n=l[i])||void 0===n?void 0:n.message;return(0,o.jsx)(b.Z,{item:!0,xs:12,md:s,children:(0,o.jsx)(A.Z,{name:i,label:a,variant:"standard",value:p,className:h.input,error:!!x,onChange:v,helperText:x,inputProps:{"data-testId":r},InputProps:{inputComponent:se,startAdornment:(0,o.jsx)(ie.Z,{position:"start",children:"$"})}})})}var le=t(48392),ue=t(68697),de=t(24923),me=(0,ue.P1)((function(e){return e.wizard.origin}),(function(e){return e===de.aP.AGENT_INVITATION})),pe=t(12484),fe=[{label:"No",value:"no"},{label:"Yes",value:"yes"}];function ge(e){var n=e.setValue,t=e.register,r=e.unregister,a=e.watch,s=e.errors,c=(0,E.I0)(),l=(0,E.v9)((function(e){return{agentNameValue:e.wizard.agentName,enrollmentOriginIsAgentInvitation:me(e)}})),u=l.agentNameValue,d=l.enrollmentOriginIsAgentInvitation,m=a(j.UE.agentIsAssisting);(0,f.useEffect)((function(){t(j.UE.agentIsAssisting,{required:"Please select an option"}),"yes"===m?t(j.UE.agentName,{required:"Agent Name(s) is required",pattern:{value:le.g1,message:"Not a valid value"}}):r(j.UE.agentName)}),[t,r,m]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(pe.Z,{name:j.UE.agentIsAssisting,value:m,radioElements:fe,error:s.agentIsAssisting,handleChange:function(e){var t=e.target.value;n(j.UE.agentIsAssisting,t),c((0,V.s1)({name:"agentIsAssisting",value:t}))},disabled:d}),"yes"===m&&(0,o.jsx)(x.y,(0,i.Z)({"data-testid":"agentName",name:j.UE.agentName,label:"Agent Name(s)",helperText:"If multiple agents, please enter all names comma-separated",value:u,variant:"outlined",width:12},e))]})}var he=t(87994),ve=t(47568),xe=t(20414),ye=t(282),be=t(48319),Ce=t(17812),Ze=t(86631),Ee=t(66083),we=t(29525),Ne=t(7212),Ae=t(66856),je=t(5566),Ie=t(28428),ke=t(80366),_e=t(88206),Te=t(86459),Se=t(255),Ue=t(95477),Pe=(0,s.Z)((function(e){return(0,c.Z)({fileItem:{backgroundColor:e.palette.grayLight.light,marginBottom:"8px",borderLeft:"4px solid ".concat(e.palette.blue.light)},fileName:{height:"22px",color:e.palette.black.main,fontSize:"14px",letterSpacing:"0",lineHeight:"22px",fontWeight:"bold"},uploadIndicator:{margin:"9px",color:e.palette.blueLight.dark}})}));function ze(){var e=Pe();return(0,o.jsx)(b.Z,{item:!0,xs:12,className:e.fileItem,children:(0,o.jsxs)(l.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,o.jsx)(l.Z,{children:(0,o.jsx)(Ue.Z,{size:30,className:e.uploadIndicator})}),(0,o.jsx)(l.Z,{className:e.fileName,children:"Uploading..."})]})})}var Le=(0,s.Z)((function(){return(0,c.Z)({preview:{height:"32px",width:"32px"},wrapper:{position:"relative",height:"32px",width:"32px",margin:"8px"},clickWrapper:{position:"absolute",width:"100%",height:"100%"}})}));function Me(e){var n=e.file,t=e.secureFileUpload,r=e.onClick,i=Le(),a=(0,Se.qm)(n,t);return(0,o.jsxs)(l.Z,{className:i.wrapper,children:[(0,o.jsx)(l.Z,{className:i.clickWrapper,onClick:t?void 0:r}),(0,Se.S4)(n)?(0,o.jsx)("object",{"aria-label":"file-item-preview",data:a,className:i.preview,"data-testid":"file-item-preview",onClick:r}):(0,o.jsx)("img",{"aria-label":"file-item-img-preview",src:a,className:i.preview,"data-testid":"file-item-img-preview"})]})}var Re=(0,s.Z)((function(e){return(0,c.Z)({fileName:{height:"22px",color:e.palette.black.main,fontSize:"14px",letterSpacing:"0",lineHeight:"22px",fontWeight:"bold",display:"flex",justifyContent:"space-between"},fileNameElipsis:{maxWidth:250,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"middle",display:"inline-block"},note:{fontWeight:400}})}));function Oe(e){var n=e.file,t=e.fileIndex,r=e.onClick,i=Re(),a=t+1;return n.name?(0,o.jsxs)(l.Z,{flexGrow:1,className:i.fileName,onClick:n.preview?r:void 0,children:[(0,o.jsx)("span",{title:n.name,className:i.fileNameElipsis,"data-testid":"file-item-title",children:n.name}),(0,Se.nK)(n)&&(0,o.jsx)("span",{className:i.note,children:"(No preview available)"})]}):(0,o.jsx)(l.Z,{flexGrow:1,className:i.fileName,children:(0,o.jsx)("span",{className:i.fileNameElipsis,"data-testid":"file-item-title",children:"Uploaded file_".concat(a>9?a:"0".concat(a))})})}var He=(0,s.Z)((function(e){var n,t;return(0,c.Z)({fileItem:{backgroundColor:e.palette.grayLight.light,marginBottom:"8px",borderLeft:"4px solid ".concat(e.palette.blue.light),cursor:function(e){return e.file.preview?"pointer":"auto"}},deleteDialogTitle:{color:e.palette.black.dark,fontSize:"20px",fontWeight:"bold",letterSpacing:"0.15px",lineHeight:"32px"},deleteDialogText:{color:e.palette.grayDark.main,fontSize:"16px",letterSpacing:"0.15px",lineHeight:"24px"},deleteButton:{"&:hover":{color:e.palette.red.main,backgroundColor:e.palette.red.light}},previewModalWrapper:{display:"flex",alignItems:"center",height:"100vh"},previewModal:(n={position:"relative",width:"100vw",height:"100vh",backgroundColor:e.palette.white.main},(0,r.Z)(n,e.breakpoints.up("md"),{height:"auto",borderRadius:"5px",marginLeft:"24px",marginRight:"24px"}),(0,r.Z)(n,e.breakpoints.up("lg"),{marginLeft:"210px",marginRight:"210px"}),n),previewModalContent:(t={margin:"23px 16px 32px"},(0,r.Z)(t,e.breakpoints.up("md"),{margin:"23px 120px 32px"}),(0,r.Z)(t,e.breakpoints.up("lg"),{margin:"23px 152px 32px"}),t),previewModalImg:{maxWidth:"100%",maxHeight:"85vh"},previewModalPdf:{width:"100%",height:"85vh"},previewModalCloaseBtn:{position:"absolute",top:"7px",right:"7px"},previewModalTitle:{color:e.palette.black.main,fontSize:"24px",letterSpacing:0,lineHeight:"32px",marginBottom:"14px"},fileNameElipsis:{maxWidth:250,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"middle",display:"inline-block"}})}));function De(e){var n=e.remoteKey,t=e.fileKey,s=e.file,c=e.fileIndex,u=e.name,d=e.secureFileUpload,m=e.deleteFile,p=(0,C.Z)(e,["remoteKey","fileKey","file","fileIndex","name","secureFileUpload","deleteFile"]),g=He({file:s}),h=(0,f.useState)(!1),v=h[0],x=h[1],y=(0,f.useState)(!1),Z=y[0],E=y[1],w=p.setValue,N=p.getValues,A=(0,_e.c)(_e.A.needHelp),j=(0,f.useCallback)((function(){x(!1)}),[x]),I=(0,f.useCallback)((function(){x(!0)}),[x]),k=(0,f.useCallback)((function(){m({remoteKey:n,key:t}),x(!1)}),[x,m,t,n]),_=(0,f.useCallback)((function(){E(!0)}),[E]),T=(0,f.useCallback)((function(){E(!1)}),[E]);if((0,f.useEffect)((function(){if(!s.isUploading&&!s.file&&!s.isSizeError&&!s.isTypeError&&!s.isUploadError){var e=N(u);w(u,(0,a.Z)((0,i.Z)({},e),(0,r.Z)({},s.key,s)))}}),[w,N,s,u]),s.isSizeError||s.isTypeError||s.isUploadError)return null;if(s.isUploading)return(0,o.jsx)(ze,{});var S=(0,Se.qm)(s,d),U=(0,Se.S4)(s);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.Z,{item:!0,xs:12,className:g.fileItem,id:"file-attachment-".concat(c),children:(0,o.jsxs)(l.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,o.jsx)(Me,{file:s,secureFileUpload:d,onClick:_}),(0,o.jsx)(Oe,{file:s,fileIndex:c,onClick:_}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(Ce.Z,{"data-testid":"file-item-delete",onClick:I,className:g.deleteButton,children:(0,o.jsx)(Ie.Z,{})})})]})}),v&&(0,o.jsxs)(Ze.Z,{open:!0,onClose:j,disableEnforceFocus:A,container:A?(0,Te.Ii)():void 0,children:[(0,o.jsx)(Ee.Z,{id:"alert-dialog-title",className:g.deleteDialogTitle,disableTypography:!0,children:"Delete this file?"}),(0,o.jsx)(we.Z,{children:(0,o.jsx)(Ne.Z,{id:"alert-dialog-description",className:g.deleteDialogText,children:"This will remove this file from your enrollment application. It can not be undone."})}),(0,o.jsxs)(Ae.Z,{children:[(0,o.jsx)(ye.Z,{onClick:j,color:"secondary",children:"Cancel"}),(0,o.jsx)(ye.Z,{onClick:k,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),Z&&(0,o.jsx)(je.Z,{open:Z,onClose:T,disableEnforceFocus:A,container:A?(0,Te.Ii)():void 0,children:(0,o.jsx)(l.Z,{justifyContent:"center",className:g.previewModalWrapper,children:(0,o.jsx)("div",{className:g.previewModal,children:(0,o.jsxs)("div",{className:g.previewModalContent,children:[(0,o.jsx)(l.Z,{display:"flex",justifyContent:"center",className:g.previewModalTitle,children:(0,o.jsx)("span",{title:s.name,className:g.fileNameElipsis,children:s.name})}),(0,o.jsx)(l.Z,{display:"flex",justifyContent:"center",children:U?(0,o.jsx)("object",{"aria-label":"preview-modal",data:S,className:g.previewModalPdf}):(0,o.jsx)("img",{alt:"preview-modal-img",src:S,className:g.previewModalImg})}),(0,o.jsx)(Ce.Z,{"aria-label":"close",size:"small",className:g.previewModalCloaseBtn,onClick:T,children:(0,o.jsx)(ke.Z,{})})]})})})})]})}var Ve=(0,s.Z)((function(e){return(0,c.Z)({errorText:{color:e.palette.red.main,fontSize:"14px",letterSpacing:"0.1px",lineHeight:"22px",textAlign:"center",marginTop:"28px",fontWeight:400},fileNameElipsis:{maxWidth:"250px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})}));function We(e){var n=e.files,t=e.customFileType,r=e.name,a=e.uploader,s=(0,C.Z)(e,["files","customFileType","name","uploader"]),c=Ve(),l=(0,E.I0)(),u=s.setValue,d=s.errors[r],m=n&&Object.values(n).some((function(e){return e.isSizeError})),p=n&&Object.values(n).filter((function(e){return e.isSizeError})).map((function(e){return e.name})),g=n&&Object.values(n).some((function(e){return e.isTypeError})),h=n&&Object.values(n).filter((function(e){return e.isTypeError})).map((function(e){return e.name})),v=(0,f.useCallback)((function(e){var o=e.remoteKey,s=e.key;a.delete({remoteKey:o}),l((0,W.bH)(t,s));var c=(0,i.Z)({},n);delete c[s],u(r,c)}),[l,u,t,r,n,a]),x=function(e){return(0,o.jsxs)(o.Fragment,{children:[(null===e||void 0===e?void 0:e.length)>1?"Files ":"File ",e.map((function(n,t){return(0,o.jsxs)("span",{title:n,className:c.fileNameElipsis,children:[n,e.length-1===t?"":", "]})}))," can not be uploaded."]})};return(0,o.jsxs)(o.Fragment,{children:[n&&Object.keys(n).map((function(e,a){var c=n[e];return(0,o.jsx)(De,(0,i.Z)({fileKey:e,remoteKey:c.remoteKey,file:c,fileIndex:a,name:r,secureFileUpload:t===j.xA.lmiEvidence,deleteFile:v},s),e)})),d&&(0,o.jsx)(b.Z,{container:!0,children:(0,o.jsx)(b.Z,{item:!0,xs:12,className:c.errorText,"data-testid":"file-upload-general-error",children:d.message})}),m&&(0,o.jsx)(b.Z,{container:!0,children:(0,o.jsxs)(b.Z,{item:!0,xs:12,className:c.errorText,"data-testid":"file-upload-zise-error",children:[x(p)," ","Its size is bigger than 20 MB"]})}),g&&(0,o.jsx)(b.Z,{container:!0,children:(0,o.jsxs)(b.Z,{item:!0,xs:12,className:c.errorText,"data-testid":"file-upload-type-error",children:[x(h)," ","Its type is different from jpg, gif, png, or pdf"]})})]})}var Fe=t(52273),Be=(0,s.Z)((function(e){return(0,c.Z)({uploadZone:{boxSizing:"border-box",border:"1px dashed ".concat(e.palette.gray.main),backgroundColor:e.palette.grayLight.light,padding:"16px 16px 32px 16px"},uploadZoneError:{border:"1px solid ".concat(e.palette.red.main)},limitationsText:{textAlign:"center",color:e.palette.grayDark.main,fontSize:"12px",letterSpacing:"0.4px",lineHeight:"20px",marginBottom:"12px"},instructionsText:{textAlign:"center",color:e.palette.black.main,fontSize:"14px",fontWeight:"bold",letterSpacing:"0.1px",lineHeight:"22px",marginBottom:"16px"},uploadIcon:{color:e.palette.gray.light,marginBottom:"23px"},errorText:{color:e.palette.red.main,fontSize:"14px",letterSpacing:"0.1px",lineHeight:"22px",textAlign:"center",marginTop:"28px",fontWeight:"bold"},uploadButton:{textTransform:"lowercase",color:e.palette.primary.main,fontWeight:300,paddingBottom:"10px"}})}));function Ye(e){return Object.keys(e).reduce((function(n,t){var r=e[t],i=r.name,a=r.type,o=(0,Fe.Fs)(),s="".concat(o,"_").concat(i);return n[s]={key:s,file:r,isUploading:!1,name:i,type:a},n}),{})}function qe(e){var n=Be(),t=(0,E.I0)(),a=e.instructions,s=e.customFileType,c=e.name,u=e.files,d=e.uploader,m=e.clearErrors,p=u&&Object.values(u).some((function(e){return e.isUploading})),g=u&&Object.values(u).some((function(e){return e.isUploadError})),h=(0,f.useCallback)(function(){var e=(0,ve.Z)((function(e){var n,r,i,a,o,c,l,u;return(0,xe.__generator)(this,(function(m){switch(m.label){case 0:if(n=e.type,r=e.key,i=e.file,a=i.size,o=i.name,!(0,Se.Hu)(a))return t((0,W.w$)(s,r)),[2];if(!(0,Se.Bn)(n))return t((0,W.QF)(s,r)),[2];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,d.upload({key:r,file:e.file})];case 2:return c=m.sent(),l=c.fileLocation,u=c.remoteKey,t((0,W.aN)(s,r,l,u,o)),[3,4];case 3:return m.sent(),t((0,W.Ut)(s,r)),[3,4];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[s,d,t]),v=(0,f.useCallback)(function(){var e=(0,ve.Z)((function(e){var n;return(0,xe.__generator)(this,(function(r){return n=e.target,m(),t((0,W.Ge)(s,Ye(n.files))),n.value=null,[2]}))}));return function(n){return e.apply(this,arguments)}}(),[s,t,m]),x=(0,f.useCallback)((function(e){e.preventDefault(),m(),t((0,W.Ge)(s,Ye(e.dataTransfer.files)))}),[s,t,m]),y=(0,f.useCallback)((function(e){e.preventDefault()}),[]);return(0,f.useEffect)((function(){u&&Object.keys(u).forEach((function(e){var n=u[e];!n.isUploading&&n.file&&(t((0,W.kP)(s,n.key)),h(n))}))}),[s,u,h,t]),(0,o.jsxs)(l.Z,{pt:2,children:[(0,o.jsx)(l.Z,{className:L()(n.uploadZone,(0,r.Z)({},n.uploadZoneError,g)),onDrop:x,onDragOver:y,children:(0,o.jsxs)(l.Z,{display:"flex",flexDirection:"column",children:[(0,o.jsx)(l.Z,{display:"flex",flexDirection:"row",justifyContent:"center",children:(0,o.jsx)(be.Z,{className:n.uploadIcon})}),a&&(0,o.jsx)(l.Z,{display:"flex",flexDirection:"row",justifyContent:"center",children:a}),(0,o.jsxs)(l.Z,{className:n.instructionsText,children:["Drag and drop files here or",(0,o.jsxs)(ye.Z,{className:n.uploadButton,component:"label",color:"secondary",disabled:p,children:["Upload Files",(0,o.jsx)("input",{type:"file",hidden:!0,multiple:!0,onChange:v,"data-testid":"upload-button"})]})]}),(0,o.jsx)(l.Z,{className:n.limitationsText,children:"You can upload jpg, gif, png, and pdf files under 20 MB"}),g&&(0,o.jsx)(l.Z,{className:n.errorText,children:"There was an error uploading your file. Please try again, or use the file browser."})]})}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(We,(0,i.Z)({customFileType:s,name:c,files:u,uploader:d},e))})]})}function Qe(e){var n=e.register,t=e.unregister,r=e.setValue,a=(0,E.v9)((function(e){return e.wizard})).bills;return(0,f.useEffect)((function(){return n(j.UE.bills,{required:"Please upload at least one bill",validate:function(e){var n=(0,Se.Rz)(e);return!!Object.keys(n).length||"Please upload at least one bill"}}),function(){t(j.UE.bills)}}),[n,t]),(0,f.useEffect)((function(){r(j.UE.bills,a)}),[r]),(0,o.jsx)(qe,(0,i.Z)({instructions:"Make sure to upload all pages of your electric bill.",customFileType:j.xA.bills,name:j.UE.bills,files:a,uploader:he.y9},e))}function Ge(e){var n=e.register,t=e.unregister,r=e.setValue,a=(0,E.v9)((function(e){return e.wizard})).lmiEvidence;return(0,f.useEffect)((function(){return n(j.UE.lmiEvidence),function(){t(j.UE.lmiEvidence)}}),[n,t]),(0,f.useEffect)((function(){r(j.UE.lmiEvidence,a)}),[r]),(0,o.jsx)(qe,(0,i.Z)({instructions:"",customFileType:j.xA.lmiEvidence,name:j.UE.lmiEvidence,files:a,uploader:he.Eh},e))}function Ke(e){var n=e.unregister,t=e.register,r=(0,E.v9)((function(e){return e.wizard.customerType})),a=(0,E.v9)((function(e){return e.wizard})),s=a.companyName,c=a.title,l=(0,E.v9)((function(e){return e.enrollment})).isAlreadyEnrolled;return(0,f.useEffect)((function(){r!==T.g.business||l?(n(j.UE.companyName),n(j.UE.title)):(t(j.UE.companyName,{maxLength:{value:160,message:"Job Title should not be longer then 160 characters"},required:"Company name is required",pattern:{value:/^[\w \-,. +@'&()/]*$/,message:"Company name should not have special symbols"}}),t(j.UE.title,{maxLength:{value:60,message:"Job Title should not be longer then 60 characters"},pattern:{value:/^[\w \-.,/]*$/,message:"Job Title should not have special symbols"}}))}),[r]),(0,o.jsx)(o.Fragment,{children:r===T.g.business&&!l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.y,(0,i.Z)({"data-testid":"Job Title",name:j.UE.title,label:"Job Title",value:c||"",width:6},e)),(0,o.jsx)(x.y,(0,i.Z)({"data-testid":"Organization/Company Name",name:j.UE.companyName,label:"Organization / Company Name",value:s||"",width:6},e))]})})}var Je=t(97148),Xe=t(82119),$e=t(29756),en=(0,s.Z)((function(e){return(0,c.Z)({lmiTitle:{fontWeight:500},lmiMessage:{color:e.palette.black.main,fontSize:14},lmiMessageMargin:(0,r.Z)({marginTop:e.spacing(3)},e.breakpoints.up("md"),{marginTop:0}),lmiContainer:{border:"1px solid ".concat(e.palette.blueLight.main),backgroundColor:e.palette.blueLight.light,marginTop:e.spacing(2),padding:e.spacing(3)},lmiSelectsContainer:(0,r.Z)({display:"flex",flexDirection:"column",marginBottom:e.spacing(3)},e.breakpoints.up("md"),{flexDirection:"row","& .MuiGrid-root:not(:last-child)":{marginRight:e.spacing(2)}}),lmiVerificationMethodOption:{fontWeight:600},lmiCheckbox:{marginTop:e.spacing(2)}})})),nn=[{label:"Yes",value:Xe.Bj.yes},{label:"No",value:Xe.Bj.no},{label:"I don't know",value:Xe.Bj.unknown}];function tn(e){var n,t=e.register,i=e.unregister,a=e.watch,s=e.getValues,c=e.setValue,u=e.values,d=void 0===u?(n={},(0,r.Z)(n,j.UE.lmiEligible,""),(0,r.Z)(n,j.UE.lmiProgramType,""),(0,r.Z)(n,j.UE.lmiVerificationMethod,""),(0,r.Z)(n,j.UE.lmiWontProvideEvidence,""),n):u,m=e.errors,g=e.clearErrors,h=e.trigger,x=(0,E.I0)(),y=en(),b=(0,I.z8)((0,F.Z)()).width,C=(0,f.useState)({}),Z=C[0],w=C[1],N=(0,f.useState)({}),A=N[0],k=N[1],_=(0,E.v9)((function(e){return e})),T=_.enrollment.lmiQualificationsOptions,S=_.wizard,U=S.lmiEligible,P=S.lmiProgramType,z=S.lmiVerificationMethod,M=S.lmiEvidence,R=S.lmiWontProvideEvidence,O=a(j.UE.lmiEligible),H=a(j.UE.lmiProgramType),B=a(j.UE.lmiVerificationMethod),Y=a(j.UE.lmiWontProvideEvidence);(0,f.useEffect)((function(){return t(j.UE.lmiEligible,{required:"Please select an option"}),U&&(c(j.UE.lmiEligible,U),x((0,W.VQ)(d[j.UE.lmiEligible]))),function(){i(j.UE.lmiEligible)}}),[t,i]),(0,f.useEffect)((function(){O===Xe.Bj.yes?(t(j.UE.lmiProgramType,{required:"Please select an option"}),R?(i(j.UE.lmiVerificationMethod),t(j.UE.lmiVerificationMethod)):(i(j.UE.lmiVerificationMethod),t(j.UE.lmiVerificationMethod,{required:"Please select an option"})),t(j.UE.lmiWontProvideEvidence),P&&(c(j.UE.lmiProgramType,d[j.UE.lmiProgramType]),x((0,W.MS)(P))),z&&(c(j.UE.lmiVerificationMethod,d[j.UE.lmiVerificationMethod]),x((0,W.zG)(z))),c(j.UE.lmiWontProvideEvidence,d[j.UE.lmiWontProvideEvidence]),x((0,W.vs)(R))):(i(j.UE.lmiProgramType),i(j.UE.lmiVerificationMethod),i(j.UE.lmiWontProvideEvidence))}),[O,R,t,i]),(0,f.useEffect)((function(){if(T){var e=Object.keys(T).reduce((function(e,n){var t=T[n];return e[t.value]=t.name,e}),{});w(e)}}),[T]),(0,f.useEffect)((function(){if(H){var e=T.find((function(e){return e.value===H})).relatedVerificationMethodOptions.reduce((function(e,n){return e[n.value]=n.name,e}),{});k(e)}}),[T,H,c,x]);var q=(0,f.useCallback)((function(e){var n=e.target;x((0,W.VQ)(n.value)),c(j.UE.lmiEligible,n.value)}),[x,c]),Q=(0,f.useCallback)((function(e){e.target.checked?x((0,W.M9)(!0)):(c(j.UE.lmiWontProvideEvidence,Xe.r8.noValue),x((0,W.vs)(Xe.r8.noValue)))}),[x,c]),G=(0,f.useCallback)((function(){c(j.UE.lmiVerificationMethod,""),x((0,V.s1)({name:j.UE.lmiVerificationMethod,value:""}))}),[x,c]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{label:"Do you receive benefits from LIHEAP, SNAP, or other federal programs? If so, you may qualify for an additional discount!",popoverLabel:"Thanks to the Inflation Reduction Act, low-to-moderate income residents may qualify for a greater discount and will have higher priority for program placement. All you have to do is upload a file showing that you participate in one of these programs.",popoverLabelPlacement:"right"}),(0,o.jsx)(pe.Z,{name:"lmiEligible",value:O,radioElements:nn,error:m["lmi-eligible"],handleChange:q,row:(0,Je.yJ)("sm",b)}),O===Xe.Bj.yes&&(0,o.jsxs)(l.Z,{className:y.lmiContainer,children:[(0,o.jsx)(l.Z,{mb:2,children:(0,o.jsx)(p.Z,{className:L()(y.lmiTitle,y.lmiMessage),children:"OK! Which program? (Pick one program, then choose a document proving participation.)"})}),(0,o.jsxs)(l.Z,{className:y.lmiSelectsContainer,children:[(0,o.jsx)(D,{testId:"lmiProgramType",name:j.UE.lmiProgramType,label:"Program",options:Z,showEndAdornmentMenuItem:[Xe.Yh],endAdornmentMenuItem:(0,o.jsx)($e.Z,{label:"Recommended"}),width:4,watch:a,setValue:c,errors:m,register:t,unregister:i,trigger:h,clearErrors:g,getValues:s,values:d,additionalCallOnChange:G}),H&&A&&(0,o.jsx)(D,{testId:"lmiVerificationMethod",name:j.UE.lmiVerificationMethod,label:"Document Type",options:A,addExtraClassname:[Xe.DS],extraClassname:y.lmiVerificationMethodOption,width:4,watch:a,setValue:c,errors:m,register:t,unregister:i,trigger:h,clearErrors:g,getValues:s,values:d}),H&&B&&(0,o.jsx)(p.Z,{className:L()(y.lmiMessage,y.lmiMessageMargin),children:"Please upload a document to confirm your eligibility"})]}),H&&B&&(0,o.jsx)(Ge,{register:t,unregister:i,errors:m,setValue:c,watch:a,trigger:h,clearErrors:g,getValues:s}),H&&(0,o.jsx)(J.Cn,{"data-testid":"wont-provide-lmi-evidence-checkbox",className:y.lmiCheckbox,label:"I prefer not to provide the document.",name:j.UE.lmiWontProvideEvidence,checked:!!Y,disabled:Object.keys(M||{}).length>0,onChange:Q})]})]})}var rn=(0,s.Z)((function(e){return(0,c.Z)({extraPaddingOdd:(0,r.Z)({paddingLeft:"45px !important"},e.breakpoints.up("md"),{paddingRight:"0 !important"}),extraPaddingEven:(0,r.Z)({paddingLeft:"45px !important"},e.breakpoints.up("md"),{paddingLeft:"24px !important"})})})),an={individual:"Personal",company:"Business"};function on(e){var n,t=e.addPadding,i=e.register,a=e.unregister,s=e.watch,c=e.values,l=void 0===c?(n={},(0,r.Z)(n,j.UE.paymentNameOnAccount,""),(0,r.Z)(n,j.UE.paymentAccountNumber,""),(0,r.Z)(n,j.UE.paymentRoutingNumber,""),(0,r.Z)(n,j.UE.paymentAccountType,""),n):c,u=e.getValues,d=e.setValue,m=e.errors,p=e.clearErrors,g=e.trigger,h=rn(),v=s(j.UE.paymentAccountType),y=s(j.UE.paymentNameOnAccount),b=s(j.UE.paymentAccountNumber),C=s(j.UE.paymentRoutingNumber);return(0,f.useEffect)((function(){return i(j.UE.paymentAccountType,{required:"Please select Account Type"}),i(j.UE.paymentNameOnAccount,{required:"Name on Account is required",pattern:{value:/^[\w-& ]+$/,message:"Not a valid Name on Account"}}),i(j.UE.paymentAccountNumber,{required:"Account Number is required",pattern:{value:/^[0-9]{3,17}$/,message:"Not a valid Account Number"}}),i(j.UE.paymentRoutingNumber,{required:"Account Routing Number is required",pattern:{value:/^[0-9]{9}$/,message:"Not a valid Account Routing Number"}}),function(){a(j.UE.paymentAccountType),a(j.UE.paymentNameOnAccount),a(j.UE.paymentAccountNumber),a(j.UE.paymentRoutingNumber)}}),[i,a]),(0,f.useEffect)((function(){"undefined"===typeof v&&"undefined"!==l[j.UE.paymentAccountType]&&d(j.UE.paymentAccountType,l[j.UE.paymentAccountType]),"undefined"===typeof y&&"undefined"!==l[j.UE.paymentNameOnAccount]&&d(j.UE.paymentNameOnAccount,l[j.UE.paymentNameOnAccount]),"undefined"===typeof b&&"undefined"!==l[j.UE.paymentAccountNumber]&&d(j.UE.paymentAccountNumber,l[j.UE.paymentAccountNumber]),"undefined"===typeof C&&"undefined"!==l[j.UE.paymentRoutingNumber]&&d(j.UE.paymentRoutingNumber,l[j.UE.paymentRoutingNumber])}),[d]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.y,{containerClassName:t?h.extraPaddingOdd:void 0,testId:"paymentNameOnAccount",name:j.UE.paymentNameOnAccount,label:"Name On Account",width:6,watch:s,setValue:d,errors:m,register:i,unregister:a,trigger:g,clearErrors:p,getValues:u,values:l}),(0,o.jsx)(D,{containerClassName:t?h.extraPaddingEven:void 0,testId:"paymentAccountType",name:j.UE.paymentAccountType,label:"Account Type",options:an,width:6,watch:s,setValue:d,errors:m,register:i,unregister:a,trigger:g,clearErrors:p,getValues:u,values:l}),(0,o.jsx)(x.y,{containerClassName:t?h.extraPaddingOdd:void 0,testId:"paymentAccountNumber",name:j.UE.paymentAccountNumber,label:"Account Number",type:"tel",width:6,watch:s,setValue:d,errors:m,register:i,unregister:a,trigger:g,clearErrors:p,getValues:u,values:l}),(0,o.jsx)(x.y,{containerClassName:t?h.extraPaddingEven:void 0,testId:"paymentRoutingNumber",name:j.UE.paymentRoutingNumber,label:"Routing Number",type:"tel",width:6,watch:s,setValue:d,errors:m,register:i,unregister:a,trigger:g,clearErrors:p,getValues:u,values:l})]})}var sn=t(86664);function cn(e){var n=e.register,t=e.unregister,r=e.watch,a=e.setValue,s=e.values,c=r(j.UE.paymentNameOnCard);return(0,f.useEffect)((function(){return n(j.UE.paymentNameOnCard,{required:"Name on Card is required",pattern:{value:/^[a-zA-Z-'. ]+$/,message:"Not a valid Name on Card"}}),"undefined"===typeof c&&"undefined"!==s[j.UE.paymentNameOnCard]&&a(j.UE.paymentNameOnCard,s[j.UE.paymentNameOnCard]),function(){t(j.UE.paymentNameOnCard)}}),[n,t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.y,(0,i.Z)({"data-testid":"paymentNameOnCard",name:j.UE.paymentNameOnCard,label:"Name On Card",width:6},e)),(0,o.jsx)(X,{id:"card-number",label:"Card Number",width:6,stripeComponent:sn.CardNumberElement}),(0,o.jsx)(X,{id:"card-exp-date",label:"Expiration Date",width:6,stripeComponent:sn.CardExpiryElement}),(0,o.jsx)(X,{id:"card-cvv",label:"CVV",width:6,stripeComponent:sn.CardCvcElement})]})}var ln=t(41959),un=(0,s.Z)((function(e){return(0,c.Z)({contentContainer:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:60,marginTop:e.spacing(2),marginBottom:e.spacing(3),marginLeft:33,maxWidth:320},contentContainerSuccess:{border:"1px dashed ".concat(e.palette.primary.main)},plaidButton:{height:"fit-content",textTransform:"none",fontWeight:500,padding:e.spacing(1.25,4)},successContainer:{display:"flex",justifyContent:"space-between",width:"100%",margin:e.spacing(1,2)},successTextFirst:{color:e.palette.black.light},verifiedContainer:{display:"flex",alignItems:"center"},verifiedIcon:{height:20,marginLeft:e.spacing(.5)}})}));function dn(e){var n,t=e.open,i=un(),a=(0,E.v9)((function(e){return e.plaid})),s=a.data,c=a.dataIsMissing,l=a.plaidToken,u=a.error,d=(0,f.useCallback)((function(){t()}),[t]);if(l)if(c||u)n=(0,o.jsx)(ye.Z,{"data-testid":"launch-plaid-btn",color:"primary",variant:"contained",className:i.plaidButton,fullWidth:!0,onClick:d,children:"Start instant account verification"});else{var m;n=(0,o.jsxs)("div",{className:i.successContainer,"data-testid":"plaid-verified-container",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(p.Z,{variant:"body2",className:i.successTextFirst,children:"Account"}),(0,o.jsx)(p.Z,{children:(null===s||void 0===s||null===(m=s.institution)||void 0===m?void 0:m.name)||"Unknown"})]}),(0,o.jsxs)("div",{className:i.verifiedContainer,children:[(0,o.jsx)(p.Z,{color:"primary",variant:"body2",children:"Verified"}),(0,o.jsx)(ln.Z,{color:"primary",className:i.verifiedIcon})]})]})}else n=(0,o.jsx)(Ue.Z,{});return(0,o.jsx)("div",{className:L()(i.contentContainer,(0,r.Z)({},i.contentContainerSuccess,l&&!(c||u))),children:n})}(0,s.Z)((function(e){return(0,c.Z)({isMobile:{color:e.palette.black.dark,fontSize:"16px",letterSpacing:"0.15px",lineHeight:"24px",marginLeft:"9px"}})}))},30046:function(e,n,t){t.d(n,{r:function(){return a},A:function(){return o}});var r=t(14924),i=t(20165),a=(0,r.Z)({},i.UE.zipCode,/^[0-9]{5}$/);function o(e,n){return n.test(e)}},29982:function(e,n,t){t.d(n,{Q:function(){return v}});var r=t(14924),i=t(26042),a=t(69396),o=t(99534),s=t(85893),c=t(67294),l=t(39803),u=t(41120),d=t(75154),m=t(94184),p=t.n(m),f=t(37874),g=t(39011),h=(0,u.Z)((function(){return(0,d.Z)({textfield:{width:"100%"},input:{"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"&[type=number]":{"-moz-appearance":"textfield"}},inputLabel:{maxWidth:"100%"}})}));function v(e){var n,t=e.testId,u=void 0===t?null:t,d=e.name,m=e.label,v=e.helperText,x=e.value,y=void 0===x?void 0:x,b=e.type,C=e.setValue,Z=e.errorMessage,E=void 0===Z?void 0:Z,w=e.defaultValue,N=e.autocompleteOff,A=void 0!==N&&N,j=e.autoFocus,I=void 0===j?void 0:j,k=e.autoComplete,_=e.pattern,T=void 0===_?void 0:_,S=e.inputMode,U=void 0===S?void 0:S,P=e.inputProps,z=e.InputProps,L=e.InputLabelProps,M=e.watch,R=e.disableUnderline,O=void 0===R?void 0:R,H=e.disableDefaultInputClass,D=void 0===H?void 0:H,V=e.onBlur,W=e.emptyValueMode,F=void 0===W?f.eW.EmptyString:W,B=e.multiline,Y=e.minRows,q=e.maxRows,Q=(0,o.Z)(e,["testId","name","label","helperText","value","type","setValue","errorMessage","defaultValue","autocompleteOff","autoFocus","autoComplete","pattern","inputMode","inputProps","InputProps","InputLabelProps","watch","disableUnderline","disableDefaultInputClass","onBlur","emptyValueMode","multiline","minRows","maxRows"]),G=M(d),K=(0,c.useState)(w||""),J=K[0],X=K[1],$=(0,c.useState)({shrink:!!J}),ee=$[0],ne=$[1],te=Q.trigger,re=Q.clearErrors,ie=Q.getValues,ae=Q.changeCallback,oe=Q.trimWhitespaceOnChange,se=Q.className,ce=h(),le=(0,c.useCallback)((function(e){var n=e.target.value,t=oe?n&&n.trim():n;F===f.eW.UndefinedValue&&(t=""===t?void 0:t),C(d,t),X(t),ae&&ae(t),ne({shrink:!!t})}),[d,C,X,ne,oe,F,ae]),ue=(0,g.RJ)(d,te,re,ie),de=ue.onBlurHandler,me=ue.onFocusHandler,pe=(0,g.kp)(A,k),fe=(0,c.useCallback)((function(e){var n=J&&J.trim();J!==n&&(C(d,n),X(n)),de(),V&&V(e)}),[J,de,V,C,d]);return(0,c.useEffect)((function(){(y||"string"===typeof y||"number"===typeof y)&&(C(d,y),X(y),ne({shrink:!!y}))}),[d,C,y]),(0,c.useEffect)((function(){ne({shrink:!!J}),me(),de()}),[J,me,de,ne]),(0,c.useEffect)((function(){"undefined"===typeof G&&C(d,J)}),[C,d,J,G]),(0,s.jsx)(l.Z,{id:d,name:d,error:!!E,label:m,value:J,helperText:E||v,type:b,autoFocus:I,onChange:le,className:p()((n={},(0,r.Z)(n,ce.textfield,!D),(0,r.Z)(n,se,se),n)),InputLabelProps:(0,a.Z)((0,i.Z)({},ee,L),{className:ce.inputLabel}),InputProps:(0,i.Z)({disableUnderline:O},z),disabled:null===P||void 0===P?void 0:P.disabled,inputProps:(0,a.Z)((0,i.Z)({},pe,P),{pattern:T,inputMode:U,className:ce.input,"data-testid":u}),onBlur:fe,onFocus:me,multiline:B,minRows:Y,maxRows:q})}},7003:function(e,n,t){t.d(n,{i:function(){return v}});var r=t(26042),i=t(69396),a=t(99534),o=t(85893),s=t(67294),c=t(41120),l=t(75154),u=t(57333),d=t(39803),m=t(25617),p=t(37874),f=t(20165),g=t(39011),h=(0,c.Z)((function(){return(0,l.Z)({input:{width:"100%"}})}));function v(e){var n=e.testId,t=void 0===n?void 0:n,c=e.name,l=e.label,v=e.value,x=void 0===v?void 0:v,y=e.setValue,b=e.errorMessage,C=void 0===b?void 0:b,Z=e.defaultValue,E=e.autocompleteOff,w=void 0!==E&&E,N=e.autoComplete,A=e.watch,j=e.emptyValueMode,I=void 0===j?p.eW.EmptyString:j,k=(0,a.Z)(e,["testId","name","label","value","setValue","errorMessage","defaultValue","autocompleteOff","autoComplete","watch","emptyValueMode"]),_=A(c),T=(0,s.useState)(Z||""),S=T[0],U=T[1],P=(0,s.useState)({shrink:!!S}),z=P[0],L=P[1],M=h(),R=(0,s.useCallback)((function(e){var n;n=I===p.eW.UndefinedValue&&""===e?void 0:e,y(c,n),U(n),L({shrink:!!n})}),[I,y,c]),O=(0,g.kp)(w,N),H=k.trigger,D=k.clearErrors,V=k.getValues,W=(0,g.RJ)(c,H,D,V),F=W.onBlurHandler,B=W.onFocusHandler;(0,s.useEffect)((function(){x&&(y(c,x),U(x),L({shrink:!!x}))}),[c,x]),(0,s.useEffect)((function(){L({shrink:!!S}),B(),F()}),[S,B,F,L]),(0,s.useEffect)((function(){"undefined"===typeof _&&y(c,S)}),[y,c,S,_]);var Y=!1;(0,m.v9)((function(e){return e.enrollment})).isAlreadyEnrolled&&f.IT.includes(c)&&(Y=!0);var q=Y?{color:"rgba(0,0,0,0.38)"}:{};return(0,o.jsx)(u.Z,{id:c,name:c,customInput:d.Z,format:"(###) ###-####",mask:"_",onValueChange:function(e){R(e.value)},onBlur:F,onFocus:B,className:M.input,inputProps:(0,i.Z)((0,r.Z)({},O),{disabled:Y,style:q,"data-testid":t}),InputLabelProps:z,label:l,placeholder:"",value:S,error:!!C,helperText:C})}},12484:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(85893),i=(t(67294),t(64436)),a=t(37661),o=t(30553),s=t(32340),c=t(30585);function l(e){var n=e.name,t=e.value,l=e.radioElements,u=e.handleChange,d=e.error,m=void 0===d?void 0:d,p=e.disabled,f=void 0!==p&&p,g=e.row,h=void 0!==g&&g,v=e.className,x=void 0===v?void 0:v,y=e["data-testid"],b=void 0===y?"default":y,C=null===m||void 0===m?void 0:m.message,Z=!!C&&!t;return(0,r.jsxs)(i.Z,{error:Z,className:x,children:[(0,r.jsx)(a.Z,{"aria-label":"radiogroup-".concat(n),name:n,value:t||"",onChange:u,row:h,"data-testid":b&&"".concat(b,"-radio-group"),children:l.map((function(e){var n=e.value,t=e.label;return(0,r.jsx)(o.Z,{value:n,color:"primary",control:(0,r.jsx)(s.Z,{color:"primary"}),label:t,disabled:f,"data-testid":b&&"".concat(b,"-form-control-label")},n.toString())}))}),Z&&(0,r.jsx)(c.Z,{children:C})]})}},25637:function(e,n,t){t.d(n,{A:function(){return x}});var r=t(14924),i=t(99534),a=t(85893),o=t(67294),s=t(94184),c=t.n(s),l=t(41120),u=t(75154),d=t(85161),m=t(30585),p=t(24714),f=t(64436),g=t(37702),h=t(39011),v=(0,l.Z)((function(e){return(0,u.Z)({select:{width:"100%"},divider:{margin:e.spacing(2),borderBottom:"2px solid ".concat(e.palette.grayLight.main)},menuItem:{whiteSpace:"normal"}})}));function x(e){var n=e.testId,t=void 0===n?void 0:n,s=e.name,l=e.setValue,u=e.label,x=e.value,y=void 0===x?void 0:x,b=e.options,C=e.errorMessage,Z=void 0===C?void 0:C,E=e.highlightFirst,w=void 0===E?void 0:E,N=e.disabled,A=e.autocompleteOff,j=void 0!==A&&A,I=e.addExtraClassname,k=void 0===I?[]:I,_=e.extraClassname,T=void 0===_?void 0:_,S=e.showEndAdornmentMenuItem,U=void 0===S?[]:S,P=e.endAdornmentMenuItem,z=void 0===P?void 0:P,L=e.additionalCallOnChange,M=void 0===L?void 0:L,R=e.className,O=(0,i.Z)(e,["testId","name","setValue","label","value","options","errorMessage","highlightFirst","disabled","autocompleteOff","addExtraClassname","extraClassname","showEndAdornmentMenuItem","endAdornmentMenuItem","additionalCallOnChange","className"]),H="".concat(s,"-select"),D=v(),V=(0,o.useState)(!1),W=V[0],F=V[1],B=function(e,n,t,r){return(0,o.useMemo)((function(){var i={name:e,id:n};return t&&(i.autoComplete="password-new"),r&&(i["data-testid"]=r),i}),[e,n,t,r])}(s,H,j,t),Y=O.trigger,q=O.clearErrors,Q=O.getValues,G=(0,h.RJ)(s,Y,q,Q),K=G.onBlurHandler,J=G.onFocusHandler,X=(0,o.useCallback)((function(e){l(s,e.target.value),K(),M&&M()}),[s,M,K,l]),$=(0,o.useCallback)((function(){F(!0)}),[]),ee=(0,o.useCallback)((function(){F(!1)}),[]);return(0,o.useEffect)((function(){y&&(l(s,y),J(),K())}),[s,y,J,K,l]),(0,a.jsxs)(f.Z,{className:c()(D.select,(0,r.Z)({},R,R)),error:!!Z,children:[(0,a.jsx)(d.Z,{htmlFor:H,children:u}),(0,a.jsxs)(p.Z,{value:y,className:D.select,onChange:X,onOpen:$,onClose:ee,inputProps:B,onBlur:K,onFocus:J,disabled:N,children:[w&&Object.keys(w).map((function(e){return(0,a.jsxs)(g.Z,{value:e,className:c()(D.menuItem,(0,r.Z)({},T,null===k||void 0===k?void 0:k.includes(e))),children:[w[e],W&&(null===U||void 0===U?void 0:U.includes(e))&&z]},e)})),w&&(0,a.jsx)("div",{className:D.divider}),Object.keys(b).map((function(e){return(0,a.jsxs)(g.Z,{value:e,className:c()(D.menuItem,(0,r.Z)({},T,null===k||void 0===k?void 0:k.includes(e))),children:[b[e],W&&(null===U||void 0===U?void 0:U.includes(e))&&z]},e)}))]}),(0,a.jsx)(m.Z,{children:Z||""})]})}},39011:function(e,n,t){t.d(n,{RJ:function(){return c},kp:function(){return l},z8:function(){return u}});var r=t(47568),i=t(20414),a=t(67294),o=t(25617),s=t(52414);function c(e,n,t,c){var l=(0,o.I0)();return{onBlurHandler:(0,a.useCallback)((0,r.Z)((function(){var t;return(0,i.__generator)(this,(function(r){return"undefined"!==typeof(t=c(e))&&(n(e),l((0,s.s1)({name:e,value:t}))),[2]}))})),[c,e,n,l]),onFocusHandler:(0,a.useCallback)((function(){t(e)}),[e,t])}}function l(e,n){return(0,a.useMemo)((function(){var t=n?{autoComplete:n}:{};return e&&(t.autoComplete="password-new"),t}),[e,n])}function u(e){var n=(0,a.useState)({}),t=n[0],r=n[1],i={},o=e.breakpoints.keys;return o.forEach((function(n){i[n]={};var a=i[n];a.name=n,a.only=e.breakpoints.only(n).replace(/^@media\s+(.*)$/,"$1"),a.mql=window.matchMedia(a.only),a.listener=function(e){this.matched=e.matches,e.matches&&r({width:this.name,media:this.only})}.bind(a),a.unregister=function(){this.mql.removeListener(this.listener)}.bind(a),a.mql.addListener(a.listener),a.mql.matches&&t.width!==a.name&&r({width:a.name,media:a.only})})),(0,a.useEffect)((function(){o.forEach((function(e){return i[e].unregister()}))})),t}},90661:function(e,n,t){t.d(n,{Cn:function(){return k},KS:function(){return _},Zw:function(){return A}});t(29982),t(7003);var r=t(26042),i=t(69396),a=t(99534),o=t(85893),s=t(67294),c=t(39803),l=t(24294),u=t(41749),d=t(41120),m=t(75154),p=t(22318),f=t(23370),g=t.n(f),h=t(25617),v=t(37874),x=t(20165),y=t(14924),b=t(29815),C=t(23493),Z=t.n(C);function E(e,n,t,a){var o=(0,s.useState)([]),c=o[0],l=o[1],u=(0,s.useState)({description:e}),d=u[0],m=u[1],p=(0,s.useState)(e),f=p[0],g=p[1],h=function(){var e=(0,s.useRef)(null);return!e.current&&window.google&&(e.current=new window.google.maps.places.PlacesService(document.createElement("div"))),e.current}(),v=function(){var e=(0,s.useRef)(null);return!e.current&&window.google&&(e.current=new window.google.maps.places.AutocompleteService),e.current}(),C=function(e){return(0,s.useMemo)((function(){return Z()((function(n,t){if(!n)return t();e.getPlacePredictions({input:n,componentRestrictions:{country:"us"},types:["address"]},t)}),200)}),[])}(v);(0,s.useEffect)((function(){m({description:e})}),[e]),(0,s.useEffect)((function(){var e=!0;if(v){if(""!==f)return C(f,(function(n){if(e){var t=[];d&&(t=[d]),n&&(t=(0,b.Z)(t).concat((0,b.Z)(n))),l(t)}})),function(){e=!1};l(d?[d]:[])}}),[d,f,C]);var E=(0,s.useCallback)((function(e,o){o&&o.place_id&&h.getDetails({placeId:o.place_id,fields:["address_component"]},(function(e,s){if("OK"===s){var c=(l=e.address_components,u=function(){var e,n={lineAddress:x.UE.mailingAddress,city:x.UE.mailingAddressCity,unit:x.UE.mailingAddressUnit,state:x.UE.mailingAddressState,county:x.UE.mailingAddressCounty,zipCode:x.UE.mailingAddressZipCode},t={lineAddress:x.UE.serviceAddress,city:x.UE.serviceAddressCity,unit:x.UE.serviceAddressUnit,state:x.UE.serviceAddressState,county:x.UE.serviceAddressCounty,zipCode:x.UE.serviceAddressZipCode};return e={},(0,y.Z)(e,x.UE.mailingAddress,n),(0,y.Z)(e,x.UE.serviceAddress,t),e}()[a],l.reduce((function(e,n){var t=(0,r.Z)({},e),i=e[u.lineAddress];switch(n.types[0]){case"route":t[u.lineAddress]=i?"".concat(i," ").concat(n.long_name):n.long_name;break;case"street_number":t[u.lineAddress]=i?"".concat(n.long_name," ").concat(i):n.long_name;break;case"locality":t[u.city]=n.long_name;break;case"administrative_area_level_1":t[u.state]=n.short_name;break;case"administrative_area_level_2":t[u.county]=n.short_name;break;case"postal_code":t[u.zipCode]=n.long_name;break;default:return t}return t}),{}));t?t(c):Object.keys(c).forEach((function(e){n(e,c[e])})),g(c[a]),m((0,i.Z)((0,r.Z)({},o),{description:c[a]}))}var l,u})),o||m(null),l(o?[o].concat((0,b.Z)(c)):c)}),[h,n,g,m]),w=(0,s.useCallback)((function(e,n){g(n)}),[g]);return{autocompletValue:d,options:c,updateOptions:E,updateInputValue:w}}var w=t(39011),N=(0,d.Z)((function(){return(0,m.Z)({noOptions:{display:"none"}})}));function A(e){var n,t,d=e.setValue,m=e.testId,f=void 0===m?void 0:m,y=e.name,b=e.value,C=e.updateAddressCallback,Z=void 0===C?void 0:C,A=e.disabled,j=e.disabledPropMode,I=void 0===j?v.iJ.Auto:j,k=(0,a.Z)(e,["setValue","testId","name","value","updateAddressCallback","disabled","disabledPropMode"]),_=N(),T=E(b,d,Z,y),S=T.autocompletValue,U=T.options,P=T.updateOptions,z=T.updateInputValue,L=k.width,M=k.trigger,R=k.clearErrors,O=k.getValues,H=k.errors,D=k.changeCallback,V=(0,s.useCallback)((function(e){D&&D(),d(y,e.target.value)}),[y,d]),W=(0,w.RJ)(y,M,R,O),F=W.onBlurHandler,B=W.onFocusHandler,Y=null===H||void 0===H||null===(n=H[y])||void 0===n?void 0:n.message,q=(0,s.useCallback)((function(e){return"string"===typeof e?e:e.description?e.description:""}),[]),Q=(0,s.useCallback)((function(){var e=null===b||void 0===b?void 0:b.trim();b!==e&&d(y,e),F()}),[b,F,d,y]),G=(0,h.v9)((function(e){return e.enrollment})).isAlreadyEnrolled;return t=I===v.iJ.Auto?G&&x.IT.includes(y):A,(0,o.jsx)(u.Z,{item:!0,xs:12,md:L,children:(0,o.jsx)(l.ZP,{id:"google-autocomplete-field",style:{width:"100%"},getOptionLabel:q,filterOptions:function(e){return e},classes:{noOptions:_.noOptions},options:U,autoComplete:!0,freeSolo:!0,includeInputInList:!0,filterSelectedOptions:!0,value:S,onChange:P,onInputChange:z,renderInput:function(e){return(0,o.jsx)(c.Z,(0,i.Z)((0,r.Z)({},e),{label:k.label||"Add a location",fullWidth:!0,inputProps:(0,i.Z)((0,r.Z)({},e.inputProps),{"data-testid":f,autoComplete:"new-password",disabled:t,style:t?{color:"rgba(0,0,0,0.38)"}:{}}),onChange:V,onBlur:Q,onFocus:B,error:!!Y,helperText:Y}))},renderOption:function(e){var n=(null===e||void 0===e?void 0:e.structured_formatting)||{},t=n.main_text_matched_substrings,r=n.main_text,i=n.secondary_text,a=t&&t.length>0?t:[],s=r?g()(r,a.map((function(e){return[e.offset,e.offset+e.length]}))):[];return(0,o.jsx)(u.Z,{container:!0,alignItems:"center",children:(0,o.jsxs)(u.Z,{item:!0,xs:!0,children:[s.map((function(e,n){return(0,o.jsx)("span",{children:e.text},n)})),(0,o.jsx)(p.Z,{variant:"body2",color:"textSecondary",children:i})]})})}})})}var j=t(30553),I=t(80797);function k(e){var n=e.label,t=e.onChange,r=e.checked,i=e.className,a=e.disabled,s=void 0!==a&&a,c=e["data-testid"];return(0,o.jsx)(j.Z,{className:i,disabled:s,control:(0,o.jsx)(I.Z,{value:"yes",checked:r,onChange:t,color:"primary","data-testid":c}),label:n})}function _(e){var n=e.component,t=e.inputRef,i=(0,a.Z)(e,["component","inputRef"]),c=(0,s.useState)(null),l=c[0],u=c[1];return(0,s.useImperativeHandle)(t,(function(){return{focus:function(){return l.focus()}}}),[l]),(0,o.jsx)(n,(0,r.Z)({onReady:u,options:{placeholder:""}},i))}},74589:function(e,n,t){t.d(n,{W:function(){return h}});var r=t(14924),i=t(85893),a=(t(67294),t(94184)),o=t.n(a),s=t(41120),c=t(75154),l=t(5566),u=t(50253),d=t(17812),m=t(80366),p=t(88206),f=t(86459),g=(0,s.Z)((function(e){var n,t;return(0,c.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},commonModal:(n={position:"relative",width:"100vw",height:"100vh",backgroundColor:e.palette.white.main,"&::-webkit-scrollbar":{width:0}},(0,r.Z)(n,e.breakpoints.up("sm"),{width:"580px",minHeight:"300px",height:"fit-content",borderRadius:"5px"}),(0,r.Z)(n,e.breakpoints.up("md"),{width:"780px"}),(0,r.Z)(n,e.breakpoints.down("sm"),{overflowY:"scroll",overflowX:"hidden"}),n),backgroundImage:{backgroundImage:"url('./bkg_noProject.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"bottom 10px left 0"},content:(t={},(0,r.Z)(t,e.breakpoints.up("sm"),{margin:"24px 48px 0"}),(0,r.Z)(t,"margin","6px"),t),closeBtn:{position:"absolute",top:"7px",right:"7px"}})}));function h(e){var n=e.children,t=e.onCloseHandler,a=void 0===t?void 0:t,s=e.open,c=e.style,h=void 0===c?void 0:c,v=e.modalCSSClass,x=void 0===v?void 0:v,y=e.backgroundImage,b=void 0===y||y,C=e.testId,Z=void 0===C?void 0:C,E=g(),w=(0,p.c)(p.A.needHelp);return(0,i.jsx)(l.Z,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description","data-testid":Z||"common-modal",open:s,onClose:a,disableEnforceFocus:w,container:w?(0,f.Ii)():void 0,children:(0,i.jsx)(u.Z,{justifyContent:"center",className:E.wrapper,children:(0,i.jsxs)("div",{className:o()(E.commonModal,x,(0,r.Z)({},E.backgroundImage,b)),style:h,children:[a&&(0,i.jsx)(d.Z,{"aria-label":"close",size:"small",className:E.closeBtn,onClick:a,children:(0,i.jsx)(m.Z,{})}),(0,i.jsx)("div",{className:E.content,children:n})]})})})}},80565:function(e,n,t){t.d(n,{h:function(){return _}});var r=t(14924),i=t(85893),a=t(67294),o=t(94184),s=t.n(o),c=t(41120),l=t(75154),u=t(5566),d=t(50253),m=t(17812),p=t(41749),f=t(22318),g=t(282),h=t(43950),v=t(25617),x=t(80366),y=t(56255),b=t(52414),C=t(86459),Z=t(88206),E=t(70753),w=t(3526),N=t(17969),A=t(17867),j=t(73216);function I(){var e=(0,v.I0)(),n=(0,A.cI)(),t=n.handleSubmit,r=n.watch,o=n.setValue,s=n.errors,c=n.register,l=n.unregister,u=n.trigger,d=n.clearErrors,m=n.getValues,p=t((function(){e((0,b.FK)())})),f=(0,a.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),p(e)}),[p]);return(0,i.jsx)("form",{id:"verifyMeForm",onSubmit:f,children:(0,i.jsx)(j.M,{watch:r,setValue:o,errors:s,register:c,unregister:l,trigger:u,clearErrors:d,getValues:m})})}var k=(0,c.Z)((function(e){var n;return(0,l.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(0,r.Z)({position:"relative",width:"100vw",background:e.palette.common.white,height:"fit-content",padding:e.spacing(12,0)},e.breakpoints.up("sm"),{borderRadius:5,width:1e3,height:480,boxSizing:"border-box"}),closeBtn:{position:"absolute",top:7,right:7,zIndex:2},expiredContainer:{minHeight:"inherit"},expiredHeader:{textAlign:"center"},mainHeader:{fontSize:18,fontWeight:700,textAlign:"center",margin:e.spacing(1.25,0)},subHeader:{color:"#727272",fontSize:14,textAlign:"center",margin:e.spacing(0,2,3)},emailOutterContainer:(n={width:"80%",background:"#F3F3F3",borderRadius:32},(0,r.Z)(n,e.breakpoints.up("sm"),{width:"65%"}),(0,r.Z)(n,"margin",e.spacing(0,"auto")),n),emailInnerContainer:{padding:e.spacing(1.25,0)},emailHeader:{fontWeight:400,color:e.palette.gray.main,margin:0},email:{wordBreak:"break-word",fontWeight:400,color:e.palette.grayDark.main,margin:0},emailBlue:{color:e.palette.blue.dark},formContainerWrapper:(0,r.Z)({margin:e.spacing(0,10,0)},e.breakpoints.down("md"),{margin:0}),headerWrapper:{margin:e.spacing(1,0)},notifyMeBtnWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},showInputContainer:{marginTop:e.spacing(4.25)},sendEmailAgainWrapper:{margin:e.spacing(4.25,2,3,0)},showInput:{color:"grey",fontSize:14,textDecoration:"underline",cursor:"pointer",textAlign:"center",width:"100%"},footer:{position:"absolute",bottom:0,left:0,background:e.palette.blue.light,padding:"7px 0"},footerHint:{fontSize:12,fontWeight:400,margin:e.spacing(0,"auto"),width:"fit-content"},absolute7:{position:"absolute",top:"7px",left:"7px"},noCaseTransform:{textTransform:"none",fontSize:"20px",lineHeight:"29px",textAlign:"center",margin:"0 auto 12px auto"},spacer:{minHeight:"36px",minWidth:"1px"},alreadyEnrolledText:{fontSize:"14px",lineHeight:"20px",fontWeight:500,textAlign:"center",color:e.palette.primary.main},alreadyEnrolledMessage:{fontSize:"14px",lineHeight:"20px",fontWeight:400,textAlign:"center",width:"408px"},mb50:{marginBottom:50},mt17:{marginTop:17},variableWidth:(0,r.Z)({width:"80%"},e.breakpoints.up("sm"),{width:"65%"}),soothingBlue:{backgroundColor:e.palette.blueLight.light},mb21:{marginBottom:21},mb2:{marginBottom:2},outer:(0,r.Z)({margin:"0 auto"},e.breakpoints.up("sm"),{width:640}),cannotProceedMessage:{padding:e.spacing(4,2),width:"75%",margin:"0 auto"},paddedButton:{padding:"13px 51px",textTransform:"none",fontSize:16,lineHeight:"23px",fontWeight:600,fontStyle:"normal","&:hover":{backgroundColor:e.palette.primary.main,color:"#FFFFFF"}},height52:{height:"52px"},modalFooter:(0,r.Z)({position:"absolute",bottom:-104,height:100,background:e.palette.common.white,padding:"16px 90px",width:1e3,boxSizing:"border-box"},e.breakpoints.down("md"),{visibility:"hidden"}),modalFooterCard:{width:"50%",justifyContent:"space-between",alignItems:"center"},modalFootCardText:{fontSize:"14px",fontWeight:300,lineHeight:"20px",width:"90%"},mr10:{marginRight:10}})}));function _(e){var n=e.onCloseHandler,t=k(),r=(0,v.I0)(),o=(0,v.v9)((function(e){return e})),c=o.enrollment.isAlreadyEnrolled,l=o.modals,A=l.isEmailVerificationSentAgain,j=l.shouldShowEmailVerificationCodeInput,_=l.emailVerificationCodeIsExpired,T=o.wizard,S=T.emailAddress,U=T.customerType,P=(0,a.useCallback)((function(){r((0,b.vS)())}),[r]),z=(0,a.useCallback)((function(){r((0,b._y)())}),[r]),L=(0,a.useCallback)((function(e,n){"timeout"===n&&r((0,y.ty)(!1))}),[r]),M=(0,a.useMemo)((function(){return{Home:"residential",Business:"business"}[(0,w.VC)(U)]}),[U]),R=(0,Z.c)(Z.A.needHelp);return(0,i.jsx)(u.Z,{open:!0,"data-testid":"email-verify-modal",onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableEnforceFocus:R,container:R?(0,C.Ii)():void 0,children:(0,i.jsxs)(d.Z,{justifyContent:"center",className:t.wrapper,children:[(0,i.jsxs)("div",{className:t.modal,children:[(0,i.jsx)(m.Z,{"aria-label":"close",size:"small",className:t.closeBtn,onClick:n,children:(0,i.jsx)(x.Z,{})}),(0,i.jsx)(p.Z,{container:!0,alignItems:"center",justifyContent:"center",className:t.outer,children:_?(0,i.jsxs)(p.Z,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",className:t.expiredContainer,children:[(0,i.jsxs)(p.Z,{item:!0,xs:12,children:[(0,i.jsx)(f.Z,{className:t.expiredHeader,children:(0,i.jsx)("img",{src:"/exclamation1.svg",alt:"Exclamation mark inside the circle"})}),(0,i.jsx)(f.Z,{className:t.mainHeader,children:"Oops!"}),(0,i.jsx)(f.Z,{className:t.subHeader,children:"Your verification code has expired. Click below to get a new one."})]}),(0,i.jsx)(p.Z,{item:!0,xs:12,children:(0,i.jsx)(g.Z,{"data-testid":"expired-code-modal-continue-btn",onClick:z,variant:"contained",color:"primary",children:"Send Me Another Email"})})]}):(0,i.jsxs)(p.Z,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,i.jsxs)(i.Fragment,{children:[!j&&(0,i.jsx)(E.rQ,{className:"".concat(t.noCaseTransform," ").concat(t.mb2),title:"Welcome Back!"}),!c&&!j&&(0,i.jsx)(E.rQ,{className:t.noCaseTransform,testId:"verify-modal-title",title:"Please Confirm Your Email"})]}),c&&(0,i.jsx)(f.Z,{className:"".concat(t.alreadyEnrolledText," ").concat(t.mb50),align:"center",children:"We see you already have an email address registered in our system."}),!j&&(0,i.jsxs)(p.Z,{container:!0,className:"".concat(t.emailOutterContainer," ").concat(t.soothingBlue),justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(p.Z,{container:!0,item:!0,xs:2,justifyContent:"center",alignItems:"center",children:(0,i.jsx)("img",{src:"/email.svg",alt:"Opened envelope with a new letter inside"})}),(0,i.jsxs)(p.Z,{container:!0,item:!0,xs:8,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",className:t.emailInnerContainer,children:[(0,i.jsxs)("p",{className:t.emailHeader,children:[c&&"Registered ","Email Address:"]}),(0,i.jsx)("p",{className:t.email,children:S})]})]}),j&&(0,i.jsx)(p.Z,{container:!0,item:!0,xs:2,justifyContent:"center",alignItems:"center",children:(0,i.jsx)("img",{className:t.height52,src:"/email.svg",alt:"Opened mailbox"})}),(0,i.jsxs)(p.Z,{item:!0,xs:12,className:t.formContainerWrapper,children:[(0,i.jsxs)(p.Z,{container:!0,justifyContent:"center",className:t.headerWrapper,alignItems:"center",children:[!c&&!j&&(0,i.jsx)(f.Z,{align:"center",children:"We see you already have an email address registered in our system. To continue, please confirm your email address by using a link that we\u2019ve just sent to you."}),c&&!j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(f.Z,{align:"center",className:"".concat(t.alreadyEnrolledMessage," ").concat(t.mb50," ").concat(t.mt17),children:["If you would like to add additional"," ",M," ","utility accounts, we will send you a verification email first, and then you may continue"]}),(0,i.jsx)("div",{className:"".concat(t.notifyMeBtnWrapper),children:(0,i.jsx)(g.Z,{"data-testid":"enroll-additional-accounts",variant:"contained",color:"primary",className:t.paddedButton,onClick:P,children:"Add additional utility accounts"})})]})]}),(0,i.jsx)(p.Z,{container:!0,children:j?(0,i.jsx)(I,{}):!c&&(0,i.jsx)("div",{"data-testid":"enter-verification-code-link",className:s()(t.showInputContainer,t.showInput),onClick:function(){return r((0,y.jI)(!0))},children:"Or enter verification code"})}),(!c||c&&j)&&(0,i.jsx)(p.Z,{container:!0,justifyContent:"center",className:t.sendEmailAgainWrapper,children:(0,i.jsx)(N.N,{})})]})]})}),c&&!j&&(0,i.jsxs)(p.Z,{className:t.modalFooter,container:!0,direction:"row",children:[(0,i.jsxs)(p.Z,{className:t.modalFooterCard,container:!0,direction:"row",children:[(0,i.jsx)("img",{src:"/add1.svg",alt:"Envelope with a plus sign"}),(0,i.jsxs)(f.Z,{className:t.modalFootCardText,children:["If you would like to enroll a"," ","residential"===M?"business":"home"," ","instead, please enroll those under a different email address."]})]}),(0,i.jsxs)(p.Z,{className:t.modalFooterCard,container:!0,direction:"row",children:[(0,i.jsx)("img",{src:"/login1.svg",alt:"Abstract user avatar inside a circle"}),(0,i.jsxs)(f.Z,{className:t.modalFootCardText,children:["If you would like to access the subscriber dashboard to review your current accounts instead, please"," ",(0,i.jsx)("a",{href:"".concat("https://portal.ampion.net"),target:"_blank",rel:"noreferrer",children:"click here"})]})]})]})]}),(0,i.jsx)(h.Z,{open:A,autoHideDuration:4e3,message:"Email sent to ".concat(S),onClose:L})]})})}},59491:function(e,n,t){t.d(n,{n:function(){return qe}});var r,i,a=t(85893),o=t(67294),s=t(25617),c=t(56255),l=t(52414),u=t(26042),d=t(69396),m=t(94184),p=t.n(m),f=t(41120),g=t(41749),h=t(22318),v=t(5566),x=t(50253),y=t(17812),b=t(10035),C=t(80366),Z=t(88702),E=t(88206),w=t(14924);!function(e){e.CreditCheck="CreditCheck",e.SystemError="SystemError",e.UserNotFound="UserNotFound",e.ExclamationMark="ExclamationMark",e.QuestionMark="QuestionMark",e.TrashCan="TrashCan"}(r||(r={}));var N=(i={},(0,w.Z)(i,r.CreditCheck,{imgSrc:"/creditCheckFailed.svg",imgAlt:"File icon with x mark"}),(0,w.Z)(i,r.UserNotFound,{imgSrc:"/unknownUser.svg",imgAlt:"User icon inside circle with question mark"}),(0,w.Z)(i,r.SystemError,{imgSrc:"/systemError.svg",imgAlt:"Cloud icon with x mark"}),(0,w.Z)(i,r.ExclamationMark,{imgSrc:"/exclamationBlack.svg",imgAlt:"Exclamation mark inside circle"}),(0,w.Z)(i,r.QuestionMark,{imgSrc:"/questionMark.svg",imgAlt:"Question mark inside file icon"}),(0,w.Z)(i,r.TrashCan,{imgSrc:"/agent-invitation/trash-can.svg",imgAlt:"Trash can in black, outlined"}),i),A=(0,f.Z)((function(e){return{description:{textAlign:"center",marginBottom:e.spacing(2),"&:last-child":{color:e.palette.grey[600]}}}}));var j=function(e){var n=e.description,t=A();return n?"string"===typeof n?(0,a.jsx)(h.Z,{className:t.description,children:n}):Array.isArray(n)?(0,a.jsx)(a.Fragment,{children:n.map((function(e){return(0,a.jsx)(h.Z,{className:t.description,children:e},"modal-description-".concat(e.substring(0,10)))}))}):n:null},I=(0,f.Z)((function(e){return(0,d.Z)((0,u.Z)({},(0,Z.Z)(e,{modalWidth:{md:500,sm:400},modalHeight:{sm:"auto"}})),{content:{padding:e.spacing(8,6)},title:{fontSize:20,textAlign:"center"},actionButton:{padding:e.spacing(1,4)}})}));var k=function(e){var n=e.title,t=void 0===n?null:n,r=e.content,i=void 0===r?null:r,o=e.buttonText,s=void 0===o?null:o,c=e.iconName,l=void 0===c?void 0:c,u=e.disableClose,d=void 0!==u&&u,m=e.isLoading,f=void 0!==m&&m,Z=e.onContinueHandler,w=void 0===Z?null:Z,A=e.onCloseHandler,k=e.testId,_=void 0===k?null:k,T=e.classNameOverrides,S=void 0===T?{}:T,U=e.backButtonConfig,P=void 0===U?void 0:U,z=I(),L=N[l],M=(0,E.c)(E.A.needHelp),R=(0,a.jsxs)(g.Z,{container:!0,className:z.content,justifyContent:"center",children:[L&&(0,a.jsx)(g.Z,{item:!0,children:(0,a.jsx)("img",{src:L.imgSrc,alt:L.imgAlt})}),t&&(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsx)(h.Z,{className:z.title,children:t})}),i&&(0,a.jsx)(g.Z,{item:!0,xs:12,children:"string"===typeof i||Array.isArray(i)?(0,a.jsx)(j,{description:i}):i}),(0,a.jsxs)(g.Z,{container:!0,justifyContent:P?"space-around":"center",children:[P&&(0,a.jsx)(g.Z,{item:!0,children:(0,a.jsx)(b.Z,{actionCallback:P.clickHandler,className:z.actionButton,variant:"contained",color:"default",loading:f,buttonProps:{"data-testid":"base-agent-invitation-info-modal-cancel-btn"},children:P.text})}),s&&w&&(0,a.jsx)(g.Z,{item:!0,children:(0,a.jsx)(b.Z,{actionCallback:w,className:z.actionButton,variant:"contained",color:"primary",loading:f,buttonProps:{"data-testid":"base-agent-invitation-info-modal-action-btn"},children:s})})]})]});return(0,a.jsx)(v.Z,{open:!0,"data-testid":_,onClose:d?null:A,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableEnforceFocus:M,children:(0,a.jsx)(x.Z,{justifyContent:"center",className:z.wrapper,children:(0,a.jsxs)(g.Z,{container:!0,className:p()(z.modal,S.modal),children:[!d&&(0,a.jsx)(y.Z,{"aria-label":"close",size:"small",className:z.closeBtn,onClick:A,"data-testid":"base-agent-invitation-info-modal-close-btn",children:(0,a.jsx)(C.Z,{})}),R]})})})};var _=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=(0,s.v9)((function(e){return e.modals.lmiQualificationRowIndex})),c=(0,s.v9)((function(e){return e.agentInvitation.LMIQualifications}))[i],u=(0,o.useCallback)((function(){t((0,l.wl)(i)),n()}),[t,i,n]);return(0,a.jsx)(k,{iconName:r.ExclamationMark,testId:"delete-lmi-qualification-row-modal",title:"Are you sure you want to delete all ".concat(c.type," data?"),content:"This will delete the program selection permanently. You cannot undo this action.",buttonText:"Delete",onContinueHandler:u,onCloseHandler:n})};var T=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=(0,s.v9)((function(e){return e.modals.utilityAccountRowIndex})),c=(0,o.useCallback)((function(){t((0,l.Yv)(i)),n()}),[t,i,n]);return(0,a.jsx)(k,{testId:"delete-utility-account-row-modal",iconName:r.TrashCan,title:"Are you sure?",content:"Deleting a utility account can\u2019t be undone.",buttonText:"Delete",onContinueHandler:c,onCloseHandler:n})},S=t(17572),U=t(17867),P=t(20165),z=t(75154),L=(0,f.Z)((function(){return(0,z.Z)({modal:{height:530},centeredText:{textAlign:"center"},boldText:{fontWeight:500},uppercaseText:{textTransform:"uppercase"}})}));var M=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=(0,U.Gc)().setValue,u=L(),d=(0,s.v9)((function(e){var n;return{relatedUtilityCompanyInfo:e.agentInvitation.relatedUtilityCompanyInfo,currentlySelectedUtilityCompanyName:null===(n=(0,S.sC)(e))||void 0===n?void 0:n.name}})),m=d.relatedUtilityCompanyInfo,f=d.currentlySelectedUtilityCompanyName,g=m||{},h=g.companyName,v=g.zipCode,x=(0,o.useCallback)((function(){t((0,l.tA)()),n()}),[t,n]),y=(0,a.jsxs)("p",{className:u.centeredText,children:[(0,a.jsx)("span",{className:u.boldText,children:"Please note:"})," ","We only accept adding utility accounts from one utility company at this time. The added"," ",h," ","account(s) will be"," ",(0,a.jsx)("span",{className:p()(u.boldText,u.uppercaseText),children:"removed"})," ","if you decide to change the utility company. Do you wish to continue?"]});return(0,a.jsx)(k,{testId:"utility-company-change-detected-modal",iconName:r.ExclamationMark,title:"Looks like you are changing the utility company to ".concat(f,"..."),content:y,buttonText:"Change to ".concat(f),classNameOverrides:{modal:u.modal},onContinueHandler:x,onCloseHandler:function(){i(P.UE.zipCode,v),t((0,c.ZC)(v)),n()}})};var R=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=(0,o.useCallback)((function(){t((0,l.Vj)()),n()}),[t,n]),u=(0,o.useCallback)((function(){t((0,c.NR)()),n()}),[t,n]);return(0,a.jsx)(k,{testId:"sensitive-data-source-modal",iconName:r.ExclamationMark,title:"Are you sure?",content:"At least one row of evidence is missing a file upload, are you sure you want to proceed?",buttonText:"Send Invitation",backButtonConfig:{clickHandler:u,text:"Back"},onContinueHandler:i,onCloseHandler:u})},O=t(282),H=t(82119),D=(0,f.Z)((function(e){return(0,z.Z)({programType:{fontSize:14,fontWeight:500,color:e.palette.grayDark.main,backgroundColor:e.palette.grayLight.light,textAlign:"center",margin:e.spacing(2,0,4),padding:e.spacing(1,0)},addDocumentBtn:{margin:e.spacing(4,"auto",0),width:"auto"},wontProvideEvidenceLink:{color:e.palette.primary.main,cursor:"pointer",textAlign:"center",textDecoration:"underline",marginTop:e.spacing(4)}})}));var V=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=D(),o=(0,s.v9)((function(e){return e.wizard})).lmiProgramType,l=o?H.EI[o]:"";return(0,a.jsx)(k,{testId:"lmi-missing-evidence-modal",iconName:r.QuestionMark,title:"Missing Program Document",content:(0,a.jsxs)(x.Z,{display:"flex",flexDirection:"column",children:[l&&(0,a.jsx)(h.Z,{className:i.programType,children:l}),(0,a.jsxs)(h.Z,{children:["Looks like you haven't uploaded the document to your selected program yet."," ","We cannot confirm your eligibility if the document is missing or invalid."]}),(0,a.jsx)(O.Z,{"data-testid":"lmi-missing-evidence-modal-button",className:i.addDocumentBtn,color:"primary",variant:"contained",onClick:n,children:"Add document now"}),(0,a.jsx)("a",{className:i.wontProvideEvidenceLink,onClick:function(){n(),t((0,c.M9)(!0))},children:"I prefer not to provide the document at this time"})]}),onCloseHandler:n})},W=t(12484),F=(0,f.Z)((function(e){return(0,z.Z)({note:{color:e.palette.grayDark.main,textAlign:"center",margin:e.spacing(2,0,4)},continueBtn:{margin:e.spacing(4,"auto",0),width:"auto"}})})),B=[{label:"I will provide the document later.",value:H.r8.provideLater},{label:"I'm unable to provide this type of document.",value:H.r8.notAvailable},{label:"I don't want to provide this type of document.",value:H.r8.wontProvide}];var Y=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=F(),c=(0,U.Gc)(),u=(0,o.useState)(""),d=u[0],m=u[1];return(0,a.jsx)(k,{testId:"lmi-wont-provide-evidence-modal",iconName:r.QuestionMark,title:"Ok, can you select a reason for not providing the document?",content:(0,a.jsxs)(x.Z,{display:"flex",flexDirection:"column",children:[(0,a.jsxs)(h.Z,{className:i.note,children:[(0,a.jsx)("b",{children:"Please note"}),": If you do not provide a document, we cannot confirm your eligibility for program benefits that relate to your LMI status."]}),(0,a.jsx)(W.Z,{name:P.UE.customerType,value:d,radioElements:B,handleChange:function(e){var n=e.target.value;m(n)}}),(0,a.jsx)(O.Z,{"data-testid":"lmi-wont-provide-evidence-modal-button",className:i.continueBtn,color:"primary",variant:"contained",disabled:!d,onClick:function(){c.setValue(P.UE.lmiWontProvideEvidence,d),t((0,l.s1)({name:P.UE.lmiWontProvideEvidence,value:d})),n()},children:"Confirm"})]}),onCloseHandler:n})},q=t(30889),Q=t(86459),G=(0,f.Z)((function(e){return(0,z.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(0,w.Z)({width:"100vw",position:"relative",background:e.palette.common.white,padding:"95px 40px 90px"},e.breakpoints.up("sm"),{padding:"95px 155px 90px",width:"auto",borderRadius:5,boxSizing:"border-box"}),title:{fontWeight:700,fontSize:"20px",lineHeight:"29px",color:e.palette.black.main,marginBottom:"30px"},message:{background:"#FFF1E6",borderRadius:"5px",padding:"13px 32px",marginBottom:"30px",maxWidth:"340px"},messageIcon:{marginRight:"23px"},messageEmail:{fontWeight:500,fontSize:"16px",color:e.palette.black.main},messageText:{fontWeight:400,fontSize:"16px",color:e.palette.grayDark.light},note:{fontWeight:400,fontSize:"16px",lineHeight:"23px",color:e.palette.blackDark.light,marginBottom:"30px"},button:{borderRadius:"15px 5px"}})}));var K=function(){var e=G(),n=(0,s.I0)(),t=(0,s.v9)((function(e){return e})).wizard.emailAddress,r=(0,o.useCallback)((function(){n((0,c.ao)(!1)),n((0,l.M_)(!1))}),[n]),i=(0,E.c)(E.A.needHelp);return(0,a.jsx)(v.Z,{open:!0,"data-testid":"agent-email-modal",onClose:r,disableEnforceFocus:i,container:i?(0,Q.Ii)():void 0,children:(0,a.jsx)(x.Z,{justifyContent:"center",className:e.wrapper,children:(0,a.jsx)("div",{className:e.modal,children:(0,a.jsxs)(g.Z,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(h.Z,{className:e.title,children:"Please change your email address"}),(0,a.jsxs)(g.Z,{container:!0,className:e.message,wrap:"nowrap",children:[(0,a.jsx)("img",{alt:"message",src:"error_outline_24px.svg",className:e.messageIcon}),(0,a.jsxs)(g.Z,{item:!0,children:[(0,a.jsx)("span",{className:e.messageEmail,children:t}),(0,a.jsxs)("span",{className:e.messageText,children:[" ","seems to be an agent email address."]})]})]}),(0,a.jsx)(h.Z,{className:e.note,children:"Please provide the subscriber's email address instead."}),(0,a.jsx)(q.Z,{label:"OK",notStretched:!0,actionCallback:r,className:e.button,buttonProps:{"data-testid":"okButton"}})]})})})})},J=t(74589),X=(0,f.Z)((function(e){return(0,z.Z)({title:{color:e.palette.red.main,fontSize:"24px",letterSpacing:0,lineHeight:"32px"},subTitle:{fontSize:"16px",letterSpacing:"0.15px",lineHeight:"32px",padding:"20px 0"},buttonContainer:{padding:"40px 0"},cancel:{display:"flex",justifyContent:"flex-end"},confirm:{display:"flex",justifyContent:"flex-start"}})}));var $=function(){var e=X(),n=(0,s.I0)(),t=(0,s.v9)((function(e){return e})),r=t.utilityAccounts.selectedAccountIndex,i=(0,o.useCallback)((function(){n((0,l.ov)(r))}),[n,r]),u=(0,o.useCallback)((function(){n((0,c.EY)()),n((0,c.n3)(!1))}),[n]);return(0,a.jsx)(J.W,{open:!0,onCloseHandler:u,children:(0,a.jsxs)(g.Z,{container:!0,direction:"column",alignContent:"center",alignItems:"center",children:[(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsx)(h.Z,{className:e.title,children:"Are you sure?"})}),(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsx)(h.Z,{className:e.subTitle,children:"Deleting a utility account can't be undone"})}),(0,a.jsxs)(g.Z,{item:!0,xs:12,container:!0,className:e.buttonContainer,spacing:2,children:[(0,a.jsx)(g.Z,{item:!0,xs:6,className:e.cancel,children:(0,a.jsx)(O.Z,{onClick:u,children:" KEEP IT"})}),(0,a.jsx)(g.Z,{item:!0,xs:6,className:e.confirm,children:(0,a.jsx)(O.Z,{variant:"contained",color:"primary",onClick:i,children:"DELETE IT"})})]})]})})},ee=t(22822),ne=(0,f.Z)((function(e){return(0,z.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(0,w.Z)({position:"relative",width:"100vw",background:e.palette.common.white,height:"fit-content",padding:e.spacing(12,0)},e.breakpoints.up("sm"),{borderRadius:5,width:1e3,height:480,boxSizing:"border-box"}),closeBtn:{position:"absolute",top:7,right:7},cannotProceedContainer:{minHeight:300},cannotProceedEmote:{fontSize:60},link:{textDecoration:"none",marginTop:21},outer:(0,w.Z)({margin:"0 auto"},e.breakpoints.up("sm"),{width:640})})})),te=function(e){var n;return n={},(0,w.Z)(n,ee.$I,"There is already a complete enrollment for email address ".concat(e,". Please, contact us to enroll more accounts.")),(0,w.Z)(n,ee._n,"There is an enrollment pending payment verification for email address ".concat(e,". Please verify payment info on the previous enrollment before enrolling more utility accounts. If you haven\u2019t receive the 2 small deposits, they should arrive in 1-3 days.")),n};var re=function(e){var n=e.onCloseHandler,t=ne(),r=(0,s.v9)((function(e){return e})),i=r.modals.cannotProceedCode,o=r.wizard.emailAddress,c=(0,E.c)(E.A.needHelp);return(0,a.jsx)(v.Z,{open:!0,"data-testid":"email-verify-modal",onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableEnforceFocus:c,container:c?(0,Q.Ii)():void 0,children:(0,a.jsx)(x.Z,{justifyContent:"center",className:t.wrapper,children:(0,a.jsxs)("div",{className:t.modal,children:[(0,a.jsx)(y.Z,{"aria-label":"close",size:"small",className:t.closeBtn,onClick:n,children:(0,a.jsx)(C.Z,{})}),(0,a.jsx)(g.Z,{container:!0,alignItems:"center",justifyContent:"center",className:t.outer,children:(0,a.jsxs)(g.Z,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",className:t.cannotProceedContainer,children:[(0,a.jsx)(h.Z,{className:t.cannotProceedEmote,align:"center",children:(0,a.jsx)("img",{src:"/exclamation1.svg",alt:"orange exclamation mark, outlined"})}),(0,a.jsx)(h.Z,{align:"center",children:te(o)[i]}),i===ee.$I&&(0,a.jsx)("a",{href:"".concat("https://ampion.net","/contact-us"),target:"_blank",className:t.link,rel:"noreferrer",children:(0,a.jsx)(O.Z,{"data-testid":"contact-us",variant:"contained",color:"primary",children:"Contact Us"})})]})})]})})})},ie=t(80565),ae=t(95477),oe=(0,f.Z)((function(e){return(0,z.Z)({mainContainer:(0,w.Z)({margin:e.spacing(5,0,0)},e.breakpoints.up("sm"),{margin:e.spacing(10,0,10)}),title:{fontSize:22,color:e.palette.primary.main,marginBottom:e.spacing(4)},text:{fontWeight:500,marginTop:e.spacing(4),marginBottom:e.spacing(4)}})}));function se(){var e=oe(),n=(0,s.I0)(),t=(0,s.v9)(c.fi),r=(0,o.useCallback)((function(){n((0,l.nI)())}),[n]);return(0,a.jsx)(J.W,{open:!0,backgroundImage:!1,children:(0,a.jsxs)(x.Z,{"data-testid":"verify-success-modal",display:"flex",flexDirection:"column",alignItems:"center",className:e.mainContainer,children:[(0,a.jsx)(h.Z,{align:"center",className:e.title,children:"Welcome back!"}),(0,a.jsx)("img",{alt:"building-and-house",src:"./building_and_house.svg"}),(0,a.jsx)(h.Z,{align:"center",variant:"h6",className:e.text,children:"To continue your enrollment, press the button below"}),(0,a.jsx)(x.Z,{display:"flex",justifyContent:"center",children:t?(0,a.jsx)(ae.Z,{}):(0,a.jsx)(O.Z,{"data-testid":"verify-success-modal-continue-btn",variant:"contained",color:"primary",onClick:r,children:"Continue"})})]})})}var ce=t(86631),le=t(66083),ue=t(29525),de=t(7212),me=t(66856),pe=(0,f.Z)((function(e){return(0,z.Z)({errorDialogTitle:{color:e.palette.black.dark,fontSize:"20px",letterSpacing:"0.15px",lineHeight:"32px",fontWeight:"bold"},errorDialogText:{color:e.palette.grayDark.main,fontSize:"16px",letterSpacing:"0.15px",lineHeight:"24px"}})}));function fe(){var e=pe(),n=(0,o.useCallback)((function(){window.location.reload()}),[]),t=(0,E.c)(E.A.needHelp);return(0,a.jsxs)(ce.Z,{open:!0,onClose:n,disableEnforceFocus:t,container:t?(0,Q.Ii)():void 0,children:[(0,a.jsx)(le.Z,{id:"alert-dialog-title",className:e.errorDialogTitle,disableTypography:!0,children:"We've run into an error"}),(0,a.jsx)(ue.Z,{children:(0,a.jsx)(de.Z,{id:"alert-dialog-description",className:e.errorDialogText,children:"Sorry, something went wrong. Please reload the page and try again. If the problem persists please email help@ampion.net"})}),(0,a.jsx)(me.Z,{children:(0,a.jsx)(O.Z,{onClick:n,color:"primary",children:"Reload page"})})]})}var ge=t(70753),he=(0,f.Z)((function(e){return(0,z.Z)({keepSigningContainer:{minHeight:240},spinnerRoot:{color:e.palette.blue.main}})}));function ve(){var e=he(),n=(0,s.I0)(),t=(0,s.v9)((function(e){return e.docusign.isReloading})),r=(0,o.useCallback)((function(){n((0,l.P6)(!0))}),[n]);return(0,a.jsx)(J.W,{open:!0,children:(0,a.jsxs)(g.Z,{container:!0,spacing:3,justifyContent:"space-between",direction:"column",alignContent:"center",className:e.keepSigningContainer,children:[(0,a.jsx)(ge.rQ,{title:"Your document has timed out"}),(0,a.jsx)(h.Z,{align:"center",children:"Your contract has not been completed yet. Do you want to continue?"}),(0,a.jsxs)(h.Z,{align:"center",children:[t&&(0,a.jsx)(ae.Z,{size:33,classes:{root:e.spinnerRoot}}),!t&&(0,a.jsx)(O.Z,{"data-testid":"keep-signing",onClick:r,variant:"contained",color:"primary",children:"Keep Signing"})]})]})})}var xe=t(27802),ye=t(29365),be=t(72740),Ce=t(17969),Ze=(0,f.Z)((function(e){return(0,z.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(0,w.Z)({width:"100vw",position:"relative",background:e.palette.common.white,padding:"80px 0 25px"},e.breakpoints.up("sm"),{borderRadius:5,width:1e3,boxSizing:"border-box"}),closeBtn:{position:"absolute",top:7,right:7},headerWrapper:{margin:e.spacing(1,0)},headerImg:{height:"56px"},headerTitle:{fontWeight:700,fontSize:"20px",lineHeight:"29px",marginTop:"25px"},description:{maxWidth:"440px",margin:"20px 0 25px"},horizontalRule:(0,w.Z)({width:"100%"},e.breakpoints.up("sm"),{width:"calc(100% - 120px)"}),note:{margin:"25px 0 10px",maxWidth:"440px"},sendEmailAgainWrapper:{marginTop:"45px"}})}));function Ee(e){var n=e.onCloseHandler,t=Ze(),r=(0,s.I0)(),i=(0,s.v9)((function(e){return e.wizard.emailAddress})),c=(0,U.cI)(),u=c.handleSubmit,d=c.watch,m=c.setValue,p=c.errors,f=c.register,b=c.unregister,Z=c.trigger,w=c.clearErrors,N=c.getValues,A=u((function(){r((0,l.FK)())})),j=(0,o.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),A(e)}),[A]),I=(0,E.c)(E.A.needHelp);return(0,a.jsx)(v.Z,{open:!0,"data-testid":"email-verify-modal",onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableEnforceFocus:I,container:I?(0,Q.Ii)():void 0,children:(0,a.jsx)("form",{id:"verifyMeForm",onSubmit:j,children:(0,a.jsx)(x.Z,{justifyContent:"center",className:t.wrapper,children:(0,a.jsxs)("div",{className:t.modal,children:[(0,a.jsx)(y.Z,{"aria-label":"close",size:"small",className:t.closeBtn,onClick:n,children:(0,a.jsx)(C.Z,{})}),(0,a.jsxs)(g.Z,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)("img",{alt:"lamp",className:t.headerImg,src:"/lamp.svg"}),(0,a.jsx)(h.Z,{className:t.headerTitle,children:"Your Session Timed Out"}),(0,a.jsxs)(h.Z,{align:"center",className:t.description,children:["Not to worry! An email has been sent to \u2018",i,"\u2019, please check your inbox to continue"]}),(0,a.jsx)("hr",{className:t.horizontalRule}),(0,a.jsx)(h.Z,{className:t.note,align:"center",children:"Check your email and enter the code for verification"}),(0,a.jsx)(be.B,{formId:"verifyMeForm",watch:d,setValue:m,errors:p,register:f,unregister:b,trigger:Z,clearErrors:w,getValues:N}),(0,a.jsx)("div",{className:t.sendEmailAgainWrapper,children:(0,a.jsx)(Ce.N,{})})]})]})})})})}var we=(0,f.Z)((function(e){return(0,d.Z)((0,u.Z)({},(0,Z.Z)(e,{modalHeight:{sm:575}})),{content:{padding:"110px 50px"},title:{fontSize:20,textAlign:"center",color:e.palette.blue.dark},actionButton:{padding:"10px 30px"}})}));var Ne=function(e){var n=e.title,t=e.content,r=void 0===t?null:t,i=e.buttonText,o=void 0===i?null:i,s=e.onContinueHandler,c=void 0===s?null:s,l=e.onCloseHandler,u=e.isLoading,d=e.testId,m=void 0===d?null:d,p=we();return(0,a.jsx)(v.Z,{open:!0,"data-testid":m,onClose:l,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,a.jsx)(x.Z,{justifyContent:"center",className:p.wrapper,children:(0,a.jsx)(g.Z,{container:!0,className:p.modal,children:(0,a.jsxs)(g.Z,{item:!0,container:!0,xs:12,className:p.content,justifyContent:"center",children:[(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsx)(h.Z,{className:p.title,children:n})}),(0,a.jsx)(g.Z,{item:!0,children:(0,a.jsx)("img",{src:"/house.svg",alt:"Small house with car in garage"})}),(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsx)(j,{description:r})}),o&&c&&(0,a.jsx)(g.Z,{item:!0,children:(0,a.jsx)(b.Z,{actionCallback:c,className:p.actionButton,variant:"contained",color:"primary",loading:u,buttonProps:{"data-testid":"base-agent-invitation-success-modal-action-btn"},children:o})})]})})})})},Ae=(0,f.Z)((function(e){return(0,z.Z)({confirmationContent:{textAlign:"center"},confirmationHeader:{marginBottom:e.spacing(2)}})}));var je=function(e){var n=e.onCloseHandler,t=Ae(),r=(0,s.v9)((function(e){return e.wizard})),i=r.emailAddress,o=r.icsa,c=(0,a.jsxs)("div",{className:t.confirmationContent,children:[(0,a.jsxs)(h.Z,{className:t.confirmationHeader,children:["Email sent to"," ",i]}),o&&(0,a.jsxs)(h.Z,{children:["Please note that a"," ",(0,a.jsx)("b",{children:"mandatory recorded verification dial out"})," ","will occur at the end of this enrollment. The subscriber must confirm their enrollment on the phone in order for Ampion to accept this enrollment."]})]});return(0,a.jsx)(Ne,{title:"Thank You!",content:c,buttonText:"Start a New Enrollment",onCloseHandler:n,onContinueHandler:function(){return window.location.reload()},testId:"enrollment-successfully-created-modal"})},Ie=t(43585);var ke=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=(0,U.Gc)(),o=function(){i.setValue(P.UE.zipCode,""),t((0,c.ZC)(void 0)),n()},l=(0,s.v9)(Ie.Ur);return(0,a.jsx)(k,{testId:"no-available-utilities-for-zip-modal",iconName:r.ExclamationMark,title:"Sorry, we don\u2019t have a project that services zip code ".concat(l,"."),buttonText:"Try Another Address",onContinueHandler:o,onCloseHandler:o})},_e=t(15186);var Te=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=(0,U.Gc)(),o=function(){i.setValue(P.UE.emailAddress,""),t((0,c.s0)(void 0)),t((0,c.n1)()),n()},u=(0,s.v9)((function(e){return{isLoading:e.agentInvitation.isAgentInvitationEnrollmentBeingContinued,creditCheckStatus:e.agentInvitation.creditCheckStatus}})),d=u.isLoading;return u.creditCheckStatus===_e.i.EnrollmentUpdateError?(0,a.jsx)(k,{testId:"incomplete-enrollment-found-modal",iconName:r.ExclamationMark,title:"It looks like the subscriber has an incomplete enrollment.",content:"Please try a different email address.",buttonText:"OK",onContinueHandler:o,onCloseHandler:o}):(0,a.jsx)(k,{testId:"incomplete-enrollment-found-modal",iconName:r.ExclamationMark,title:"It looks like the subscriber has an incomplete enrollment.",content:"Please send an email to the subscriber to continue.",buttonText:"Send",isLoading:d,onContinueHandler:function(){return t((0,l.c2)())},onCloseHandler:o})};var Se=function(e){var n=e.onCloseHandler,t=(0,s.I0)(),i=(0,U.Gc)(),u=(0,o.useCallback)((function(){t((0,l.wR)())}),[t]),d=function(){i.setValue(P.UE.emailAddress,""),t((0,c.s0)(void 0)),t((0,c.n1)()),n()},m=(0,s.v9)((function(e){return{isLoading:e.agentInvitation.isAgentInvitationEnrollmentBeingContinued,creditCheckStatus:e.agentInvitation.creditCheckStatus}})),p=m.isLoading;return m.creditCheckStatus===_e.i.EnrollmentUpdateError?(0,a.jsx)(k,{testId:"complete-enrollment-found-modal",iconName:r.ExclamationMark,title:"It looks like this subscriber is already in our system.",content:"Please try a different email address.",buttonText:"OK",onContinueHandler:d,onCloseHandler:d}):(0,a.jsx)(k,{testId:"complete-enrollment-found-modal",iconName:r.ExclamationMark,title:"It looks like this subscriber is already in our system.",content:"If the subscriber wants to add additional utility accounts, please send an email to continue.",buttonText:"Send",isLoading:p,onContinueHandler:u,onCloseHandler:d})},Ue=t(53624),Pe=(0,f.Z)((function(e){return(0,z.Z)({wrapper:{padding:e.spacing(8,4)},subscriberInfoContainer:{color:e.palette.black.main,backgroundColor:e.palette.blueLight.light,width:"100%",padding:e.spacing(2,0)},subscriberInfo:{display:"flex",margin:e.spacing(0,4)},subscriberName:{marginBottom:e.spacing(.5),fontWeight:500},subscriberInfoIcon:{margin:e.spacing(0,.5,0,-.75)},loadingImg:{maxWidth:150,margin:e.spacing(2,0)},loadingTitle:{color:e.palette.black.main,fontWeight:500,fontSize:18,marginBottom:6},loadingDescription:{color:e.palette.black.light}})}));var ze=function(){var e=Pe(),n=(0,s.I0)(),t=(0,s.v9)((function(e){return e.wizard})),r=t.firstName,i=t.lastName,c=t.mailingAddress,u=t.mailingAddressCity,d=t.mailingAddressState,m=t.mailingAddressZipCode,f=(0,o.useCallback)((function(){n((0,l.jc)())}),[n]),v="".concat(r," ").concat(i),x=[c,u,d,m].join(", ");return(0,a.jsx)(k,{testId:"credit-check-loading-modal",content:(0,a.jsxs)(g.Z,{container:!0,direction:"column",alignItems:"center",className:e.wrapper,children:[(0,a.jsxs)("div",{className:e.subscriberInfoContainer,children:[(0,a.jsx)(h.Z,{className:p()(e.subscriberInfo,e.subscriberName),children:v}),(0,a.jsxs)(h.Z,{className:e.subscriberInfo,children:[(0,a.jsx)(Ue.Z,{className:e.subscriberInfoIcon}),x]})]}),(0,a.jsx)("img",{alt:"magnifying glass icon",src:"/creditCheckInProgress.gif",className:e.loadingImg}),(0,a.jsx)(h.Z,{className:e.loadingTitle,children:"Running Soft Credit Check..."}),(0,a.jsx)(h.Z,{className:e.loadingDescription,children:"This may take a few moments"})]}),onCloseHandler:f})};var Le=function(e){var n=e.onCloseHandler;return(0,a.jsx)(k,{testId:"credit-check-failed-modal",iconName:r.CreditCheck,title:"Credit Check Failed",content:["The subscriber's credit result did not meet the threshold for sites we are actively filling.","Note that you may still proceed with the enrollment invitation, in case you still want to enroll the subscriber (e.g., for a future site)."],onCloseHandler:n})},Me=t(80766);var Re=function(e){var n=e.onCloseHandler;return(0,a.jsx)(k,{testId:"credit-check-system-error-modal",iconName:r.SystemError,title:"System Error",content:["We are sorry but there was an error in checking eligibility.","You can continue without an eligibility check or contact Ampion at ".concat(Me._.text," for support.")],buttonText:"Send",onCloseHandler:n})};var Oe=function(e){var n=e.onCloseHandler;return(0,a.jsx)(k,{testId:"credit-check-user-not-found-modal",iconName:r.UserNotFound,title:"User Not Found",content:["We were unable to find the subscriber to complete the eligibility check.","Please confirm the subscriber's information - double check the name, and perhaps try a prior address if they recently moved to the current location. Remember to correct the address after the credit check."],buttonText:"Edit Enrollment",onContinueHandler:n,onCloseHandler:n})};var He=function(e){var n=e.onCloseHandler,t=(0,s.v9)((function(e){return e})).modals.agentAppGeneralErrorMessage;return(0,a.jsx)(k,{testId:"agent-app-general-error-modal",iconName:r.SystemError,title:"System Error",content:["We are sorry but there was an error processing your request.","Error info: ".concat(t),"You can try again or if error persists contact Ampion at ".concat(Me._.text," for support.")],buttonText:"Send",onCloseHandler:n})},De=(0,f.Z)((function(e){return(0,z.Z)({contactUsLink:{color:e.palette.black.main,cursor:"pointer",textDecoration:"underline"}})}));var Ve=function(){var e=De(),n=(0,s.I0)();return(0,E.c)(E.A.needHelp)?(0,a.jsx)("span",{"data-testid":"contact-us-link",className:e.contactUsLink,onClick:function(){return n((0,c.nC)(!0))},children:"contact us"}):(0,a.jsx)("a",{"data-testid":"contact-us-link",className:e.contactUsLink,href:"".concat("https://ampion.net","/contact-us"),rel:"noreferrer",target:"_blank",children:"contact us"})},We=(0,f.Z)((function(e){return(0,z.Z)({title:{color:e.palette.red.main,fontSize:24},subTitle:{padding:e.spacing(3,0)}})}));var Fe=function(){var e=We();return(0,a.jsx)(J.W,{testId:"il-shines-site-not-working-modal",open:!0,children:(0,a.jsxs)(g.Z,{container:!0,direction:"column",alignContent:"center",alignItems:"center",children:[(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsx)(h.Z,{className:e.title,children:"We are unable to generate your agreement"})}),(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{className:e.subTitle,children:["Please try again later. If the issue persists, you can"," ",(0,a.jsx)(Ve,{}),"."]})})]})})},Be=(0,f.Z)((function(e){return(0,z.Z)({title:{color:e.palette.red.main,fontSize:24,textAlign:"center"},subTitle:{padding:e.spacing(3,0),textAlign:"center"},actionButton:{padding:e.spacing(3)},modalWrapper:{height:330}})}));var Ye=function(){var e=Be();return(0,a.jsx)(J.W,{testId:"stripe-initial-load-failed-modal",modalCSSClass:e.modalWrapper,open:!0,children:(0,a.jsxs)(g.Z,{container:!0,direction:"column",alignContent:"center",alignItems:"center",children:[(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsx)(h.Z,{className:e.title,children:"Looks like there is an issue with the payment step!"})}),(0,a.jsx)(g.Z,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{className:e.subTitle,children:["Looks like there is an issue with payment step on your current browser.",(0,a.jsx)("br",{}),"Please try a different browser (latest Google Chrome ideally).",(0,a.jsx)("br",{}),"If the issue persists, please"," ",(0,a.jsx)(Ve,{}),"."]})})]})})};function qe(){var e=(0,s.I0)(),n=(0,s.v9)((function(e){return e})).modals,t=n.isEmailVerifyModalOpen,r=n.isVerifySuccessModalOpen,i=n.isNotifyModalOpen,u=n.isUtilityNotifyModalOpen,d=n.isSessionTimeoutModalOpen,m=n.isCannotProceedModalOpen,p=n.isKeepSigningModalOpen,f=n.isGenericModalOpen,g=n.isAgentEmailModalOpen,h=n.isDeleteUtilityAccountModalOpen,v=n.isEnrollmentSuccessfullyCreatedModalOpen,x=n.isNoAvailableUtilitiesForZipModalOpen,y=n.isIncompleteEnrollmentFoundModalOpen,b=n.isCompleteEnrollmentFoundModalOpen,C=n.isCreditCheckLoadingModalOpen,Z=n.isCreditCheckFailedModalOpen,E=n.isSystemErrorModalOpen,w=n.isUserNotFoundModalOpen,N=n.isDeleteLMIQualificationRowModalOpen,A=n.isDeleteUtilityAccountRowModalOpen,j=n.isUtilityCompanyChangeDetectedModalOpen,I=n.isAgentAppGeneralErrorModalOpen,k=n.isEvidenceUploadIsMissingModalOpen,S=n.isLMIEvidenceMissingModalOpen,U=n.isLMIWontProvideEvidenceModalOpen,P=n.isILShinesSiteNotWorkingModalOpen,z=n.isStripeInitialLoadFailedModalOpen,L=(0,o.useCallback)((function(){e((0,c.I5)(!1)),e((0,c.vj)(!1)),e((0,c.pO)(!1)),e((0,l.M_)(!1)),e((0,c.p3)(!1)),e((0,c.Yc)(!1)),e((0,c.gq)(!1)),e((0,c.oH)(!1)),e((0,c.qq)(!1)),e((0,c.pv)(!1)),e((0,c.KE)(!1)),e((0,c.yl)(!1)),e((0,c.A7)(!1)),e((0,c.AR)(!1)),e((0,c.wp)(!1)),e((0,c.BB)({active:!1})),e((0,c.bt)({active:!1})),e((0,c.ey)(!1)),e((0,c.oN)({active:!1})),e((0,c.fY)(!1)),e((0,c.Cr)(!1)),e((0,c.M9)(!1)),e((0,c.Vm)(!1))}),[e]);return t?(0,a.jsx)(ie.h,{onCloseHandler:L}):r?(0,a.jsx)(se,{}):i?(0,a.jsx)(xe.i,{onCloseHandler:L}):u?(0,a.jsx)(ye.Z,{onCloseHandler:L}):d?(0,a.jsx)(Ee,{onCloseHandler:L}):m?(0,a.jsx)(re,{onCloseHandler:L}):p?(0,a.jsx)(ve,{}):f?(0,a.jsx)(fe,{}):g?(0,a.jsx)(K,{}):h?(0,a.jsx)($,{}):A?(0,a.jsx)(T,{onCloseHandler:L}):N?(0,a.jsx)(_,{onCloseHandler:L}):v?(0,a.jsx)(je,{onCloseHandler:L}):x?(0,a.jsx)(ke,{onCloseHandler:L}):y?(0,a.jsx)(Te,{onCloseHandler:L}):b?(0,a.jsx)(Se,{onCloseHandler:L}):C?(0,a.jsx)(ze,{}):Z?(0,a.jsx)(Le,{onCloseHandler:L}):E?(0,a.jsx)(Re,{onCloseHandler:L}):w?(0,a.jsx)(Oe,{onCloseHandler:L}):j?(0,a.jsx)(M,{onCloseHandler:L}):I?(0,a.jsx)(He,{onCloseHandler:L}):k?(0,a.jsx)(R,{onCloseHandler:L}):S?(0,a.jsx)(V,{onCloseHandler:L}):U?(0,a.jsx)(Y,{onCloseHandler:L}):P?(0,a.jsx)(Fe,{}):z?(0,a.jsx)(Ye,{}):null}},27802:function(e,n,t){t.d(n,{i:function(){return b}});var r=t(14924),i=t(26042),a=t(85893),o=t(67294),s=t(25617),c=t(17867),l=t(41120),u=t(75154),d=t(50253),m=t(282),p=t(52414),f=t(48392),g=t(43585),h=t(70753),v=t(74589),x=(0,l.Z)((function(e){return(0,u.Z)({modal:(0,r.Z)({},e.breakpoints.up("sm"),{minHeight:450}),email:(0,r.Z)({},e.breakpoints.up("sm"),{flexGrow:1,paddingRight:"24px"}),finishTitle:{color:e.branding.titlesColor,fontSize:"24px",letterSpacing:0,lineHeight:"32px"},form:(0,r.Z)({display:"flex",flexDirection:"column",marginTop:"36px"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"flex-start"}),notifyMeBtnWrapper:(0,r.Z)({display:"flex",justifyContent:"center",marginTop:"24px"},e.breakpoints.up("sm"),{marginTop:"12px"}),title:{color:e.palette.red.main,fontSize:"24px",letterSpacing:0,lineHeight:"32px"}})}));function y(){var e=(0,o.useState)(!1),n=e[0],t=e[1],r=(0,s.v9)(g.Ur),l=x(),u=(0,c.cI)(),v=(0,s.I0)(),y=u.register,b=(0,u.handleSubmit)((function(){t(!0),v((0,p.JT)({step:"NotAvailableInZIP",notifyMe:!0}))})),C=(0,o.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),b(e)}),[b]);return(0,o.useEffect)((function(){v((0,p.JT)({step:"NotAvailableInZIP"})),y("email",{required:"Email Address is required",pattern:{value:f.CU,message:"Invalid email address"}})}),[y,v]),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{display:"flex",justifyContent:"center",className:l.finishTitle,children:"We'll see you soon!"}),(0,a.jsx)(h.xv,{children:"Thanks for your interest in Ampion Renewable Energy!"}),(0,a.jsx)(h.xv,{children:"New solar farms are coming online every day and as soon as there is one in your area we will be in touch!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{display:"flex",justifyContent:"center",className:l.title,children:"We're Sorry..."}),(0,a.jsx)(h.xv,{children:" "}),(0,a.jsxs)("b",{children:["It looks like we don't have a project that services zip code"," ",r,"."]}),(0,a.jsx)(h.xv,{children:"No worries, we're always adding new projects. Enter your email address below and we'll notify you as soon as an eligible project becomes available."}),(0,a.jsxs)("form",{id:"notifyMeForm",onSubmit:C,className:l.form,children:[(0,a.jsx)("div",{className:l.email,children:(0,a.jsx)(h.yt,(0,i.Z)({"data-testid":"checkAvailabilityZipCode",name:"email",label:"Email Address",autoComplete:"email",autoFocus:!0},u))}),(0,a.jsx)("div",{className:l.notifyMeBtnWrapper,children:(0,a.jsx)(m.Z,{"data-testid":"notifyMe",type:"submit",variant:"contained",color:"primary",form:"notifyMeForm",children:"NOTIFY ME!"})})]})]})}function b(e){var n=e.onCloseHandler,t=x();return(0,a.jsx)(v.W,{open:!0,modalCSSClass:t.modal,onCloseHandler:n,children:(0,a.jsx)(y,{})})}},29365:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(14924),i=t(26042),a=t(69396),o=t(85893),s=t(67294),c=t(25617),l=t(17867),u=t(41120),d=t(75154),m=t(5566),p=t(50253),f=t(282),g=t(17812),h=t(80366),v=t(48392),x=t(52414),y=t(24923),b=t(88206),C=t(86459),Z=t(70753),E=t(56255),w=t(22822),N=t(88702),A=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)((0,i.Z)({},(0,N.Z)(e,{shouldIncludeBackgroundImage:!0})),{title:{color:e.palette.red.main,fontSize:"24px",letterSpacing:0,lineHeight:"32px"},finishTitle:{color:e.branding.titlesColor,fontSize:"24px",letterSpacing:0,lineHeight:"32px"},form:(0,r.Z)({display:"flex",flexDirection:"column",marginTop:"36px"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"flex-start"}),email:(0,r.Z)({},e.breakpoints.up("sm"),{flexGrow:1,paddingRight:"24px"}),notifyMeBtnWrapper:{display:"flex",justifyContent:"center",margin:e.spacing(3,0)},closeBtn:{position:"absolute",top:"7px",right:"7px"},notifyMeGrey:{textAlign:"center",color:"#ababab",fontSize:"14px",cursor:"pointer",fontWeight:"bold",textTransform:"initial"}}))}));function j(e){var n,t=e.onCloseHandler,r=(0,c.I0)(),i=A(),a=(0,c.v9)((function(e){return e})).enrollment,u=a.utilities,d=a.enrollingForDifferentContract,N=(null===(n=u[0])||void 0===n?void 0:n.name)||"",j=(0,s.useState)(!1),I=j[0],k=j[1],_=(0,l.cI)().register;(0,s.useEffect)((function(){r((0,x.JT)({step:"NotAvailableInZIP"})),_("email",{required:"Email Address is required",pattern:{value:v.CU,message:"Invalid email address"}})}),[_,r]);var T=(0,s.useCallback)((function(){t(),r((0,E.o5)(w.uH.ENROLLING_FOR_DIFFERENT_CONTRACT,!1)),r((0,x.N$)(y.l0.UTILITY_INFO))}),[r,t]),S=(0,b.c)(b.A.needHelp);return(0,o.jsx)(m.Z,{open:!0,onClose:t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableEnforceFocus:S,container:S?(0,C.Ii)():void 0,children:(0,o.jsx)(p.Z,{justifyContent:"center",className:i.wrapper,children:(0,o.jsx)("div",{className:i.modal,children:(0,o.jsxs)("div",{className:i.content,children:[d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{justifyContent:"center",className:i.finishTitle,children:"We're Sorry..."}),(0,o.jsx)(Z.xv,{children:"All utility accounts for this enrollment must be for the same utility company ".concat(N&&"(".concat(N,")"))}),(0,o.jsx)(Z.xv,{children:"*You may submit a separate enrollment for other utility companies"}),(0,o.jsx)("div",{className:i.notifyMeBtnWrapper,children:(0,o.jsx)(f.Z,{"data-testid":"continue",onClick:T,variant:"contained",color:"primary",children:"Continue"})})]}),I&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{display:"flex",justifyContent:"center",className:i.finishTitle,children:"We'll see you soon!"}),(0,o.jsx)(Z.xv,{children:"Thanks for your interest in Ampion Renewable Energy!"}),(0,o.jsx)(Z.xv,{children:"New solar farms are coming online every day and as soon as there is one in your area we will be in touch!"}),(0,o.jsx)("div",{className:i.notifyMeBtnWrapper,children:(0,o.jsx)(f.Z,{"data-testid":"notifyMe",onClick:function(){return window.location.reload()},variant:"contained",color:"primary",form:"notifyMeForm",children:"BACK TO AMPION HOME"})})]}),!I&&!d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{display:"flex",justifyContent:"center",className:i.title,children:"We're Sorry..."}),(0,o.jsx)(Z.xv,{children:" "}),(0,o.jsx)("b",{children:"It looks like we don't have a project that serves your address."}),(0,o.jsx)(Z.xv,{children:"No worries, we're always adding new projects. Enter your email address below and we'll notify you as soon as an eligible project becomes available."}),(0,o.jsx)("div",{className:i.notifyMeBtnWrapper,children:(0,o.jsx)(f.Z,{"data-testid":"notifyMe",onClick:t,variant:"contained",color:"primary",form:"notifyMeForm",children:"TRY ANOTHER ADDRESS"})}),(0,o.jsx)("div",{className:i.notifyMeGrey,children:(0,o.jsx)(f.Z,{className:i.notifyMeGrey,onClick:function(){return k(!0),void r((0,x.JT)({step:"NotAvailableInZIP",notifyMe:!0}))},children:"Notify me when something is available"})})]}),(0,o.jsx)(g.Z,{"aria-label":"close",size:"small",className:i.closeBtn,onClick:t,children:(0,o.jsx)(h.Z,{})})]})})})})}},73216:function(e,n,t){t.d(n,{M:function(){return m}});var r=t(14924),i=t(85893),a=t(41120),o=t(75154),s=t(41749),c=t(22318),l=t(25617),u=t(72740),d=(0,a.Z)((function(e){return(0,o.Z)({horizontalRule:(0,r.Z)({position:"absolute",left:"60px",width:"880px"},e.breakpoints.down("sm"),{left:0})})}));function m(e){var n=e.formId,t=void 0===n?"verifyMeForm":n,r=e.watch,a=e.setValue,o=e.errors,m=e.register,p=e.unregister,f=e.trigger,g=e.clearErrors,h=e.getValues,v=d(),x=(0,l.v9)((function(e){return e})).wizard.emailAddress;return(0,i.jsxs)(s.Z,{container:!0,direction:"column",justifyContent:"center",children:[(0,i.jsxs)(c.Z,{align:"center",style:{margin:"35px 0"},children:["An email has been sent to \u2018",x,"\u2019, please check your inbox to continue"]}),(0,i.jsx)("hr",{className:v.horizontalRule}),(0,i.jsx)(c.Z,{align:"center",children:"Check your email and enter the code for verification"}),(0,i.jsx)(u.B,{formId:t,watch:r,setValue:a,errors:o,register:m,unregister:p,trigger:f,clearErrors:g,getValues:h})]})}},17969:function(e,n,t){t.d(n,{N:function(){return g}});var r=t(14924),i=t(85893),a=t(41120),o=t(75154),s=t(22318),c=t(94184),l=t.n(c),u=t(67294),d=t(25617),m=t(52414),p=t(56255),f=(0,a.Z)((function(){return(0,o.Z)({subHeader:{color:"#727272",fontSize:14,textAlign:"center"},showInput:{color:"grey",fontSize:14,textDecoration:"underline",cursor:"pointer",textAlign:"center",width:"100%"},showInputDisabled:{cursor:"unset",opacity:.6,textDecoration:"none"}})}));function g(){var e=f(),n=(0,d.I0)(),t=(0,d.v9)((function(e){return e})).modals.isEmailVerificationSentAgain,a=(0,d.v9)(p.fi),o=(0,u.useCallback)((function(){a||n((0,m.yr)())}),[n,a]);return(0,i.jsxs)(s.Z,{className:e.subHeader,children:["Didn't receive the email?"," ",(0,i.jsx)("span",{onClick:t?null:o,className:l()(e.showInput,(0,r.Z)({},e.showInputDisabled,t)),children:"Send it again"})]})}},72740:function(e,n,t){t.d(n,{B:function(){return h}});var r=t(14924),i=t(85893),a=t(41120),o=t(75154),s=t(41749),c=t(282),l=t(95477),u=t(22318),d=t(67294),m=t(25617),p=t(70753),f=t(56255),g=(0,a.Z)((function(e){return(0,o.Z)({verifyCode:{display:"flex",justifyContent:"center",paddingRight:e.spacing(3)},verifyCodeWrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(.5),padding:e.spacing(1)},notifyMeBtnWrapper:(0,r.Z)({display:"flex",justifyContent:"center",alignItems:"center"},e.breakpoints.up("sm"),{marginLeft:"15px"}),verifyBtn:{width:112,height:58,fontFamily:"Sans-Serif;",fontWeight:600,fontSize:"13px",lineHeight:"18px",fontStyle:"normal"},inactiveBtn:{backgroundColor:"#B1B1B1",color:"#FFFFFF","&:hover":{backgroundColor:"#B1B1B1",color:"#FFFFFF",border:"none"}},activeBtn:{backgroundColor:e.palette.primary.main,color:"#FFFFFF","&:hover":{backgroundColor:e.palette.primary.main,color:"#FFFFFF"}},formHeader:{fontSize:13,fontWeight:400,textAlign:"center"}})}));function h(e){var n=e.formId,t=e.watch,r=e.setValue,a=e.errors,o=e.register,h=e.unregister,v=e.trigger,x=e.clearErrors,y=e.getValues,b=g(),C=(0,m.I0)(),Z=(0,m.v9)((function(e){return e})).modals,E=Z.emailVerificationCodeError,w=Z.emailVerificationCode,N=(0,m.v9)(f.fi),A=(0,d.useCallback)((function(e){C((0,f.NT)(e))}),[C]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{className:b.verifyCode,container:!0,direction:"row",children:(0,i.jsxs)("div",{className:b.verifyCodeWrapper,children:[(0,i.jsx)(p.yt,{changeCallback:A,inputProps:{style:{backgroundColor:"#F2F2F2",backgroundImage:"url('lock.svg')",backgroundRepeat:"no-repeat",backgroundPositionY:"center",backgroundPositionX:"16px",borderRadius:"5px",height:45,width:200,boxSizing:"border-box",padding:"29px 50px"}},"data-testid":"checkAvailabilityZipCode",name:"code",type:"tel",disableUnderline:!0,disableDefaultInputClass:!0,watch:t,setValue:r,errors:a,register:o,unregister:h,trigger:v,clearErrors:x,getValues:y}),(0,i.jsxs)("div",{className:b.notifyMeBtnWrapper,children:[!N&&(0,i.jsx)(c.Z,{className:"".concat(b.verifyBtn," ").concat(6===(null===w||void 0===w?void 0:w.length)?b.activeBtn:b.inactiveBtn),"data-testid":"verifyCode",type:"submit",variant:"contained",color:"primary",form:n,children:"Verify"}),N&&(0,i.jsx)(l.Z,{})]})]})}),E&&(0,i.jsx)(u.Z,{className:b.formHeader,color:"error",children:"Incorrect verification code. Please try again."})]})}},88702:function(e,n,t){var r=t(14924),i=t(26042),a={backgroundImage:"url('./bkg_noProject.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"bottom 10px left 0"};n.Z=function(e,n){var t,o=n||{},s=o.modalWidth,c=void 0===s?{}:s,l=o.modalHeight,u=void 0===l?{}:l,d=o.shouldIncludeBackgroundImage,m={wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(t={position:"relative",width:"100vw",height:"100vh",minHeight:450,backgroundColor:e.palette.white.main},(0,r.Z)(t,e.breakpoints.up("sm"),{width:c.sm||580,height:u.sm||600,borderRadius:"5px"}),(0,r.Z)(t,e.breakpoints.up("md"),{width:c.md||780}),t),content:{margin:"24px 48px 0"},closeBtn:{position:"absolute",top:7,right:7,zIndex:2}};return d&&(m.modal=(0,i.Z)({},m.modal,a)),m}},93413:function(e,n,t){t.d(n,{T:function(){return h}});var r,i=t(14924),a=t(85893),o=(t(67294),t(94184)),s=t.n(o),c=t(25617),l=t(41120),u=t(75154),d=t(50253),m=t(41749),p=t(22318),f=t(37286),g=(0,l.Z)((function(e){var n;return(0,u.Z)({body:(n={display:"grid",backgroundColor:e.palette.white.main,minHeight:"50vh",maxWidth:"1100px",gridTemplateRows:"auto 1fr auto",width:"100%",boxShadow:"0px 34px 34px rgb(0 0 0 / 5%)"},(0,i.Z)(n,e.breakpoints.down("sm"),{boxShadow:"none",backgroundColor:"transparent"}),(0,i.Z)(n,"padding","105px 20px 75px 20px"),(0,i.Z)(n,e.breakpoints.down("md"),{padding:"25px 20px 75px 20px"}),(0,i.Z)(n,e.breakpoints.up("sm"),{backgroundImage:"url(./enrollmentBackgroundImage.png)",minHeight:"402px"}),(0,i.Z)(n,"backgroundRepeat","no-repeat"),(0,i.Z)(n,"backgroundPosition","left 100% top 100%"),(0,i.Z)(n,"backgroundSize","25%"),(0,i.Z)(n,"borderRadius","7px"),(0,i.Z)(n,"&.top-radius-0",{borderTopLeftRadius:0,borderTopRightRadius:0}),n),content:(0,i.Z)({padding:"0 20px",display:"flex",justifyContent:"center"},e.breakpoints.down("sm"),{maxWidth:"90vw",boxSizing:"border-box"}),footer:{marginTop:50,marginBottom:50,gridRow:"span 2 / 14"},footerImg:{width:"100%"},footerHref:{color:e.palette.black.main,textDecoration:"none"},footerSpan:{fontSize:"12px",color:e.palette.black.main,textAlign:"center",padding:"0 20px"},footerIcon:{height:20,width:20,verticalAlign:"middle",paddingRight:"5px",marginLeft:"20px"},footerHrefBlack:{color:e.palette.blackDark.main,textDecoration:"none"},backgrounds:{backgroundImage:"url(".concat(null!==(r=e.branding.logoImg)&&void 0!==r?r:"/logo.svg","), ","url(/sun_outline_bg.png)"),backgroundPosition:"80px 50px, right top",backgroundRepeat:"no-repeat, no-repeat"},passwordCreation:{maxWidth:660,display:"flex",justifyContent:"center"}})})),h=function(e){var n=e.children,t=e.isPasswordCreationStep,r=e.bodyClasses,o=(0,c.v9)((function(e){return e})).externalData,l=g(),u=(0,f.l)(null===o||void 0===o?void 0:o.vid);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{display:"flex",justifyContent:"center",children:(0,a.jsx)(m.Z,{className:s()(l.body,r,"page-body-wrapper",(0,i.Z)({},l.passwordCreation,t)),children:(0,a.jsx)("div",{className:l.content,children:n})})}),(0,a.jsx)("div",{className:l.footer,children:(0,a.jsxs)(m.Z,{item:!0,container:!0,justifyContent:"center",alignContent:"center",direction:"column",className:l.footerSpan,children:[(0,a.jsxs)(p.Z,{gutterBottom:!0,className:l.footerSpan,children:["This site is protected by reCAPTCHA and the Google"," ",(0,a.jsx)("a",{href:"https://policies.google.com/privacy",target:"_blank",className:l.footerHrefBlack,children:"Privacy Policy"})," ","and"," ",(0,a.jsx)("a",{href:"https://policies.google.com/terms",target:"_blank",className:l.footerHrefBlack,children:"Terms of Service"})," ","apply. The Ampion"," ",(0,a.jsx)("a",{href:"/privacy-policy",target:"_blank",className:l.footerHrefBlack,children:"Privacy Policy"})," ","also applies."]}),(0,a.jsx)(p.Z,{gutterBottom:!0,className:l.footerSpan,children:"If you have any questions, or want to speak to a Customer Care Representative, don\u2019t hesitate to contact us"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("a",{href:"mailto:".concat(u.emailToUse),className:l.footerHref,children:[(0,a.jsx)("img",{alt:"envelope-image",src:"/ic_envelope.svg",className:l.footerIcon}),(0,a.jsx)("span",{children:u.emailToUse})]}),(0,a.jsxs)("a",{href:"tel:".concat(u.phoneNumber),className:l.footerHref,children:[(0,a.jsx)("img",{alt:"phone-image",src:"/ic_phone.svg",className:l.footerIcon}),(0,a.jsx)("span",{children:u.phoneNumber})]})]})]})})]})};h.defaultProps={isPasswordCreationStep:!1,bodyClasses:""}},45597:function(e,n,t){t.r(n),t.d(n,{default:function(){return y},formValuesToState:function(){return x},mapFormNameToStateName:function(){return v}});var r=t(10253),i=t(85893),a=t(67294),o=t(25617),s=t(52414),c=t(47859),l=t(24923),u=t(56255),d=t(89923),m=t(83197);function p(){var e=(0,r.Z)(a.useState(""),2),n=e[0],t=e[1],p=(0,o.I0)(),f=(0,o.v9)(u.fi),g=(0,o.v9)(d.sx),h=m.F[g];if((0,a.useEffect)((function(){if(h){var e=h.name.toLowerCase().replace(/\s/g,"-");window.analytics&&window.analytics.page(e),t(e)}else p((0,s.N$)(l.l0.CHECK_AVAILABILITY))}),[h,p]),(0,a.useEffect)((function(){var e=new URL(document.location).searchParams;window!==top&&["viewing_complete","signing_complete"].includes(e.get("event"))&&window.top.dispatchEvent(new CustomEvent("custom-docusign",{bubbles:!0}))}),[]),!h)return null;var v=h.component;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{id:"track-page-".concat(n),children:(0,i.jsx)(v,{showSpinner:f})}),(0,i.jsx)(c.Z,{})]})}var f=t(20165),g=Object.keys(f.UE).reduce((function(e,n){return e[f.UE[n]]=n,e}),{}),h=[f.UE.agreedToTerms,f.UE.paymentAccountNumber,f.UE.paymentAccountType,f.UE.paymentMethod,f.UE.paymentNameOnAccount,f.UE.paymentNameOnCard,f.UE.paymentRoutingNumber];function v(e){return g[e]}function x(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(e||{}).reduce((function(t,r){if(!n||!h.includes(r)){var i=v(r),a=e[r];i&&"undefined"!==typeof a&&(t[i]=a)}return t}),{})}var y=p},64917:function(e,n,t){t.d(n,{N:function(){return x}});var r=t(26042),i=t(69396),a=t(85893),o=t(67294),s=t(25617),c=t(17867),l=t(69045),u=t(59491),d=t(41120),m=t(75154),p=t(41749),f=t(53196),g=t(3948),h=t(81965),v=(0,d.Z)((function(){return(0,m.Z)({form:{marginBottom:"36px"}})}));function x(e){return function(n){var t=v(),d=(0,s.I0)(),m=(0,s.v9)(g.j),x=(0,o.useCallback)((function(e){d((0,h.P)(e))}),[d]),y=(0,f.q)((0,s.v9)((function(e){return e.wizard}))),b=(0,c.cI)({defaultValues:y,mode:"all",resolver:m?(0,l.F)(m):void 0}),C=(0,b.handleSubmit)(x);return(0,a.jsxs)(c.RV,(0,i.Z)((0,r.Z)({},b),{children:[(0,a.jsx)("form",{id:"stepForm",onSubmit:C,className:t.form,autoComplete:"on",children:(0,a.jsx)(p.Z,{container:!0,justifyContent:"center",children:(0,a.jsx)(e,(0,r.Z)({values:y},b,n))})}),(0,a.jsx)(u.n,{})]}))}}},83197:function(e,n,t){t.d(n,{F:function(){return Ht}});var r=t(14924),i=t(24923),a=t(26042),o=t(85893),s=t(67294),c=t(25617),l=t(41749),u=t(93413),d=t(390),m=t(41120),p=t(75154),f=t(282),g=t(95477),h=t(1197),v=t(3948),x=t(89923),y=t(66692),b=t(71843),C=t(52414),Z=t(21245),E=(0,m.Z)((function(e){return(0,p.Z)({greenButton:{background:e.palette.green.main,color:e.palette.white.main,boxShadow:"none",height:"50px",minWidth:"50px",borderRadius:"25px",fontSize:18,"&:hover":{background:e.palette.green.main,color:e.palette.white.main,boxShadow:"none",border:"1px solid ".concat(e.palette.green.main)}},grey:{background:e.palette.white.main,color:e.palette.grey[600],border:"1px solid ".concat(e.palette.grey[600]),"&:hover":{background:e.palette.white.main,color:e.palette.grey[600],border:"1px solid ".concat(e.palette.grey[600])}}})}));function w(){var e=E(),n=(0,c.v9)((function(e){return e})),t=(0,c.I0)(),r=(0,c.v9)(x.sx),i=Ht[r],a=(0,s.useCallback)((function(){if(i.backAction&&!i.backAction({state:n,dispatch:t}))return;t((0,C.cY)({direction:Z.m.BACKWARD}))}),[i,n]);return(0,o.jsx)(f.Z,{onClick:a,className:"".concat(e.greenButton," ").concat(e.grey," wizard-flow-back-button"),"data-testid":"backButton",children:(0,o.jsx)(b.Z,{className:"wizard-flow-back-button",fontSize:"inherit",style:{marginLeft:"6px"}})})}var N=(0,m.Z)((function(e){return(0,p.Z)({greenButton:{background:e.palette.green.main,color:e.palette.white.main,boxShadow:"none",height:"50px",minWidth:"50px",width:"50px",borderRadius:"25px",fontSize:18,"&:hover":{background:e.palette.green.main,color:e.palette.white.main,boxShadow:"none",border:"1px solid ".concat(e.palette.green.main)}},buttonsWrapper:{width:"100%",display:"flex",justifyContent:"flex-start",marginBottom:e.spacing(5)},marginLeftAuto:{marginLeft:"auto"}})}));function A(e,n,t){return!!t&&(!!t[n]&&t[n](e))}function j(){var e=N(),n=(0,c.v9)(x.sx),t=Ht[n],r=(0,c.v9)(y.fi),i=(0,c.v9)((function(e){return e})),a=(0,c.v9)(v.R),s=A(i,"hasNextButton",t),l=A(i,"hasBackButton",t);return(0,o.jsxs)("div",{className:e.buttonsWrapper,children:[!r&&a.isValid&&(0,o.jsxs)(o.Fragment,{children:[l&&(0,o.jsx)(w,{}),s&&(0,o.jsx)("div",{className:e.marginLeftAuto,children:(0,o.jsx)(f.Z,{"data-testid":"nextButton",type:"submit",variant:"contained",color:"primary",className:"".concat(e.greenButton," ").concat(e.marginLeftAuto," wizard-flow-next-button"),form:"stepForm",children:(0,o.jsx)(h.Z,{className:"wizard-flow-next-button",fontSize:"inherit"})})})]}),s&&r&&(0,o.jsx)(g.Z,{className:e.marginLeftAuto})]})}var I=t(25357),k=t(91594),_=t(27703),T=t(8920),S=t(97148),U=t(39011),P=t(69396),z=t(22273),L=t(41396),M=(0,m.Z)((function(e){return(0,p.Z)({greyedOut:{color:"".concat(e.palette.grey[500]," !important")}})})),R=(0,m.Z)((function(e){var n;return(0,p.Z)({root:{maxWidth:"740px",padding:0},stepper:(n={width:"100%",backgroundColor:"transparent",margin:"0 auto"},(0,r.Z)(n,e.breakpoints.up("md"),{padding:"145px 42px 42px 42px"}),(0,r.Z)(n,"padding","101px 0 0"),(0,r.Z)(n,"color",e.palette.blue.main),(0,r.Z)(n,"textTransform","uppercase"),n)})}));function O(){var e=R(),n=(0,T.Z)(),t=(0,U.z8)(n).width,r=(0,c.v9)(x.GQ),i=(0,c.v9)(x.I6),s=(0,c.v9)((function(e){return e})).enrollment.wizardStep,l=r.reduce((function(e,n){var t=Ht[n.stepName],r=t.label;return!e.includes(r)&&n.active&&t.showStepIndicator&&e.push(r),e}),[]),u=r.findIndex((function(e){return Ht[e.stepName].label===Ht[r[s].stepName].label})),d=i?u:u-1;return(0,o.jsx)(I.Z,{activeStep:d,alternativeLabel:!(0,S.yJ)("sm",t),classes:{root:e.root},"data-testid":"mainStepper",className:e.stepper,children:l.map((function(e){var n=r.findIndex((function(n){return Ht[n.stepName].label===e})),t=n<s?function(e){var n=M(),t=(0,P.Z)((0,a.Z)({},e),{classes:{completed:n.greyedOut}});return(0,o.jsx)(z.Z,(0,P.Z)((0,a.Z)({},t),{children:(0,o.jsx)(L.Z,{})}))}:void 0;return(0,o.jsx)(k.Z,{children:(0,o.jsx)(_.Z,{StepIconComponent:t,children:e})},e)}))})}var H=t(70753),D=t(22318),V=t(30585),W=t(64917),F=t(67232),B=t(48392),Y=t(46027),q={required:Y.zA.REQUIRED,pattern:{value:B.pX,message:Y.zA.INVALID}},Q={required:Y.S6.REQUIRED},G={required:Y.xK.REQUIRED,pattern:{value:B.CU,message:Y.xK.INVALID}},K=t(20165),J=(0,m.Z)((function(e){return(0,p.Z)({inputWrapper:(0,r.Z)({padding:"57px 0 0"},e.breakpoints.up("md"),{padding:"57px 22% 0"}),inputLabel:{fontFamily:"Jost",fontStyle:"normal",fontWeight:600,fontSize:"16px",lineHeight:"23px",letterSpacing:"1px",color:e.palette.black.main,padding:e.spacing(0,1)},spacer:{minHeight:"74px",midWidth:"1px"},helperText:{padding:e.spacing(0,1)}})})),X=(0,W.N)((function(e){var n=e.register,t=e.unregister,r=e.trigger,i=e.setValue,a=e.watch,u=e.getValues,d=e.clearErrors,m=e.errors,p=e.values,f=J(),h=(0,c.v9)((function(e){return e})),v=h.enrollment.isEnrollmentVerificationLoading,x=h.externalData.event,y=(0,s.useState)(!1),b=y[0],C=y[1],Z=(0,s.useCallback)((function(){x&&window.parent.postMessage(x,"*")}),[x]);if((0,s.useEffect)((function(){"decline"===x&&C(!0)}),[x]),(0,s.useEffect)(Z,[Z]),x&&b)return(0,o.jsxs)(D.Z,{children:["Processing Docusign decline event."," ",(0,o.jsx)(g.Z,{size:33})]});if(x)return(0,o.jsxs)(D.Z,{children:["Processing Docusign event. Please wait."," ",(0,o.jsx)(g.Z,{size:33})]});if((0,s.useEffect)((function(){n(K.UE.zipCode,q),n(K.UE.electricUtility,Q),n(K.UE.emailAddress,G)}),[n]),v)return null;var E=p[K.UE.zipCode];return(0,o.jsx)(l.Z,{container:!0,justifyContent:"center",direction:"column",children:(0,o.jsxs)(l.Z,{container:!0,spacing:2,className:f.inputWrapper,children:[(0,o.jsx)(D.Z,{className:f.inputLabel,children:"Input Your Email Address"}),(0,o.jsx)(H.yt,{"data-testid":"emailAddress",name:K.UE.emailAddress,label:"Email Address",width:12,values:p,trimWhitespaceOnChange:!0,setValue:i,errors:m,variant:"standard",register:n,unregister:t,trigger:r,watch:a,getValues:u,clearErrors:d}),(0,o.jsx)("div",{className:f.spacer}),(0,o.jsx)(D.Z,{className:f.inputLabel,children:"Check Availability"}),(0,o.jsx)(H.yt,{"data-testid":"checkAvailabilityZipCode",pattern:"[0-9]*",inputMode:"numeric",name:K.UE.zipCode,label:"Service Zip Code",width:12,values:p,trimWhitespaceOnChange:!0,setValue:i,errors:m,variant:"standard",register:n,unregister:t,trigger:r,watch:a,getValues:u,clearErrors:d,inputProps:{maxLength:5}}),E&&(0,o.jsx)(V.Z,{className:f.helperText,children:"Enter the service zip code associated with your utility account"}),(0,o.jsx)(F.t,{"data-testid":"electricUtilitySelect",name:K.UE.electricUtility,width:12,values:p,setValue:i,errors:m,register:n,unregister:t,watch:a,trigger:r,clearErrors:d,getValues:u,zipCodeValue:p[K.UE.zipCode]})]})})}));var $={name:i.l0.CHECK_AVAILABILITY,label:i.l0.CHECK_AVAILABILITY,component:function(e){var n=(0,c.v9)((function(e){return e})).enrollment.isEnrollmentVerificationLoading,t=(0,d.Z)()(),r=n?"Retrieving your enrollment information.":"Let's see if anything is available.";return(0,o.jsxs)("div",{className:t.backgrounds,children:[(0,o.jsx)(O,{}),(0,o.jsx)(u.T,{"data-testid":"mainPage",children:(0,o.jsxs)(l.Z,{container:!0,className:t.contectWrapper,alignItems:"center",justifyContent:"center",direction:"column",children:[(0,o.jsx)(H.rQ,{title:r}),(0,o.jsx)(X,(0,a.Z)({},e)),(0,o.jsx)(j,{})]})})]})},showStepIndicator:!0,hasNextButton:function(){return!0}},ee=t(31801),ne=t(56255),te=t(67539),re=t(30046),ie=t(90661),ae=(0,m.Z)((function(e){return(0,p.Z)({xtMarginTop:{marginTop:"21px"},phoneWarning:{padding:e.spacing(0,1.5,0,1.5),color:e.palette.red.main,fontSize:"0.75rem",fontWeight:400}})})),oe=(0,W.N)((function(e){var n=e.register,t=e.watch,r=e.unregister,i=e.setValue,a=e.trigger,u=e.clearErrors,d=e.getValues,m=e.values,p=e.errors,f=ae(),g=(0,c.I0)(),h=(0,s.useRef)(!1),v=(0,te.u)(),x=(0,c.v9)(ne.qW),y=(0,c.v9)((function(e){return e})),b=y.enrollment,Z=b.phoneValidationMessage,E=b.hasSkippedCheckAvailability,w=y.wizard,N=w.mailingAddressUnit,A=w.mailingAddressState,j=w.emailAddress,I=w.showLMISection,k=(0,s.useCallback)((function(e){return!!(0,ee._)(e,"US").isValid()||"Invalid phone number"}),[]);(0,s.useEffect)((function(){n(K.UE.firstName,{required:"First Name is required",pattern:{value:/^[a-zA-Z-'. ]+$/,message:"Not a valid First Name"}}),n(K.UE.lastName,{required:"Last Name is required",pattern:{value:/^[a-zA-Z-'. ]+$/,message:"Not a valid Last Name"}}),n(K.UE.phoneNumber,{required:"Phone Number is required",pattern:{value:/^\(?[0-9]{3}\)?[ -]?\s*[0-9]{3}[- ]?[0-9]{4}$/,message:"Please enter a 10-digit number (XXX) XXX-XXXX"},validate:{validatePhoneNumber:k}}),n(K.UE.mailingAddress,{required:"Mailing Address is required",pattern:{value:/^[\w \-.,/]*$/,message:"Special symbols are not allowed"},maxLength:{value:100,message:"Mailing Address should not be longer then 100 characters"}}),n(K.UE.mailingAddressUnit,{pattern:{value:/^[\w \-.,/]{0,100}$/,message:"Special symbols are not allowed"}}),n(K.UE.mailingAddressCity,{required:"City is required",pattern:{value:B.NH,message:"Special symbols are not allowed"},maxLength:{value:25,message:"City should not be longer then 25 characters"}}),n(K.UE.mailingAddressCounty,{pattern:{value:B.NH,message:"Special symbols are not allowed"},maxLength:{value:255,message:"County should not be longer then 255 characters"}}),n(K.UE.mailingAddressState,{required:"State is required"}),n(K.UE.mailingAddressZipCode,{required:"Zip Code is required",pattern:{value:re.r[K.UE.zipCode],message:"Not a valid US zip code"}}),n(K.UE.emailAddress,G)}),[n,k]);var _=t(K.UE.emailAddress),T=t(K.UE.mailingAddress),S=t(K.UE.mailingAddressCity),U=t(K.UE.mailingAddressCounty),P=t(K.UE.mailingAddressState),z=t(K.UE.mailingAddressZipCode),L=(0,s.useCallback)((function(e){5===(null===e||void 0===e?void 0:e.length)&&g((0,C.k)({zipCode:e,updateFormFields:[K.UE.mailingAddressState]}))}),[g]),M=(0,s.useMemo)((function(){return!E&&B.CU.test(_)}),[E,_]);return(0,s.useEffect)((function(){h.current?g((0,ne.xR)(!1)):h.current=!0}),[g,j]),(0,s.useEffect)((function(){i(K.UE.mailingAddressState,A)}),[A,i]),(0,o.jsxs)(l.Z,{container:!0,spacing:3,children:[(0,o.jsxs)(l.Z,{item:!0,xs:12,className:f.xtMarginTop,"data-testid":"enroll-type-box",children:[(0,o.jsx)(H.bi,{label:"Are you enrolling your home or business?"}),(0,o.jsx)(H.y2,{register:n,unregister:r,errors:p,setValue:i,watch:t,trigger:a,clearErrors:u,getValues:d})]}),(0,o.jsx)(H.yt,{testId:"firstName",name:K.UE.firstName,label:"First Name",width:6,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.yt,{testId:"lastName",name:K.UE.lastName,label:"Last Name",width:6,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.ND,{register:n,unregister:r,errors:p,setValue:i,watch:t,trigger:a,clearErrors:u,getValues:d}),(0,o.jsx)(H.yt,{testId:"emailAddress",name:K.UE.emailAddress,label:"Email Address",width:6,trimWhitespaceOnChange:!0,inputProps:{disabled:M},watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.zJ,{testId:"phoneNumber",name:K.UE.phoneNumber,label:"Phone Number",width:6,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),Z&&(0,o.jsx)(l.Z,{container:!0,justifyContent:"flex-end",children:(0,o.jsx)(l.Z,{item:!0,xs:12,md:6,children:(0,o.jsx)(D.Z,{className:f.phoneWarning,children:Z})})}),(0,o.jsx)(l.Z,{item:!0,xs:12,className:f.xtMarginTop,"data-testid":"enroll-type-box",children:(0,o.jsx)(H.bi,{label:"Mailing Address"})}),(0,o.jsxs)(o.Fragment,{children:[v?(0,o.jsx)(ie.Zw,{name:K.UE.mailingAddress,testId:"mailingAddress",label:"Street Address",value:T,width:9,prefix:"",watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}):(0,o.jsx)(H.yt,{name:K.UE.mailingAddress,testId:"mailingAddress",label:"Street Address",value:T,width:9,prefix:"",watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.yt,{testId:"mailingAddressUnit",name:K.UE.mailingAddressUnit,label:"Unit",value:N,width:3,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.yt,{testId:"mailingAddressCity",name:K.UE.mailingAddressCity,label:"City",autocompleteOff:!0,width:3,value:S,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.Ad,{testId:"mailingAddressState",name:K.UE.mailingAddressState,width:3,autocompleteOff:!0,value:P,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.yt,{testId:"mailingAddressCounty",name:K.UE.mailingAddressCounty,label:"County (if any)",autocompleteOff:!0,width:3,value:U,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m}),(0,o.jsx)(H.yt,{testId:"mailingAddressZipCode",name:K.UE.mailingAddressZipCode,label:"Zip Code",pattern:"[0-9]*",inputMode:"numeric",autocompleteOff:!0,width:3,value:z,trimWhitespaceOnChange:!0,changeCallback:L,watch:t,setValue:i,errors:p,register:n,unregister:r,trigger:a,clearErrors:u,getValues:d,values:m})]}),x&&I&&(0,o.jsx)(l.Z,{item:!0,xs:12,className:f.xtMarginTop,children:(0,o.jsx)(H.Jr,{register:n,unregister:r,watch:t,getValues:d,setValue:i,values:m,errors:p,clearErrors:u,trigger:a})}),(0,o.jsxs)(l.Z,{item:!0,xs:12,className:f.xtMarginTop,children:[(0,o.jsx)(H.bi,{label:"Is there an agent or salesperson assisting you with this enrollment?"}),(0,o.jsx)(H.R3,{register:n,unregister:r,watch:t,getValues:d,setValue:i,errors:p,clearErrors:u,trigger:a})]})]})})),se=t(3526),ce=(0,m.Z)((function(e){return(0,p.Z)({xtMarginTop:{marginTop:e.spacing(2)},alreadyEnrolledMessage:{backgroundColor:e.palette.blueLight.light,borderRadius:"1px",fontSize:14,lineHeight:"22px",margin:e.spacing(1,"auto",0),padding:e.spacing(4,2)},readOnlyLabel:{color:e.palette.grayDark.light},readOnlyAddress:{padding:e.spacing(2,3),color:e.palette.grayDark.light}})})),le=(0,W.N)((function(){var e=ce(),n=(0,c.v9)((function(e){return e})).wizard,t=n.customerType,r=n.emailAddress,i=n.firstName,a=n.lastName,s=n.mailingAddress,u=n.mailingAddressCity,d=n.mailingAddressCounty,m=n.mailingAddressState,p=n.mailingAddressZipCode,f=n.mailingAddressUnit,g=n.phoneNumber;return(0,o.jsxs)(l.Z,{container:!0,spacing:3,children:[(0,o.jsxs)(D.Z,{className:e.alreadyEnrolledMessage,children:["If you would like to change any of the information below, please use the"," ",(0,o.jsx)("a",{href:"".concat("https://portal.ampion.net","/users/sign_in"),target:"_blank",rel:"noreferrer",children:"Subscriber Portal"}),". If you have not set up your account yet, or forgotten your password, you will be able to establish your account from the login page"]}),(0,o.jsxs)(l.Z,{item:!0,xs:12,className:e.xtMarginTop,"data-testid":"enroll-type-box",children:[(0,o.jsx)(H.bi,{label:"Enrollment Account Type"}),(0,o.jsx)(D.Z,{className:e.readOnlyLabel,children:(0,se.VC)(t)})]}),(0,o.jsx)(H.bi,{label:"Contact Info",className:e.xtMarginTop}),(0,o.jsxs)(l.Z,{className:e.readOnlyAddress,container:!0,direction:"column",spacing:3,"data-testid":"contact-box",children:[(0,o.jsxs)(D.Z,{children:[i," ",a]}),(0,o.jsx)(D.Z,{children:r}),(0,o.jsx)(D.Z,{children:g})]}),(0,o.jsx)(H.bi,{label:"Mailing Address",className:e.xtMarginTop}),(0,o.jsxs)(l.Z,{className:e.readOnlyAddress,container:!0,direction:"column",spacing:3,"data-testid":"mailling-address-box",children:[(0,o.jsxs)(D.Z,{children:[s," ",f||""]}),(0,o.jsxs)(D.Z,{children:[u,", ",m," ",d," ",p]})]})]})}));var ue={name:i.l0.PERSONAL_INFO,label:i.l0.PERSONAL_INFO,component:function(e){var n=(0,c.v9)((function(e){return e})).enrollment.isAlreadyEnrolled,t=(0,d.Z)()(),r=n?"Personal Information":"Next, let\u2019s get to know you a bit better.";return(0,o.jsxs)("div",{className:t.backgrounds,children:[(0,o.jsx)(O,{}),(0,o.jsx)(u.T,{"data-testid":"mainPage",children:(0,o.jsxs)(l.Z,{container:!0,className:t.contectWrapper,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(H.rQ,{title:r}),n?(0,o.jsx)(le,{}):(0,o.jsx)(oe,(0,a.Z)({},e)),(0,o.jsx)(j,{})]})})]})},showStepIndicator:!0,hasBackButton:function(){return(0,c.v9)(x.V7)},hasNextButton:function(){return!0}},de=t(37426),me=t(50253),pe=t(89659),fe=t(43950),ge=t(5566),he=t(17812),ve=t(80366),xe=(t(27802),t(29365),t(80565),t(74589)),ye=t(73216),be=t(17969),Ce=t(88206),Ze=t(86459),Ee=(0,m.Z)((function(e){return(0,p.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(0,r.Z)({position:"relative",width:"100vw",background:e.palette.common.white,height:"fit-content",padding:e.spacing(12,0)},e.breakpoints.up("sm"),{borderRadius:5,width:1e3,height:480,boxSizing:"border-box"}),closeBtn:{position:"absolute",top:7,right:7,zIndex:2},expiredContainer:{minHeight:"inherit"},expiredHeader:{textAlign:"center"},mainHeader:{fontSize:18,fontWeight:700,textAlign:"center",margin:e.spacing(1.25,0)},subHeader:{color:"#727272",fontSize:14,textAlign:"center",margin:e.spacing(0,2,3)},formContainerWrapper:(0,r.Z)({margin:e.spacing(0,10,0)},e.breakpoints.down("md"),{margin:0}),sendEmailAgainWrapper:{margin:e.spacing(4.25,2,3,0)},outer:(0,r.Z)({margin:"0 auto"},e.breakpoints.up("sm"),{width:640}),height52:{height:"52px"}})}));var we=function(e){var n=e.isOpen,t=void 0!==n&&n,r=e.onCloseHandler,i=e.watch,a=e.setValue,u=e.errors,d=e.register,m=e.unregister,p=e.trigger,g=e.clearErrors,h=e.getValues,v=Ee(),x=(0,c.I0)(),y=(0,c.v9)((function(e){return e})).modals.emailVerificationCodeIsExpired,b=(0,Ce.c)(Ce.A.needHelp),Z=(0,s.useCallback)((function(){x((0,C._y)())}),[x]);return t?(0,o.jsx)(ge.Z,{open:!0,"data-testid":"email-verify-modal",onClose:r,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableEnforceFocus:b,container:b?(0,Ze.Ii)():void 0,children:(0,o.jsx)(me.Z,{justifyContent:"center",className:v.wrapper,children:(0,o.jsxs)("div",{className:v.modal,children:[(0,o.jsx)(he.Z,{"aria-label":"close",size:"small",className:v.closeBtn,onClick:r,children:(0,o.jsx)(ve.Z,{})}),(0,o.jsx)(l.Z,{container:!0,alignItems:"center",justifyContent:"center",className:v.outer,children:y?(0,o.jsxs)(l.Z,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",className:v.expiredContainer,children:[(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[(0,o.jsx)(D.Z,{className:v.expiredHeader,children:(0,o.jsx)("img",{src:"/exclamation1.svg",alt:"Exclamation mark inside the circle"})}),(0,o.jsx)(D.Z,{className:v.mainHeader,children:"Oops!"}),(0,o.jsx)(D.Z,{className:v.subHeader,children:"Your verification code has expired. Click below to get a new one."})]}),(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsx)(f.Z,{"data-testid":"expired-code-modal-continue-btn",onClick:Z,variant:"contained",color:"primary",children:"Send Me Another Email"})})]}):(0,o.jsxs)(l.Z,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(l.Z,{container:!0,item:!0,xs:2,justifyContent:"center",alignItems:"center",children:(0,o.jsx)("img",{className:v.height52,src:"/email.svg",alt:"Opened mailbox"})}),(0,o.jsxs)(l.Z,{item:!0,xs:12,className:v.formContainerWrapper,children:[(0,o.jsx)(l.Z,{container:!0,children:(0,o.jsx)(ye.M,{formId:"stepForm",watch:i,setValue:a,errors:u,register:d,unregister:m,trigger:p,clearErrors:g,getValues:h})}),(0,o.jsx)(l.Z,{container:!0,justifyContent:"center",className:v.sendEmailAgainWrapper,children:(0,o.jsx)(be.N,{})})]})]})})]})})}):null},Ne=(0,m.Z)((function(e){return(0,p.Z)({panel:{padding:"12px 36px",color:e.palette.black.main,fontSize:"21px",letterSpacing:"0.2px",lineHeight:"30px"},emailImg:{marginTop:"15%",height:"62px",width:"100%"},confirmationInfo:{fontSize:"21px",overflowWrap:"anywhere",display:"inline-block",wordBreak:"break-word"},sendAgainText:(0,r.Z)({flexDirection:"column",fontSize:"14px",color:e.palette.black.main,letterSpacing:"0.11px",lineHeight:"30px",marginTop:"20px"},e.breakpoints.up("sm"),{flexDirection:"row"}),sendAgainBtn:{fontSize:"14px",color:e.palette.blue.main}})})),Ae=(0,W.N)((function(e){var n=e.watch,t=e.setValue,r=e.errors,i=e.register,a=e.unregister,u=e.trigger,d=e.clearErrors,m=e.getValues,p=Ne(),f=(0,c.I0)(),g=(0,c.v9)((function(e){return e})),h=g.enrollment.isConfirmationEmailSentAgain,v=g.wizard.emailAddress,x=(0,c.v9)(ne.fi),y=(0,s.useState)(!1),b=y[0],Z=y[1],E=(0,s.useCallback)((function(){Z(!0)}),[]),w=(0,s.useCallback)((function(e,n){"timeout"===n&&f((0,ne.gx)(!1))}),[f]),N=(0,s.useCallback)((function(){f((0,C.xt)())}),[f]),A=(0,s.useCallback)((function(){x||Z(!1)}),[x]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.Z,{item:!0,container:!0,className:p.panel,children:[(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsxs)(D.Z,{className:p.confirmationInfo,align:"center",children:["We sent an email to"," ",(0,o.jsx)("strong",{children:v||"some@email.com"})," ",'with the subject line " Please verify your email "']})}),(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsxs)(me.Z,{display:"flex",alignItems:"center",justifyContent:"center",className:p.sendAgainText,children:["Didn't receive the email?\xa0",(0,o.jsx)(pe.Z,{component:"button",type:"button",className:p.sendAgainBtn,onClick:N,children:"Send it again."})]})}),(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsxs)(me.Z,{display:"flex",alignItems:"center",justifyContent:"center",className:p.sendAgainText,children:["Have the code?\xa0",(0,o.jsx)(pe.Z,{component:"button",type:"button",className:p.sendAgainBtn,onClick:E,children:"Enter Verification Code."})]})})]}),(0,o.jsx)(we,{isOpen:b,onCloseHandler:A,watch:n,setValue:t,errors:r,register:i,unregister:a,trigger:u,clearErrors:d,getValues:m}),(0,o.jsx)(fe.Z,{open:h,autoHideDuration:4e3,message:"Email sent to ".concat(v),onClose:w})]})})),je=(0,m.Z)((function(){return(0,p.Z)({p10:{paddingTop:"10%"}})}));var Ie={name:i.l0.CONFIRM_EMAIL,label:i.l0.CONFIRM_EMAIL,component:function(e){var n=je(),t=(0,d.Z)()();return(0,o.jsxs)("div",{className:t.backgrounds,children:[(0,o.jsx)(de.Z,{pb:14}),(0,o.jsx)(u.T,{"data-testid":"mainPage",children:(0,o.jsx)(l.Z,{container:!0,className:t.contectWrapper,alignItems:"center",justifyContent:"center",children:(0,o.jsxs)(l.Z,{className:n.p10,container:!0,id:"flow-confirm-email-page",children:[(0,o.jsx)(l.Z,{item:!0,container:!0,justifyContent:"center",children:(0,o.jsx)(H.rQ,{title:"Confirm your email address"})}),(0,o.jsx)(Ae,(0,a.Z)({},e))]})})})]})},shoudlHideNextLoader:!0},ke=t(79895),_e=t(61139),Te=t(28428),Se=t(59067),Ue=t(94184),Pe=t.n(Ue),ze=t(6994),Le=t(868),Me=(0,m.Z)((function(e){return(0,p.Z)({tooltip:{backgroundColor:e.palette.common.white,color:e.palette.green.main,boxShadow:e.shadows[0],fontSize:11,marginRight:-2},alIcon:{flex:"0 0 auto",fontSize:"1.5rem",textAlign:"center",display:"inline-flex",padding:e.spacing(1.5),"& img":{width:22}}})}));var Re=function(){var e=Me();return(0,o.jsx)(Le.ZP,{classes:{tooltip:e.tooltip},title:"Connected with Account Linking",placement:"left",enterTouchDelay:0,children:(0,o.jsx)(me.Z,{className:e.alIcon,children:(0,o.jsx)("img",{alt:"account-linking-icon",src:"/UtilityLink.png"})})})},Oe=t(81360),He=t(98342),De=(0,m.Z)((function(e){return(0,p.Z)({validationError:{display:"flex",alignItems:"center",justifyContent:"flex-end",flexWrap:"nowrap"},validationErrorText:{marginLeft:"12px",color:e.palette.secondary.main,fontWeight:500,fontSize:"14px",lineHeight:"20px",whiteSpace:"nowrap"}})}));function Ve(){var e=De();return(0,o.jsxs)("div",{className:e.validationError,children:[(0,o.jsx)("img",{src:"/error_outline_orange_24px.svg"}),(0,o.jsx)("div",{className:e.validationErrorText,children:"Incomplete utility account"})]})}var We=(0,m.Z)((function(e){return(0,p.Z)({card:{width:"100%",minHeight:75,borderLeft:"8px solid ".concat(e.palette.white.main)},incomplete:{backgroundColor:e.palette.serenade.main,borderLeft:"8px solid ".concat(e.palette.secondary.main)},wrapper:{height:"100%",padding:"11px 15px",alignItems:"flex-start"},itemTitle:{fontSize:"14px",letterSpacing:"0.1px",lineHeight:"22px",color:e.palette.black.main,fontWeight:"bold",padding:"0 10px 0 0"},itemTitleHint:{fontSize:"12px",letterSpacing:"0.1px",lineHeight:"22px"},itemSubTitle:{fontSize:"14px",letterSpacing:"0.1px",lineHeight:"22px",color:e.palette.black.main},distLogo:(0,r.Z)({borderRadius:"50%",overflow:"hidden",border:"1px solid ".concat(e.palette.gray.light),marginRight:"15px",width:30},e.breakpoints.up("sm"),{width:40}),info:(0,r.Z)({order:0,width:"70%",flexWrap:"nowrap"},e.breakpoints.up("md"),{width:function(e){return e.isValid&&!e.linked?"70%":e.linked?"64%":"57%"}}),additionalInfo:(0,r.Z)({width:"100%",order:2,display:"flex"},e.breakpoints.up("md"),{width:"28%",order:0,height:"100%",alignItems:"center"}),buttons:(0,r.Z)({width:"30%",order:1,display:"flex"},e.breakpoints.up("md"),{width:function(e){return e.isValid&&!e.linked?"30%":e.linked?"7%":"15%"},order:0,height:"100%",alignItems:"center"})})})),Fe=function(e){var n=(0,ze.JG)(e).length;if(!n)return null;var t=1===n?"file":"files";return"(".concat(n," ").concat(t," attached)")};var Be=function(e){var n,t,i=e.utilityAccount,a=e.index,s=(0,c.I0)(),u=i.accountNumber,d=i.serviceBills,m=void 0===d?{}:d,p=i.serviceAddress,f=i.serviceAddressUnit,g=i.serviceAddressCity,h=i.serviceAddressCounty,x=i.serviceAddressState,y=i.serviceAddressZipCode,b=i.finalDistributionCompanyId,Z=i.accountLinked,E=i.accountLinkingContext,w=(0,c.v9)(v.R),N=(null===w||void 0===w||null===(n=w.result)||void 0===n?void 0:n.length)&&(null===(t=null===w||void 0===w?void 0:w.result[a])||void 0===t?void 0:t.success),A=We({isValid:N,linked:Z});return(0,o.jsx)(l.Z,{container:!0,item:!0,xs:12,id:"utility-account-".concat(a),children:(0,o.jsx)(ke.Z,{elevation:2,className:Pe()(A.card,(0,r.Z)({},A.incomplete,!N)),children:(0,o.jsxs)(l.Z,{container:!0,justifyContent:"center",alignItems:"center",className:A.wrapper,children:[(0,o.jsxs)(l.Z,{item:!0,container:!0,className:A.info,alignItems:"flex-start",children:[(0,o.jsx)(l.Z,{item:!0,children:(0,o.jsx)("img",{alt:"dist-co-logo",className:A.distLogo,src:(0,He.D1)(b,!0)})}),(0,o.jsxs)(l.Z,{item:!0,children:[(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[u&&(0,o.jsx)(D.Z,{variant:"subtitle1",className:A.itemTitle,children:(0,Oe.ZG)(u)}),(0,o.jsx)("span",{className:A.itemTitleHint,children:Fe(m)})]}),(0,o.jsx)(l.Z,{item:!0,children:(0,o.jsx)(D.Z,{variant:"subtitle1",className:A.itemSubTitle,children:p?(0,o.jsxs)(o.Fragment,{children:["Service Address:"," ",p," ",f?"Unit ".concat(f," "):"",g," ",h," ",x," ",y]}):E})})]})]}),Z&&(0,o.jsx)(l.Z,{item:!0,container:!0,alignItems:"center",justifyContent:"flex-end",className:A.additionalInfo,children:(0,o.jsx)(Re,{})}),!N&&(0,o.jsx)(l.Z,{item:!0,container:!0,alignItems:"center",justifyContent:"flex-end",className:A.additionalInfo,children:(0,o.jsx)(Ve,{})}),(0,o.jsxs)(l.Z,{item:!0,container:!0,justifyContent:"flex-end",alignContent:"center",className:A.buttons,children:[!Z&&(0,o.jsx)(he.Z,{onClick:function(){return e=a,void s((0,C.wF)(e));var e},children:(0,o.jsx)(Se.Z,{})}),(0,o.jsx)(he.Z,{onClick:function(){return e=a,s((0,ne.Eh)(e)),void s((0,ne.n3)(!0));var e},children:(0,o.jsx)(Te.Z,{})})]})]})})})},Ye=(0,m.Z)((function(e){return(0,p.Z)({listWrapper:{maxHeight:"50vh",overflow:"auto"},blockTitle:{margin:e.spacing(5,0,1,0)},atLeastOneUARequiredBanner:{width:"100%",textAlign:"center",marginTop:27,color:e.palette.grey[500]}})}));var qe=function(e){var n=e.utilitiesLabel,t=void 0===n?void 0:n,r=e.utilities,i=void 0===r?void 0:r,a=Ye();return 0===i.length?(0,o.jsx)("p",{className:a.atLeastOneUARequiredBanner,children:"Please add at least 1 utility account to continue."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(H.bi,{className:a.blockTitle,label:t}),(0,o.jsx)(l.Z,{item:!0,container:!0,xs:12,direction:"row",spacing:1,justifyContent:"center",className:a.listWrapper,children:i.map((function(e,n){return(0,o.jsx)(Be,{utilityAccount:e,index:n},e.id)}))})]})},Qe=Number("250"),Ge=(0,m.Z)((function(e){return(0,p.Z)({stepTitleBillUpload:{marginBottom:"21px"},card:{width:"100%",minHeight:75},noteMessage:{width:"100%",background:e.palette.grayLight.light,padding:e.spacing(2,0,2,5),"& > p":{fontSize:15}},wrapper:{height:"100%",padding:"0 20px"},listWrapper:{maxHeight:"50vh",overflow:"auto"},fw400:{fontWeight:400},blockTitle:{margin:e.spacing(5,0,1,0)}})})),Ke=(0,W.N)((function(){var e=Ge(),n=(0,c.I0)(),t=(0,c.v9)((function(e){return e.enrollment})).utilities,r=t.length,i="Electric Accounts";return r>1&&(i+=" (".concat(r,")")),(0,o.jsxs)(l.Z,{container:!0,children:[(0,o.jsx)(H.rQ,{className:e.stepTitleBillUpload,title:"My Utility Accounts"}),(0,o.jsx)(l.Z,{item:!0,container:!0,xs:12,direction:"row",spacing:1,alignContent:"center",justifyContent:"center",children:(0,o.jsx)(l.Z,{item:!0,container:!0,xs:12,children:r<Qe?(0,o.jsx)(ke.Z,{elevation:2,className:e.card,children:(0,o.jsx)(l.Z,{item:!0,container:!0,xs:12,justifyContent:"center",alignItems:"center",className:e.wrapper,children:(0,o.jsx)(f.Z,{className:e.fw400,color:"primary",onClick:function(){n((0,C.WR)())},startIcon:(0,o.jsx)(_e.Z,{}),children:"Add another utility account"})})}):(0,o.jsxs)(ke.Z,{elevation:0,className:e.noteMessage,children:[(0,o.jsxs)(D.Z,{color:"textSecondary",children:["You have added the maximum number (",Qe,") of accounts per enrollment."]}),(0,o.jsx)(D.Z,{color:"textSecondary",children:"If you want to add additional accounts, please start a new enrollment after submitting this one."})]})})}),(0,o.jsx)(qe,{utilities:t,utilitiesLabel:i})]})}));var Je={name:i.l0.UTILITY_INFO,label:i.l0.CONNECT_UTILITY_ACCOUNT,component:function(e){var n=e.showSpinner,t=(0,d.Z)()(),r=(0,c.v9)((function(e){return e.enrollment})).utilities.length;return(0,o.jsxs)("div",{className:t.backgrounds,children:[(0,o.jsx)(O,{}),(0,o.jsx)(u.T,{"data-testid":"mainPage",children:(0,o.jsxs)(l.Z,{container:!0,className:t.contectWrapper,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(Ke,{showSpinner:n}),r>0&&(0,o.jsx)(j,{})]})})]})},backAction:function(){return!1},showStepIndicator:!0,hasBackButton:function(){return!1},hasNextButton:function(){return!0}},Xe=t(5152),$e=t.n(Xe)()((function(){return t.e(96).then(t.bind(t,71096))}),{loadableGenerated:{webpack:function(){return[71096]}}}),en={name:i.l0.PAYMENT_METHOD,label:i.l0.PAYMENT_METHOD,component:$e,isSubmittionStep:function(){return!0}},nn=t(81965),tn=t(33681),rn=t(47139),an=(0,m.Z)((function(e){return(0,p.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(0,r.Z)({position:"relative",width:"100vw",background:e.palette.common.white,height:"fit-content",overflow:"hidden"},e.breakpoints.up("sm"),{borderRadius:4,width:1e3,height:330,boxSizing:"border-box"}),spinnerRoot:{color:e.palette.blue.main,height:"8px"},massages:{display:"flex",width:"400px",overflow:"hidden"},message:{fontWeight:400,fontSize:"23px",lineHeight:"120%",marginTop:"75px",color:e.palette.blue.dark,height:"70px",width:"400px",flexShrink:0,textAlign:"center",position:"relative"},messageHidden:{opacity:"0"},messageMove100:{transform:"translateX(-100%)",transition:"transform 2s ease-in-out"},messageMove200:{transform:"translateX(-200%)",transition:"transform 2s ease-in-out"},messageMove100Fadeout:{opacity:"0",transform:"translateX(-100%)",transition:"opacity 2s, transform 2s ease-in-out"},messageMove100Fadein:{opacity:"1",transform:"translateX(-100%)",transition:"opacity 3s, transform 2s ease-in-out"},messageMove200Fadeout:{opacity:"0",transform:"translateX(-200%)",transition:"opacity 2s, transform 2s ease-in-out"},messageMove200Fadein:{opacity:"1",transform:"translateX(-200%)",transition:"opacity 3s, transform 2s ease-in-out"},messageMove300Fadeout:{opacity:"0",transform:"translateX(-300%)",transition:"opacity 2s, transform 2s ease-in-out"},messageMove300Fadein:{opacity:"1",transform:"translateX(-300%)",transition:"opacity 3s, transform 2s ease-in-out"},image:{position:"relative",width:"120px"},imageGenerating:{width:"120px",position:"absolute",zIndex:2},imageGenerated:{padding:"19px",width:"82px",position:"absolute",zIndex:1,opacity:"0"},imageFadeout:{opacity:"0",transition:"opacity 2s"},imageFadein:{opacity:"1",transition:"opacity 2s"}})}));function on(){var e=an(),n=(0,s.useState)(0),t=n[0],i=n[1],a=(0,s.useState)(),u=a[0],d=a[1],m=(0,s.useState)(!1),p=m[0],f=m[1],g=(0,c.v9)((function(e){return e})).docusign.frameUrl,h=(0,Ce.c)(Ce.A.needHelp);(0,s.useEffect)((function(){if(!g&&t<95){var e=setTimeout((function(){i(t+5)}),3e3);d(e)}}),[g,t]),(0,s.useEffect)((function(){g&&(clearTimeout(u),i(100),setTimeout((function(){f(!0)}),3e3))}),[g,u]);var v,x,y,b=Pe()(e.message,(0,r.Z)({},e.messageMove100Fadeout,t>=25)),C=Pe()(e.message,e.messageHidden,(v={},(0,r.Z)(v,e.messageMove100Fadein,t>=25),(0,r.Z)(v,e.messageMove200Fadeout,t>=50),v)),Z=Pe()(e.message,e.messageHidden,e.messageMove100,(x={},(0,r.Z)(x,e.messageMove200Fadein,t>=50),(0,r.Z)(x,e.messageMove300Fadeout,t>=100),x)),E=Pe()(e.message,e.messageHidden,e.messageMove200,(y={},(0,r.Z)(y,e.messageMove200,t>=50),(0,r.Z)(y,e.messageMove300Fadein,t>=100),y)),w=Pe()(e.imageGenerating,(0,r.Z)({},e.imageFadeout,t>=100)),N=Pe()(e.imageGenerated,(0,r.Z)({},e.imageFadein,t>=100));return p&&!g?(0,o.jsx)(rn.Z,{}):p?null:(0,o.jsx)(ge.Z,{open:!0,"data-testid":"docusign-loader-modal",disableEnforceFocus:h,container:h?(0,Ze.Ii)():void 0,children:(0,o.jsx)(me.Z,{justifyContent:"center",className:e.wrapper,children:(0,o.jsxs)("div",{className:e.modal,children:[(0,o.jsx)(tn.Z,{variant:"determinate",value:t,classes:{root:e.spinnerRoot}}),(0,o.jsxs)(l.Z,{container:!0,alignItems:"center",direction:"column",children:[(0,o.jsxs)(l.Z,{item:!0,className:e.massages,children:[(0,o.jsx)("div",{className:b,children:"We are generating your subscription agreement..."}),(0,o.jsx)("div",{className:C,children:"Please wait, this may take a moment"}),(0,o.jsx)("div",{className:Z,children:"Please don\u2019t close the window. We are still working on it..."}),(0,o.jsx)("div",{className:E,children:"Your subscription agreement is ready!"})]}),(0,o.jsxs)(l.Z,{item:!0,className:e.image,children:[(0,o.jsx)("img",{alt:"generating-disclosure",src:"/enrollment/generating-disclosure.gif",className:w}),(0,o.jsx)("img",{alt:"disclosure-generated",src:"/enrollment/disclosure-generated.svg",className:N})]})]})]})})})}var sn=(0,m.Z)((function(e){return(0,p.Z)({declinedContainer:(0,r.Z)({},e.breakpoints.down("md"),{width:"100vw",minWidth:"93%"}),declinedHeader:(0,r.Z)({width:1200,height:e.spacing(6),paddingTop:e.spacing(1.5),borderRadius:e.spacing(1.25,1.25,0,0),background:"#E5E5E5",boxSizing:"border-box",fontWeight:600,fontSize:e.spacing(2.25),lineHeight:"32px",color:"#B1B1B1",marginTop:e.spacing(-1)},e.breakpoints.down("md"),{width:"93%",minWidth:"93%"}),needToConfirm:(0,r.Z)({color:"#368AF6",fontSize:"24px",fontWeight:600,margin:e.spacing(12.5,"auto",0,"auto"),width:404},e.breakpoints.down("md"),{width:"100vw",minWidth:"93%"}),iconSign:{display:"block",margin:e.spacing(7.5,"auto")},checkMyBenefits:{margin:e.spacing(0,"auto"),textDecoration:"underline",cursor:"pointer"},continueMySubscription:{margin:e.spacing(12.5,"auto",7.5,"auto")}})}));function cn(){var e=sn(),n=(0,c.I0)(),t=(0,s.useCallback)((function(){n((0,C.P6)(!1))}),[n]),r=(0,s.useCallback)((function(){n((0,ne.iE)(!1)),n((0,C.N$)(i.l0.SUBSCRIPTION_BENEFITS))}),[n]);return(0,o.jsx)(l.Z,{container:!0,children:(0,o.jsxs)(l.Z,{className:e.declinedContainer,direction:"column",justifyContent:"center",alignContent:"center",alignItems:"center",container:!0,children:[(0,o.jsx)(D.Z,{className:e.declinedHeader,align:"center",children:"Signature Declined"}),(0,o.jsx)(D.Z,{className:e.needToConfirm,align:"center",children:"You Need To Confirm Your Subscription to Continue"}),(0,o.jsx)("img",{alt:"sign",className:e.iconSign,src:"./icon-sign.svg"}),(0,o.jsx)(D.Z,{align:"center",children:"One last step away from saving money and living sustainably!"}),(0,o.jsx)(pe.Z,{className:e.checkMyBenefits,align:"center",component:"p",onClick:r,children:"Check My Subscription Benefits"}),(0,o.jsx)(D.Z,{align:"center",className:e.continueMySubscription,children:(0,o.jsx)(f.Z,{"data-testid":"keep-signing",onClick:t,variant:"contained",color:"primary",children:"Continue My Subscription"})})]})})}var ln=(0,m.Z)((function(){return(0,p.Z)({frame:{width:"100%",height:"100vh",border:0}})})),un=(0,W.N)((function(){var e,n=ln(),t=(0,c.I0)(),r=(0,s.useRef)(null),i=(0,c.v9)((function(e){return e})),a=i.modals,u=a.isEmailVerifyModalOpen,d=a.isILShinesSiteNotWorkingModalOpen,m=i.docusign,p=m.isDeclined,f=m.frameUrl;(0,s.useEffect)((function(){return e&&clearTimeout(e),f&&(e=setTimeout((function(){t((0,ne.wG)(null)),t((0,ne.AN)(!0))}),12e5)),function(){return clearTimeout(e)}}),[f]);var g=(0,s.useCallback)((function(e){"decline"!==e.data||p||(t((0,ne.I$)(!0)),t((0,C.a7)())),"signing_complete"!==e.data&&"viewing_complete"!==e.data||(t((0,ne.wG)(null)),t((0,nn.P)()))}),[p,t]);(0,s.useEffect)((function(){return window.addEventListener("message",g,!1),function(){window.removeEventListener("message",g)}}),[]),(0,s.useEffect)((function(){var e,n;f&&(window.innerHeight<(null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.clientHeight)&&(r.current.style.height="".concat(window.innerHeight,"px")),window.scrollTo({top:null===r||void 0===r||null===(n=r.current)||void 0===n?void 0:n.offsetTop,left:0,behavior:"smooth"}))}),[f,r]),(0,s.useEffect)((function(){return window.addEventListener("message",g,!1),function(){window.removeEventListener("message",g)}}),[]);var h=(0,s.useState)(0),v=h[0],x=h[1],y=(0,s.useCallback)((function(){x(v+1)}),[v,x]);return(0,s.useEffect)((function(){!u&&v>0&&t((0,C.P6)(!1))}),[u]),p?(0,o.jsx)(cn,{}):(0,o.jsxs)(l.Z,{container:!0,children:[(0,o.jsx)(l.Z,{item:!0,xs:12,md:12,children:(0,o.jsx)(H.rQ,{title:"Confirm your subscription"})}),!d&&(0,o.jsx)(on,{}),f&&(0,o.jsx)(l.Z,{item:!0,xs:12,md:12,children:(0,o.jsx)("iframe",{id:"docusign-iframe",title:"docusign-iframe",className:n.frame,src:f,ref:r,onLoad:y})})]})})),dn=(0,m.Z)((function(e){var n;return(0,p.Z)({wrapper:{"& .page-body-wrapper":(n={width:1200,minWidth:1200,padding:0,backgroundImage:"none",marginTop:e.spacing(5)},(0,r.Z)(n,e.breakpoints.down("md"),{width:"100vw",minWidth:"100%"}),(0,r.Z)(n,"& > div:first-child",{padding:0}),n)}})}));var mn={name:i.l0.DOCUSIGN,label:i.l0.DOCUSIGN,component:function(e){var n=(0,d.Z)()(),t=dn();return(0,o.jsxs)("div",{className:n.backgrounds,children:[(0,o.jsx)(de.Z,{pb:14}),(0,o.jsx)("div",{className:t.wrapper,children:(0,o.jsx)(u.T,{"data-testid":"mainPage",children:(0,o.jsx)(l.Z,{container:!0,className:n.contectWrapperFull,alignItems:"center",justifyContent:"center",children:(0,o.jsx)(un,(0,a.Z)({},e))})})})]})},shoudlHideNextLoader:!0},pn=t(29490),fn=t(13457),gn=t(15208),hn=t(42242),vn=t(56168),xn=t(57785),yn=t(17830),bn=(0,m.Z)((function(e){var n;return(0,p.Z)({text:(n={maxWidth:600},(0,r.Z)(n,e.breakpoints.up("md"),{maxWidth:"none",width:600}),(0,r.Z)(n,e.breakpoints.up("lg"),{maxWidth:"none",width:1100}),n)})}));function Cn(){var e=bn(),n=(0,c.v9)((function(e){return e})).wizard,t=n.paymentMethod,i=n.paymentVerificationMethod,a=(0,c.v9)(xn.fv).workflow!==yn.hk.None,s=t===K.A6.checkingAccount&&i===K.w.microdeposits?"You should receive notifications from your financial institution about two very small deposits into your account. When those are completed, you can log in to the Ampion dashboard to enter those amounts to complete the payment setup.":"We'll send you updates as your subscription becomes active and your credits start to flow. Thank you for supporting your local community and clean energy.";return(0,o.jsx)(D.Z,{"data-testid":"thank-you-page-text",variant:"subtitle2",className:Pe()((0,r.Z)({},e.text,a)),children:s})}var Zn,En=t(82119),wn=(0,m.Z)((function(e){return(0,p.Z)({modal:{backgroundImage:"none",display:"flex",alignItems:"center",justifyContent:"center",width:890,height:540},text:(0,r.Z)({marginBottom:e.spacing(4),maxWidth:350,width:350},e.breakpoints.up("sm"),{maxWidth:750,width:750}),subText:{fontSize:16,fontWeight:400,color:e.palette.grayDark.light},blueText:{color:e.palette.blue.main},titleText:{fontSize:24,fontWeight:600,lineHeight:"32px"},icon:{height:50,margin:e.spacing(6,"auto")},okBtn:{width:202}})})),Nn="888-915-3561",An="774-806-8635",jn="Community Solar Verification";!function(e){e.WebOnly="Web Only",e.Standard="Standard TPV"}(Zn||(Zn={}));var In=function(e,n,t,r,i){var a,s=t===En.Bj.yes&&r,c=e===Zn.WebOnly,l=n&&n>0,u="verify that your enrollment experience was professional and satisfactory.",d=!s&&c?(0,o.jsx)("img",{alt:"email-icon",className:i.icon,src:"./emailSent.svg"}):(0,o.jsx)("img",{alt:"phone-icon",className:i.icon,src:"./call.svg"}),m=l?(0,o.jsxs)(o.Fragment,{children:["In about",(0,o.jsx)("span",{className:i.blueText,children:1===n?" 1 minute ":" ".concat(n," minutes ")}),"you will receive a phone call"," from the number ",(0,o.jsx)("strong",{children:"".concat(Nn," ")}),"to"," ",u]}):(0,o.jsxs)(o.Fragment,{children:["You are about to receive a phone call to"," ",u]});a=s?(0,o.jsxs)(o.Fragment,{children:["You are about to receive a phone call to confirm your enrollment."," ","Please answer this call. It will only take a minute and is required"," ","for your enrollment to proceed."]}):c?(0,o.jsxs)(o.Fragment,{children:["Soon you will receive a text message"," from the number ",(0,o.jsx)("strong",{children:"".concat(An," ")}),"(if your phone supports text messaging) or an email"," with the subject ",(0,o.jsx)("strong",{children:'"'.concat(jn,'" ')})," ","containing a link to a verification form. Please make sure to complete the form so we can"," ",u]}):m;var p=!s&&!c&&(0,o.jsx)(D.Z,{"data-testid":"tpv-note-subtext",className:Pe()(i.subText,i.text),align:"center",children:"The call should only take a minute or two."});return(0,o.jsxs)(o.Fragment,{children:[d,(0,o.jsx)(D.Z,{"data-testid":"tpv-note-text",className:i.text,align:"center",children:a}),p]})};var kn=function(){var e=wn(),n=(0,c.v9)((function(e){return e})).wizard,t=n.tpvProfile,r=n.tpvDelayMinutes,i=n.lmiEligible,a=n.icsa,l=(0,s.useState)(Boolean(t)),u=l[0],d=l[1];return t?(0,o.jsx)(xe.W,{open:u,modalCSSClass:e.modal,children:(0,o.jsxs)(me.Z,{display:"flex",flexDirection:"column",alignItems:"center",mt:-3,children:[(0,o.jsx)(D.Z,{className:Pe()(e.titleText,e.blueText),align:"center",children:"Your enrollment has been submitted!"}),In(t,r,i,a,e),(0,o.jsx)(f.Z,{className:e.okBtn,variant:"contained",color:"primary",onClick:function(){return d(!1)},children:"Ok"})]})}):null},_n=t(90009),Tn=(0,m.Z)((function(e){return(0,p.Z)({pageWrapper:{minHeight:"calc(100vh - ".concat(e.spacing(10),"px)")},contentWrapper:(0,r.Z)({maxWidth:"100%",flex:1,textAlign:"center",boxSizing:"border-box",padding:e.spacing(6,4)},e.breakpoints.up("md"),{padding:e.spacing(0,0,6,0)}),footerContainer:{margin:e.spacing(-8,0,2,0)},helperTextImage:{width:"90%",margin:"0 auto",maxHeight:60},line:{color:e.palette.gray.light,width:"100%"}})}));var Sn=function(){var e=Tn(),n=(0,d.Z)()(),t=(0,T.Z)(),r=(0,c.I0)(),i=(0,c.v9)(x.fc),a=(0,_n.ZD)(_n.rT.accountLinking,t.branding);return(0,s.useEffect)((function(){r((0,hn.LC)(vn.D.enrollment))}),[r]),(0,o.jsx)(me.Z,{pt:10,className:n.backgrounds,children:(0,o.jsxs)(l.Z,{id:"flow-end-welcome-page",container:!0,alignItems:"center",justifyContent:"center",direction:"column",className:e.pageWrapper,children:[(0,o.jsxs)(me.Z,{display:"flex",flexDirection:"column",className:e.contentWrapper,children:[(0,o.jsx)(D.Z,{"data-testid":"thank-you-page-title",variant:"h1",color:"primary",children:"Thank you for enrolling!"}),(0,o.jsx)(de.Z,{pb:"1em"}),(0,o.jsx)(kn,{}),(0,o.jsx)(Cn,{}),(0,o.jsx)(de.Z,{pb:"5em"}),!i&&(0,o.jsx)(pe.Z,{href:"https://portal.ampion.net",children:"Go to my dashboard"}),(0,o.jsx)(de.Z,{pb:"5em"}),(0,o.jsx)("hr",{className:e.line}),(0,o.jsx)(de.Z,{pb:"5em"}),(0,o.jsx)("div",{children:(0,o.jsx)(fn.Z,{theme:a,children:(0,o.jsx)(gn.Z,{})})}),(0,o.jsx)(de.Z,{pb:"5em"})]}),(0,o.jsx)(l.Z,{item:!0,container:!0,className:e.footerContainer,children:(0,o.jsx)(l.Z,{sm:12,item:!0,container:!0,alignItems:"flex-end",children:(0,o.jsx)("img",{alt:"helper",src:"/helptext.svg",className:e.helperTextImage})})})]})})},Un=(0,m.Z)((function(e){return(0,p.Z)({pageWrapper:{minHeight:"calc(100vh - ".concat(e.spacing(10),"px)")},contentWrapper:(0,r.Z)({flex:1,textAlign:"center",boxSizing:"border-box",padding:e.spacing(6,4)},e.breakpoints.up("md"),{padding:0}),gradientBox:{background:"linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 15%, rgba(255,255,255,1) 85%, rgba(255,255,255,0) 100%)",padding:e.spacing(4,2)},footerContainer:{margin:e.spacing(-8,0,2,0)},footerImage:{width:"100%"},helperTextImage:{width:"90%",margin:"0 auto"},goToDashboard:{textDecoration:"none"}})}));function Pn(){var e=Un(),n=(0,d.Z)()(),t=(0,c.v9)((function(e){return e})).wizard.emailAddress,r=(0,c.v9)(y.bH),i=(0,c.v9)(x.fc);return r?(0,o.jsx)(Sn,{}):(0,o.jsx)(me.Z,{pt:10,className:n.backgrounds,children:(0,o.jsxs)(l.Z,{id:"flow-end-welcome-page",container:!0,alignItems:"center",justifyContent:"center",direction:"column",className:e.pageWrapper,children:[(0,o.jsxs)(me.Z,{display:"flex",flexDirection:"column",justifyContent:"center",className:e.contentWrapper,children:[(0,o.jsx)(D.Z,{"data-testid":"thank-you-page-title",variant:"h1",color:"primary",children:"Thank you for enrolling!"}),(0,o.jsx)(kn,{}),(0,o.jsx)(de.Z,{pb:"7em"}),(0,o.jsx)(D.Z,{variant:"h4",color:"secondary",children:"Here's what comes next"}),(0,o.jsx)(de.Z,{pb:"3em"}),(0,o.jsx)(Cn,{}),(0,o.jsx)(de.Z,{pb:"5em"}),i&&(0,o.jsx)(me.Z,{className:e.gradientBox,children:(0,o.jsx)(D.Z,{variant:"subtitle1",color:"primary",children:"You will receive an email with a link to create your password shortly."})}),!i&&(0,o.jsx)("div",{children:(0,o.jsx)("a",{className:e.goToDashboard,href:"".concat("https://portal.ampion.net","?email=").concat(encodeURIComponent(t)),children:(0,o.jsx)(f.Z,{variant:"contained",color:"primary",children:"Go to my dashboard"})})})]}),(0,o.jsxs)(l.Z,{item:!0,container:!0,className:e.footerContainer,children:[(0,o.jsx)(pn.Z,{smDown:!0,children:(0,o.jsx)(l.Z,{md:4,item:!0,container:!0,alignItems:"flex-end",children:(0,o.jsx)("img",{src:"/community1.svg",alt:"community",className:e.footerImage})})}),(0,o.jsx)(l.Z,{sm:12,md:4,item:!0,container:!0,alignItems:"flex-end",children:(0,o.jsx)("img",{src:"/helptext.svg",alt:"help",className:e.helperTextImage})}),(0,o.jsx)(pn.Z,{smDown:!0,children:(0,o.jsx)(l.Z,{md:4,item:!0,children:(0,o.jsx)("img",{src:"/community2.svg",alt:"community",className:e.footerImage})})})]})]})})}var zn={name:i.l0.WELCOME,label:i.l0.WELCOME,component:Pn,showStepIndicator:!1,hasBackButton:function(){return!1},hasNextButton:function(){return!1}},Ln=t(47822),Mn=t(43585),Rn=t(72558),On=t(17572),Hn=t(30889),Dn=(0,m.Z)((function(e){return(0,p.Z)({addButtonWrapper:{marginTop:"50px","& button:disabled":{color:e.palette.white.main,backgroundColor:e.palette.gray.light}}})}));var Vn=function(){var e=Dn(),n=(0,c.v9)((function(e){return e})),t=n.wizard,r=t.billUploadRequired,i=t.bills,a=n.utilityAccounts.isCurrentUtilityValid,s=(0,c.v9)(ne.fi),u=a&&(r&&Object.keys(i).length&&!Object.values(i).some((function(e){return e.isUploading}))||!r);return s?(0,o.jsx)(l.Z,{container:!0,direction:"row",className:e.addButtonWrapper,justifyContent:"center",children:(0,o.jsx)(g.Z,{})}):(0,o.jsx)(l.Z,{container:!0,direction:"row",className:e.addButtonWrapper,children:(0,o.jsx)(Hn.Z,{label:"Add",buttonProps:{type:"submit",disabled:!u,"data-testid":"addButton"}})})},Wn=(0,m.Z)((function(e){return(0,p.Z)({backButton:(0,r.Z)({display:"flex",cursor:"pointer",color:e.palette.grayDark.light,textDecoration:"underline",fontSize:"16px",fontWeight:500},e.breakpoints.down("xs"),{width:"100%",justifyContent:"center"}),backButtonArrow:{width:"15px",marginRight:"5px"},editActions:{marginTop:"50px"},saveButton:(0,r.Z)({padding:"11px 75px"},e.breakpoints.down("xs"),{width:"100%",marginTop:"25px"})})}));var Fn=function(){var e=Wn(),n=(0,c.I0)(),t=(0,c.v9)((function(e){return e})).utilityAccounts.selectedAccountIndex,r=(0,s.useCallback)((function(){n((0,ne.Iu)(void 0)),n((0,C.N$)(i.l0.UTILITY_INFO))}),[n]);return t>=0?(0,o.jsxs)(l.Z,{container:!0,direction:"row",className:e.editActions,children:[(0,o.jsx)(l.Z,{item:!0,container:!0,xs:12,sm:6,justifyContent:"flex-start",alignItems:"center",children:(0,o.jsxs)(me.Z,{onClick:r,className:e.backButton,"data-testid":"back-arrow-button",children:[(0,o.jsx)(b.Z,{className:e.backButtonArrow}),"Back to Utility Account list"]})}),(0,o.jsx)(l.Z,{item:!0,container:!0,xs:12,sm:6,justifyContent:"flex-end",children:(0,o.jsx)(Hn.Z,{label:"Save",notStretched:!0,className:e.saveButton,buttonProps:{type:"submit","data-testid":"saveButton"}})})]}):(0,o.jsx)(Vn,{})},Bn=t(18420),Yn=(0,m.Z)((function(e){return(0,p.Z)({sceWarning:{fontSize:"12px",marginTop:e.spacing(.5)},correctFormat:{display:"flex",flexDirection:"row",alignItems:"center"},meterNumberLabel:{marginTop:e.spacing(3)}})}));function qn(e){var n=e.register,t=e.unregister,r=e.setValue,i=e.watch,a=e.trigger,l=e.clearErrors,u=e.getValues,d=e.errors,m=e.values,p=void 0===m?{}:m,f=Yn(),g=(0,c.v9)((function(e){return e})).wizard,h=g.accountNumber,v=g.meterNumber,x=(0,c.v9)(Mn.Y2),y=(0,c.v9)(Mn.yH),b=(0,c.v9)(Bn.fL),C="".concat(x," ").concat(y.entityTypeTitle),Z="Enter your ".concat(C),E="".concat(x," meter number"),w="Enter your ".concat(E);(0,s.useEffect)((function(){return n(K.UE.accountNumber),r(K.UE.accountNumber,h),y.askMeterNumber&&(n(K.UE.meterNumber),r(K.UE.meterNumber,v)),function(){r(K.UE.accountNumber,void 0),r(K.UE.meterNumber,void 0),t(K.UE.accountNumber),t(K.UE.meterNumber)}}),[h,v,n,r,t,y]);var N=(0,s.useState)(!0),A=N[0],j=N[1],I=Boolean(null===h||void 0===h?void 0:h.length);(0,s.useEffect)((function(){I&&h.match(B.gc)?j(!1):j(!0)}),[h,I]);var k=10===(null===h||void 0===h?void 0:h.length)?(0,o.jsxs)("div",{className:f.correctFormat,children:[(0,o.jsx)("img",{alt:"",src:"./green_check_circle_24px.svg"})," ","Correct Format"]}):"";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(H.bi,{label:Z}),(0,o.jsx)(H.yt,{"data-testId":"accountNumber",name:K.UE.accountNumber,label:C,width:12,register:n,unregister:t,errors:d,setValue:r,watch:i,trigger:a,clearErrors:l,getValues:u,values:p}),b&&I&&!A&&(0,o.jsx)(D.Z,{className:f.sceWarning,children:k}),y.askMeterNumber&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(H.bi,{label:w,className:f.meterNumberLabel}),(0,o.jsx)(H.yt,{"data-testid":"meterNumber",name:K.UE.meterNumber,label:E,width:12,register:n,unregister:t,errors:d,setValue:r,watch:i,trigger:a,clearErrors:l,getValues:u,values:p})]})]})}var Qn=(0,m.Z)((function(e){var n,t;return(0,p.Z)({modal:(n={position:"relative",height:"100vh",backgroundColor:e.palette.white.main,overflowY:"scroll"},(0,r.Z)(n,e.breakpoints.up("sm"),{overflowY:"visible"}),(0,r.Z)(n,e.breakpoints.up("md"),{height:"auto",borderRadius:5,maxWidth:768}),(0,r.Z)(n,e.breakpoints.up("lg"),{maxWidth:992}),n),modalContent:(t={margin:e.spacing(5,2,7)},(0,r.Z)(t,e.breakpoints.up("md"),{margin:e.spacing(5,3,7)}),(0,r.Z)(t,e.breakpoints.up("lg"),{margin:e.spacing(5,16,7)}),t),modalText:{color:e.palette.black.main,fontSize:14,letterSpacing:"0",lineHeight:"24px",margin:e.spacing(2,0,5)},modalTextBold:{fontWeight:"bold"},modalTextMobile:{color:e.palette.primary.main,textDecoration:"none"},modalImgContainer:{display:"flex"},modalImg:{width:"100%",margin:e.spacing(0,"auto",4)},modalImgMultiple:(0,r.Z)({width:"100%"},e.breakpoints.up("sm"),{width:"95%"}),modalCloaseBtn:{position:"absolute",top:7,right:7}})}));function Gn(e){var n=e.open,t=e.onClose,i=Qn(),a=(0,c.v9)(Mn.Y2),u=(0,c.v9)(Mn.yH),d=(0,Ce.c)(Ce.A.needHelp);return(0,o.jsx)(ge.Z,{open:n,onClose:t,disableEnforceFocus:d,container:d?(0,Ze.Ii)():void 0,children:function(){var e=1===u.helperBillSrcs.length;return(0,o.jsx)(me.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,o.jsx)("div",{className:i.modal,children:(0,o.jsxs)("div",{className:i.modalContent,children:[u.helperBillData.length>0&&(0,o.jsxs)("div",{className:i.modalText,children:["You can find your ",u.helperBillData.map((function(e,n){var t;return t=0===n?"":n===u.helperBillData.length-1?" and ":", ",(0,o.jsxs)(s.Fragment,{children:[t,(0,o.jsx)("span",{className:i.modalTextBold,children:e})]},e)}))," on your ".concat(a," Electric Bill."),u.helperBillCompanyWebsite.length>0&&(0,o.jsxs)(o.Fragment,{children:["A copy of your bill is available in your",(0,o.jsx)("a",{href:u.helperBillCompanyWebsite,target:"_blank",className:i.modalTextMobile,rel:"noreferrer",children:"".concat(a," Account on their website")}),"."]})]}),(0,o.jsx)(l.Z,{container:!0,children:u.helperBillSrcs.map((function(n){return(0,o.jsx)(l.Z,{item:!0,xs:12,sm:e?12:6,className:i.modalImgContainer,children:(0,o.jsx)("img",{src:n,className:Pe()(i.modalImg,(0,r.Z)({},i.modalImgMultiple,!e)),alt:"helper"})},n)}))}),(0,o.jsx)(he.Z,{"aria-label":"close",size:"small",className:i.modalCloaseBtn,onClick:t,children:(0,o.jsx)(ve.Z,{})})]})})})}()})}var Kn=(0,m.Z)((function(e){var n,t;return(0,p.Z)({billHelperText:{cursor:"pointer",fontWeight:600,textDecoration:"underline",textAlign:"center",margin:e.spacing(-.5,0,4)},subHeader:{fontWeight:400,color:e.palette.black.light},subHeaderWrapper:(n={},(0,r.Z)(n,e.breakpoints.up("sm"),{marginBottom:16}),(0,r.Z)(n,"alignItems","center"),(0,r.Z)(n,"margin",e.spacing(1,0)),n),xtMargin:{marginTop:e.spacing(5)},helperPopupStyle:(t={backgroundImage:"none"},(0,r.Z)(t,e.breakpoints.up("md"),{width:950,height:"fit-content"}),(0,r.Z)(t,"& img",{marginTop:e.spacing(5)}),t)})}));function Jn(e){var n=e.register,t=e.unregister,r=e.setValue,i=e.watch,a=e.trigger,u=e.clearErrors,d=e.getValues,m=e.errors,p=e.values,f=Kn(),h=(0,c.v9)((function(e){return e})),v=h.utilityAccounts.isLoadingSelectedUtility,x=h.wizard.billUploadRequired,y=(0,c.v9)(Mn.yH),b=(0,c.v9)(Mn.Y2),C=(0,c.v9)(ne.fi),Z=(0,c.v9)(On.sC),E=(0,s.useState)(!1),w=E[0],N=E[1],A=(0,s.useCallback)((function(e){return function(n){n.preventDefault(),N(e)}}),[N]);return!Z&&C||v?(0,o.jsx)(l.Z,{container:!0,children:(0,o.jsx)(g.Z,{})}):Z?(0,o.jsxs)(o.Fragment,{children:[y.helperBillSrcs.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Z,{className:f.billHelperText,color:"primary",variant:"body1",onClick:A(!0),children:"Where to find all the info you need on your ".concat(b," bill?")}),w&&(0,o.jsx)(Gn,{open:!0,onClose:A(!1)})]}),(0,o.jsx)(qn,{register:n,unregister:t,errors:m,setValue:r,watch:i,trigger:a,clearErrors:u,getValues:d,values:p}),x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{container:!0,direction:"row",alignItems:"flex-end",className:"".concat(f.subHeaderWrapper," ").concat(f.xtMargin),children:(0,o.jsx)(H.bi,{label:"Upload a copy of your most recent utility bill"})}),(0,o.jsx)(H.Yv,{register:n,unregister:t,errors:m,setValue:r,watch:i,trigger:a,clearErrors:u,getValues:d})]}),(0,o.jsx)(Fn,{})]}):null}var Xn=(0,m.Z)((function(e){return(0,p.Z)({card:{position:"relative",width:180,height:88,marginRight:"10px",padding:"10px 16px",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform .2s",textAlign:"center",border:"1px solid ".concat(e.palette.gray.light),borderRadius:"5px"},image:{maxHeight:68,maxWidth:148},selected:{border:"1px solid ".concat(e.palette.blue.dark),boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"},disabled:{"&::after":{position:"absolute",content:'" "',display:"block",width:"100%",height:"100%",top:"0",left:"0",background:"linear-gradient(to top left, rgba(0,0,0,0) 0%, rgba(0,0,0,0) calc(50% - 1px), #B1B1B1 50%, rgba(0,0,0,0) calc(50% + 1px), rgba(0,0,0,0) 100%)"}},selectable:{cursor:"pointer","&:hover":{transform:"scale(1.05)"}}})}));function $n(e){var n,t=e.item,i=e.itemCode,a=(0,c.I0)(),u=Xn(t),d=(0,s.useState)(!0),m=d[0],p=d[1],f=(0,c.v9)(On.sC),g=(0,c.v9)(On.D$),h=(0,c.v9)(On.bN),v=t.code===h,x=f&&f.id===t.id||v,y=(0,s.useCallback)((function(){g&&(a((0,ne.JN)()),a((0,C.ez)(i)))}),[g,a,i]);return(0,s.useEffect)((function(){!f&&v&&a((0,C.AB)())}),[f,v,a]),(0,o.jsx)(l.Z,{item:!0,className:Pe()(u.card,(n={},(0,r.Z)(n,u.selected,x),(0,r.Z)(n,u.selectable,g),(0,r.Z)(n,u.disabled,!x&&!g),n)),onClick:y,"data-testid":"utility-card-item-".concat(t.id),children:m?(0,o.jsx)("img",{onError:function(){return p(!1)},className:u.image,src:"./".concat((0,He.D1)(t.id)),alt:t.name}):t.name})}var et=(0,m.Z)((function(e){return(0,p.Z)({note:{backgroundColor:"".concat(e.palette.blueLight.light),padding:"8px 31px 8px 25px",borderRadius:"4px",color:"".concat(e.palette.black.main),fontWeight:400,fontSize:"14px",lineHeight:"20px",listStyleType:'"*"',listStylePosition:"outside",marginBottom:"20px",marginTop:0,"& li":{paddingLeft:"10px"}}})}));function nt(){var e=et();return(0,c.v9)(On.D$)?null:(0,o.jsx)("ul",{className:e.note,children:(0,o.jsx)("li",{children:"Please note, all utility accounts for this enrollment must be for the same utility. If you want to add utility account(s) for other utility companies, you can submit a separate enrollment after completing this one."})})}var tt=(0,m.Z)((function(){return(0,p.Z)({layout:{marginTop:"10px",marginBottom:"45px"},title:{marginBottom:"25px"}})}));function rt(){var e=tt(),n=(0,c.v9)(On.KJ),t=(0,c.v9)(On.vT);return n?(0,o.jsxs)(l.Z,{container:!0,direction:"column",className:e.layout,children:[(0,o.jsx)(D.Z,{variant:"h6",className:e.title,children:"Select Your Utility Company"}),(0,o.jsx)(nt,{}),(0,o.jsx)(l.Z,{container:!0,children:Object.values(t).map((function(e){return(0,o.jsx)($n,{item:e,itemCode:e.code},e.code)}))})]}):null}function it(e){var n=(0,c.v9)((function(e){return e})),t=n.wizard.serviceAddressZipCode,r=n.utilityAccounts.isLoadingSelectedUtility;return t&&5===t.length?r?(0,o.jsx)(l.Z,{container:!0,children:(0,o.jsx)(me.Z,{pt:"45px",children:(0,o.jsx)(g.Z,{})})}):(0,o.jsx)(l.Z,{container:!0,children:(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[(0,o.jsx)(me.Z,{pt:"50px"}),(0,o.jsx)(rt,{}),(0,o.jsx)(Jn,(0,a.Z)({},e))]})}):null}var at=(0,m.Z)((function(e){var n;return(0,p.Z)({container:{width:"100%"},title:{fontWeight:500,fontSize:"16px",lineHeight:"32px",color:e.palette.black.main,marginBottom:"15px",marginTop:"15px"},itemsContainer:{justifyContent:"center",alignItems:"stretch",flexWrap:"nowrap",width:"100%"},itemCell:(n={position:"relative",borderColor:e.palette.grayDark.dark,borderWidth:"1px",borderStyle:"solid",padding:"30px 15px 35px 15px",width:"50%",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",color:e.palette.black.main,textAlign:"center",fontSize:"14px"},(0,r.Z)(n,e.breakpoints.up("sm"),{fontSize:"16px"}),(0,r.Z)(n,e.breakpoints.up("md"),{width:"360px"}),n),itemCellSelected:{border:"2px solid ".concat(e.palette.blueDark.main),boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.15)",color:e.palette.blueDark.main},leftItemCell:{marginRight:"20px"},itemCellTitle:{fontWeight:600,lineHeight:"23px"},itemCellSubTitle:{fontWeight:400,lineHeight:"23px"},itemCellImg:(0,r.Z)({marginBottom:"10px",width:"40px",height:"40px"},e.breakpoints.up("md"),{width:"60px",height:"60px"}),badge:(0,r.Z)({position:"absolute",color:e.palette.greenDark.main,backgroundColor:e.palette.green.light,padding:"2px 10px",borderRadius:"2px",top:"-14px"},e.breakpoints.up("md"),{top:"9px",right:"9px"})})}));var ot=function(){var e=at(),n=(0,c.I0)(),t=(0,c.v9)(xn.fv),i=(0,c.v9)(Mn.jq),a=(0,c.v9)(Mn.mX),s=(0,c.v9)(Mn._Q),u=t.distribution_company_id,d=He.c4[u],m=a&&!i,p=a&&i,f=p?"/enrollment/connect-utility-account/login-credentials-selected.svg":"/enrollment/connect-utility-account/login-credentials.svg",g=m?"/enrollment/connect-utility-account/bill-info-selected.svg":"/enrollment/connect-utility-account/bill-info.svg";return s?null:(0,o.jsxs)(l.Z,{container:!0,direction:"column",className:e.container,children:[(0,o.jsx)(l.Z,{item:!0,className:e.title,children:"Ampion needs this information to complete your subscription. Select the best option for you!"}),(0,o.jsxs)(l.Z,{container:!0,className:e.itemsContainer,children:[(0,o.jsxs)(l.Z,{item:!0,className:Pe()(e.itemCell,e.leftItemCell,(0,r.Z)({},e.itemCellSelected,p)),onClick:function(){n((0,ne.Iu)(!0))},"data-testid":"connect-utility-account-al-flow",children:[(0,o.jsx)("img",{alt:"login credentials",src:f,className:e.itemCellImg}),(0,o.jsxs)("div",{className:e.itemCellTitle,children:["Enter your"," ",d," ","username and password"]}),(0,o.jsx)("div",{className:e.itemCellSubTitle,children:"and we'll automatically retrieve your utility data!"}),(0,o.jsx)("div",{className:e.badge,children:"Recommended"})]}),(0,o.jsxs)(l.Z,{item:!0,className:Pe()(e.itemCell,(0,r.Z)({},e.itemCellSelected,m)),onClick:function(){n((0,ne.Iu)(!1))},"data-testid":"connect-utility-account-manual-flow",children:[(0,o.jsx)("img",{alt:"bill info",src:g,className:e.itemCellImg}),(0,o.jsx)("div",{className:e.itemCellTitle,children:"Get Your Recent Electric bill"}),(0,o.jsx)("div",{className:e.itemCellSubTitle,children:"and manually enter the details"})]})]})]})};function st(e){var n=e.setValue,t=(0,c.I0)(),r=(0,c.v9)((function(e){return e})),i=r.wizard,a=i.mailingAddress,u=i.mailingAddressCity,d=i.mailingAddressCounty,m=i.mailingAddressState,p=i.mailingAddressUnit,f=i.mailingAddressZipCode,g=r.utilityAccounts.isMailingAddressCopied,h=(0,s.useCallback)((function(){n(K.UE.serviceAddress,void 0),n(K.UE.serviceAddressCity,""),n(K.UE.serviceAddressCounty,""),n(K.UE.serviceAddressUnit,""),n(K.UE.serviceAddressState,""),n(K.UE.serviceAddressZipCode,"")}),[n]),v=(0,s.useCallback)((function(){t((0,ne.oe)(a)),n(K.UE.serviceAddress,a),n(K.UE.serviceAddressCity,u),n(K.UE.serviceAddressCounty,d),n(K.UE.serviceAddressUnit,p),n(K.UE.serviceAddressState,m),n(K.UE.serviceAddressZipCode,f)}),[t,a,u,d,m,p,f,n]),x=(0,s.useCallback)((function(e){var n=e.target;t((0,ne.UL)(n.checked)),n.checked||(h(),t((0,C.XB)()))}),[t,h]);return(0,s.useEffect)((function(){g&&(h(),v())}),[v,g,h]),(0,o.jsx)(l.Z,{item:!0,children:(0,o.jsx)(ie.Cn,{"data-testid":"copy-from-email-address-checkbox",name:"copyFromMailing",label:"Copy from my mailing address",checked:g,onChange:x})})}function ct(e){var n=e.setValue,t=e.watch,r=e.errors,i=e.register,a=e.unregister,l=e.trigger,u=e.getValues,d=e.clearErrors,m=(0,c.I0)(),p=(0,te.Z)(),f=t(K.UE.serviceAddress),g=(0,s.useCallback)((function(){m((0,ne.UL)(!1))}),[m]),h=(0,s.useCallback)((function(e){m((0,ne.UL)(!1));var t=e[K.UE.serviceAddress],r=e[K.UE.serviceAddressUnit],i=e[K.UE.serviceAddressCity],a=e[K.UE.serviceAddressState],o=e[K.UE.serviceAddressCounty],s=e[K.UE.serviceAddressZipCode];n(K.UE.serviceAddress,t),n(K.UE.serviceAddressUnit,r),n(K.UE.serviceAddressCity,i),n(K.UE.serviceAddressState,a),n(K.UE.serviceAddressCounty,o),n(K.UE.serviceAddressZipCode,s)}),[m,n]);return p?(0,o.jsx)(ie.Zw,{testId:"serviceAddress",name:K.UE.serviceAddress,label:"Street Address",value:f,width:9,changeCallback:g,updateAddressCallback:h,setValue:n,errors:r,variant:"standard",register:i,unregister:a,watch:t,trigger:l,getValues:u,clearErrors:d}):(0,o.jsx)(H.yt,{testId:"serviceAddress",name:K.UE.serviceAddress,label:"Street Address",value:f,width:9,changeCallback:g,setValue:n,errors:r,variant:"standard",register:i,unregister:a,watch:t,trigger:l,getValues:u,clearErrors:d})}function lt(e){var n=e.watch,t=e.register,r=e.unregister,i=e.setValue,a=e.errors,l=e.trigger,u=e.getValues,d=e.clearErrors,m=(0,c.I0)(),p=(0,c.v9)(Mn.Fy),f=n(K.UE.serviceAddressCity),g=n(K.UE.serviceAddressUnit),h=n(K.UE.serviceAddressState),v=n(K.UE.serviceAddressCounty),x=n(K.UE.serviceAddressZipCode),y=(0,s.useCallback)((function(){m((0,ne.UL)(!1))}),[m]);return(0,s.useEffect)((function(){t(K.UE.serviceAddress),t(K.UE.serviceAddressUnit),t(K.UE.serviceAddressCity),t(K.UE.serviceAddressState),t(K.UE.serviceAddressZipCode),t(K.UE.serviceAddressCounty)}),[t,r]),(0,s.useEffect)((function(){p&&(m((0,ne.Yd)(!0)),m((0,ne.UL)(!0)))}),[m,p]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(H.bi,{popoverLabel:"You can find this on your electric bill where it is most likely referred to as the \u201cservice address\u201d. For most customers, the service address will be the same as your mailing address.",label:"What is the address of the utility account you are enrolling?"}),(0,o.jsx)(st,{setValue:i}),(0,o.jsx)(ct,{setValue:i,watch:n,errors:a,register:t,unregister:r,trigger:l,getValues:u,clearErrors:d}),(0,o.jsx)(H.yt,{testId:"serviceAddressUnit",name:K.UE.serviceAddressUnit,label:"Unit",autocompleteOff:!0,value:g,width:3,changeCallback:y,setValue:i,errors:a,variant:"standard",register:t,unregister:r,watch:n,trigger:l,getValues:u,clearErrors:d}),(0,o.jsx)(H.yt,{testId:"serviceAddressCity",name:K.UE.serviceAddressCity,label:"City",changeCallback:y,autocompleteOff:!0,value:f,width:3,setValue:i,errors:a,variant:"standard",register:t,unregister:r,watch:n,trigger:l,getValues:u,clearErrors:d}),(0,o.jsx)(H.Ad,{testId:"serviceAddressState",name:K.UE.serviceAddressState,width:3,autocompleteOff:!0,value:h,changeCallback:y,setValue:i,errors:a,register:t,unregister:r,watch:n,trigger:l,clearErrors:d,getValues:u}),(0,o.jsx)(H.yt,{testId:"serviceAddressCounty",name:K.UE.serviceAddressCounty,label:"County (if any)",changeCallback:y,autocompleteOff:!0,value:v,width:3,setValue:i,errors:a,variant:"standard",register:t,unregister:r,watch:n,trigger:l,getValues:u,clearErrors:d}),(0,o.jsx)(H.yt,{testId:"serviceAddressZipCode",name:K.UE.serviceAddressZipCode,label:"Zip Code",pattern:"[0-9]*",inputMode:"numeric",autocompleteOff:!0,value:x,width:3,changeCallback:y,setValue:i,errors:a,variant:"standard",register:t,unregister:r,watch:n,trigger:l,getValues:u,clearErrors:d})]})}var ut=(0,m.Z)((function(){return(0,p.Z)({stepTitleBillUpload:{marginBottom:"21px"},rowWrapper:{width:"100%"}})})),dt=(0,W.N)((function(e){var n=e.watch,t=e.register,r=e.unregister,i=e.setValue,a=e.values,s=e.errors,u=e.trigger,d=e.getValues,m=e.clearErrors,p=ut(),f=(0,c.v9)(ne.fi),g=(0,c.v9)(Mn.jq),h=(0,c.v9)(Mn.mX),v=(0,c.v9)(xn.Gn),x=(0,c.v9)(Ln.se),y="PROVIDE UTILITY ACCOUNT INFO";return!h&&f?(0,o.jsx)(rn.Z,{}):!h&&v?(0,o.jsxs)(l.Z,{container:!0,spacing:3,children:[(0,o.jsx)(H.rQ,{className:p.stepTitleBillUpload,title:y}),(0,o.jsx)(l.Z,{item:!0,className:p.rowWrapper,children:(0,o.jsx)(ot,{})})]}):g&&v&&x!==yn.JZ.Credentials?(0,o.jsx)(Rn.Z,{flow:Ln.Z6.ENROLLMENT_FLOW}):g&&v?(0,o.jsxs)(l.Z,{container:!0,spacing:3,children:[(0,o.jsx)(H.rQ,{className:p.stepTitleBillUpload,title:y}),(0,o.jsx)(l.Z,{item:!0,className:p.rowWrapper,children:(0,o.jsx)(ot,{})}),(0,o.jsx)(l.Z,{item:!0,className:p.rowWrapper,children:(0,o.jsx)(Rn.Z,{flow:Ln.Z6.ENROLLMENT_FLOW})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.Z,{container:!0,spacing:3,children:[(0,o.jsx)(H.rQ,{className:p.stepTitleBillUpload,title:y}),(0,o.jsx)(l.Z,{item:!0,className:p.rowWrapper,children:(0,o.jsx)(ot,{})}),(0,o.jsx)(lt,{watch:n,register:t,unregister:r,setValue:i,errors:s,trigger:u,getValues:d,clearErrors:m})]}),(0,o.jsx)(it,{errors:s,register:t,unregister:r,setValue:i,watch:n,trigger:u,clearErrors:m,getValues:d,values:a})]})}));var mt={name:i.l0.CONNECT_UTILITY_ACCOUNT,label:i.l0.CONNECT_UTILITY_ACCOUNT,component:function(e){var n=(0,c.v9)(Mn.jq),t=(0,c.v9)(xn.Gn),r=(0,d.Z)()(),i=(0,c.v9)((function(e){return e})).utilityAccounts.selectedAccountIndex,s=(0,c.v9)(Ln.se),m=!!(i>=0)||!s||s===yn.JZ.Credentials;return(0,o.jsxs)("div",{className:r.backgrounds,children:[(0,o.jsx)(O,{}),(0,o.jsx)(u.T,{"data-testid":"mainPage",bodyClasses:Pe()({"top-radius-0":t&&!n}),children:(0,o.jsxs)(l.Z,{container:!0,className:r.contectWrapper,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(dt,(0,a.Z)({},e)),m&&(0,o.jsx)(j,{})]})})]})},backAction:function(e){return(0,e.dispatch)((0,ne.Iu)(void 0)),!0},showStepIndicator:!0,hasBackButton:function(){return!0},hasNextButton:function(){return!1}},pt=t(17600),ft=t(47568),gt=t(20414),ht=t(7397),vt=t(68172),xt=(0,m.Z)((function(e){return(0,p.Z)({createPasswordContainer:{height:"100%"},paddedButton:(0,r.Z)({width:"390px",padding:e.spacing(2,6),marginTop:e.spacing(3),textTransform:"none",fontSize:16,lineHeight:"23px",fontWeight:600,fontStyle:"normal","&:hover":{backgroundColor:e.palette.primary.main,color:e.palette.common.white}},e.breakpoints.down("sm"),{width:"100%"}),skipForNow:{marginTop:e.spacing(4),textDecoration:"underline",cursor:"pointer",fontSize:"16px",fontWeight:400,lineHeight:"23px",letterSpacing:"0em",color:e.palette.black.main,background:"none"},spacer:{width:1,height:"42px"},passwordFieldEndAdornment:{cursor:"pointer",fontSize:12,fontWeight:400},createYourPasswordTitle:{fontFamily:"Jost",fontSize:"25px",fontStyle:"normal",fontWeight:600,lineHeight:"36px",letterSpacing:"0em",textAlign:"left"},validationBox:(0,r.Z)({background:"#EBEFF2",width:392,margin:e.spacing(0,"auto",4),padding:e.spacing(1.5,0,1.5,4),boxSizing:"border-box"},e.breakpoints.down("sm"),{width:"100%"}),passwordValidationText:{fontSize:"14px",lineHeight:"20.23px",display:"flex"},checkIcon:{marginRight:e.spacing(2)},agreementText:{marginTop:e.spacing(1),width:"80%",fontSize:"14px",fontWeight:400,lineHeight:"20px",letterSpacing:"0.005em"},valid:{color:"#00E25C"},invalid:{color:"#B1B1B1"},paddedNote:{marginTop:15}})})),yt=(0,W.N)((function(e){var n=e.watch,t=e.setValue,r=e.errors,i=e.register,u=e.unregister,d=e.trigger,m=e.clearErrors,p=e.getValues,f=e.values,g=(0,c.I0)(),h=xt(),v=(0,c.v9)((function(e){return e})).wizard,x=v.customerType,y=v.createPassword,b=v.emailAddress,Z=(0,s.useState)(""),E=Z[0],w=Z[1],N=(0,s.useState)(!1),A=N[0],j=N[1],I=(0,s.useRef)(!1),k=(0,s.useRef)(!1),_=function(e){return{style:{backgroundImage:"url('".concat(e,".svg')"),backgroundRepeat:"no-repeat",backgroundPositionY:"center",backgroundPositionX:"0px",width:"300px",paddingLeft:26}}},T={style:{marginLeft:"25px"}},S=(0,s.useCallback)((function(){k.current||(k.current=!0,g((0,ne.$4)(!0)),g((0,nn.P)()))}),[g]),U=(0,s.useCallback)((0,ft.Z)((function(){var e,n;return(0,gt.__generator)(this,(function(t){switch(t.label){case 0:return I.current?[2]:(I.current=!0,[4,(0,vt._)({email:b,customerType:x,password:E},vt.B.createPassword)]);case 1:return e=t.sent(),n=e.user_token,g((0,ne.dP)(n)),g((0,C.W0)()),[2]}}))})),[g,b,x,E]),z=(0,s.useCallback)((function(e){w(e)}),[]),L=(0,s.useCallback)((function(e){e.preventDefault(),j(!A)}),[A]),M=(0,s.useMemo)((function(){var e=E.length>7,n=E.match(/[a-z]+/),t=E.match(/[A-Z]+/),r=E.match(/[0-9]+/),i=E.match(/\W+/),a=E.match(/^\S*$/),o=E.match(/^(?!.*[\s])(?=.{8,}$)(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])(?=.*?\W).*$/);return{enabled:e&&n&&t&&r&&i&&a&&o,validations:[{message:"Minimum of 8 characters",valid:e,name:e},{message:"At least one lowercase letter",valid:n,name:n},{message:"At least one uppercase letter",valid:t,name:t},{message:"At least one number",valid:r,name:r},{message:"At least one special character",valid:i,name:i},{message:"No whitespace",valid:a,name:a}]}}),[E]);return(0,o.jsxs)(l.Z,{className:h.createPasswordContainer,container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(D.Z,{className:h.createYourPasswordTitle,"data-testid":"default-step-title",children:"Create Your Password"}),(0,o.jsx)("div",{className:h.spacer}),(0,o.jsx)(H.yt,{"data-testid":"username",name:K.UE.username,inputProps:_("account_circle_24px"),InputLabelProps:T,label:"Email",value:b,disabled:!0,width:9,watch:n,setValue:t,errors:r,register:i,unregister:u,trigger:d,clearErrors:m,getValues:p,values:f}),(0,o.jsx)("div",{className:h.spacer}),(0,o.jsx)(H.yt,{"data-testid":"password",name:K.UE.password,inputProps:(0,P.Z)((0,a.Z)({},_("lock")),{autoComplete:"create-password",type:A?"text":"password"}),InputProps:{endAdornment:(0,o.jsx)(ht.Z,{position:"end",children:(0,o.jsx)("p",{"aria-label":"toggle-password-visibility",className:h.passwordFieldEndAdornment,onClick:L,children:A?"HIDE":"SHOW"})})},InputLabelProps:T,label:"Password",value:E,changeCallback:z,width:9,watch:n,setValue:t,errors:r,register:i,unregister:u,trigger:d,clearErrors:m,getValues:p,values:f}),(0,o.jsx)("div",{className:h.spacer}),E.length>0&&(0,o.jsxs)(l.Z,{className:h.validationBox,container:!0,direction:"column",alignItems:"flex-start",justifyContent:"flex-start",children:[(0,o.jsx)(D.Z,{children:"Ampion requires the following of your password:"}),M.validations.map((function(e,n){return(0,o.jsx)(s.Fragment,{children:(0,o.jsxs)(D.Z,{className:"".concat(h.passwordValidationText," ").concat(e.valid?h.valid:h.invalid),align:"left",children:[(0,o.jsx)("img",{alt:"check-circle",className:h.checkIcon,src:e.valid?"./green_check_circle_24px.svg":"./check_circle_24px.svg"}),e.message]})},"validation-rule-".concat(n))}))]}),(0,o.jsx)(Hn.Z,{variant:"contained",color:"primary",className:h.paddedButton,submitHandler:!I.current&&U,loading:I.current,buttonProps:{"data-testid":"create-password",disabled:!M.enabled},children:"Create Password"}),y!==ne.F$.Required&&(0,o.jsx)(Hn.Z,{variant:"text",color:"primary",className:h.skipForNow,submitHandler:!k.current&&S,children:"Skip for now"})]})})),bt=yt,Ct=(0,m.Z)((function(e){return(0,p.Z)({spacer:{width:1,height:"42px"},createYourPasswordHeader:(0,r.Z)({background:"#EBEFF2",width:"700px",margin:e.spacing(9,"auto",4),padding:e.spacing(1.5,8),boxSizing:"border-box"},e.breakpoints.down("sm"),{width:"100%"}),createYourPasswordHeaderText:(0,r.Z)({color:"#0088FD",fontSize:"20px",fontWeight:400,lineHeight:"29px",letterSpacing:"0.15000000596046448px",width:"577px",margin:e.spacing(0,"auto")},e.breakpoints.down("sm"),{width:"100%"})})}));var Zt={name:i.l0.CREATE_YOUR_PASSWORD,label:i.l0.CREATE_YOUR_PASSWORD,component:function(e){var n=(0,d.Z)()(),t=Ct();return(0,o.jsxs)("div",{className:n.backgrounds,children:[(0,o.jsx)("div",{className:t.spacer}),(0,o.jsx)("div",{className:t.createYourPasswordHeader,children:(0,o.jsx)(D.Z,{className:t.createYourPasswordHeaderText,align:"center",children:"After completing this enrollment, you can log in to your dashboard to manage your account and view savings."})}),(0,o.jsx)(u.T,{"data-testid":"mainPage",isPasswordCreationStep:!0,children:(0,o.jsx)(l.Z,{container:!0,className:n.contectWrapper,alignItems:"center",justifyContent:"center",direction:"column",children:(0,o.jsx)(bt,(0,a.Z)({},e))})})]})},isSubmittionStep:function(e){var n=(0,pt.V)(e);return!e.wizard.docusignEnabled&&!n}},Et=t(20663),wt=t(51110),Nt=(0,m.Z)((function(e){var n;return(0,p.Z)({centerText:(n={textAlign:"center",width:685},(0,r.Z)(n,e.breakpoints.down("md"),{width:"75%"}),(0,r.Z)(n,"margin","0 auto"),n),btnWrapper:(0,r.Z)({marginTop:"36px",marginBottom:"16px",display:"flex",justifyContent:"center"},e.breakpoints.up("sm"),{marginTop:"12px"}),text:{color:e.palette.black.main,fontSize:"16px",fontWeight:400,lineHeight:"23px",marginLeft:0,width:"95%"},acknowledgementGrid:(0,r.Z)({backgroundColor:"#FFF1E6",width:1100,padding:e.spacing(4,0),margin:"0 auto"},e.breakpoints.down("md"),{width:"100vw",minWidth:"100%"}),orange:{color:"#FF7C00",marginTop:e.spacing(2.5)},acknowledgeBtn:{margin:"40px 0 20px",padding:"13px 45px"},mt24:{marginTop:e.spacing(3)}})})),At=(0,W.N)((function(){var e=Nt(),n=(0,c.I0)(),t=(0,c.v9)((function(e){return e})),r=(0,c.v9)(x.$g),a=t.wizard,u=a.emailAddress,d=a.uuid,m=a.vid,p=(0,s.useState)(!1),g=p[0],h=p[1],v=(0,s.useState)(!1),y=v[0],b=v[1],Z=(0,s.useCallback)((0,ft.Z)((function(){var e,t,a,o,s,c,l;return(0,gt.__generator)(this,(function(p){switch(p.label){case 0:h(!0),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(0,ze.s6)({email:u,uuid:d,vid:m})];case 2:return e=p.sent(),t=e.disclosures_completed,a=e.disclosures_created,o=e.disclosures_total,s=e.next_step,n((0,ne.ud)({disclosuresCompleted:t,disclosuresTotal:o,disclosuresCreated:a})),s===i.l0.SIGN_DISCLOSURES?b(!0):(c=r.findIndex((function(e){return e.name===i.l0.SIGN_DISCLOSURES})),(l=(0,Et.Ac)(r,c))===r.length-1?n((0,C.rd)({lastStep:i.l0.SIGN_DISCLOSURES,override:{noEP2SF:!0}})):n((0,ne.Nh)(l))),[3,4];case 3:return p.sent(),b(!0),[3,4];case 4:return h(!1),[2]}}))})),[n,u,r,d,m]);return(0,o.jsxs)(l.Z,{className:e.acknowledgementGrid,container:!0,direction:"column",children:[(0,o.jsxs)(l.Z,{className:e.centerText,container:!0,direction:"row",justifyContent:"center",alignItems:"flex-start",children:[(0,o.jsx)("img",{alt:"error-outline",src:"/error_outline_24px.svg"}),(0,o.jsx)(D.Z,{className:e.text,children:"An Ampion team member will reach out to provide you with a disclosure form, which you will need to sign before proceeding."}),(0,o.jsx)(D.Z,{className:Pe()(e.text,e.mt24),children:"If that has already been completed, you can press the button below to check."}),y&&(0,o.jsxs)(D.Z,{className:Pe()(e.text,e.orange),children:["We are sorry, but it looks like disclosure signature is still pending. Please"," ",(0,o.jsx)(wt.m,{text:"contact us"})," ","if you think that this is incorrect."]})]}),(0,o.jsx)("div",{className:e.btnWrapper,children:(0,o.jsx)(f.Z,{"data-testid":"docusign-acknowledge",color:"primary",variant:"contained",className:e.acknowledgeBtn,disabled:g,onClick:Z,children:"Check Disclosure Status"})})]})}));var jt={name:i.l0.SIGN_DISCLOSURES,label:i.l0.SIGN_DISCLOSURES,component:function(e){var n=(0,d.Z)()();return(0,o.jsxs)("div",{className:n.backgrounds,children:[(0,o.jsx)(O,{}),(0,o.jsx)(u.T,{"data-testid":"mainPage",children:(0,o.jsxs)(l.Z,{container:!0,className:n.contectWrapper,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(H.rQ,{title:"Confirm your subscription"}),(0,o.jsx)(At,(0,a.Z)({},e))]})})]})}},It=(0,m.Z)((function(e){return(0,p.Z)({inputWrapper:(0,r.Z)({padding:"57px 0 0"},e.breakpoints.up("md"),{padding:"57px 22% 0"}),inputLabel:{fontFamily:"Jost",fontStyle:"normal",fontWeight:600,fontSize:"16px",lineHeight:"23px",letterSpacing:"1px",color:e.palette.black.main,padding:"0 8px"},spacer:{minHeight:"74px",midWidth:"1px"}})})),kt=(0,W.N)((function(e){var n=e.register,t=e.unregister,r=e.trigger,i=e.setValue,a=e.watch,c=e.getValues,u=e.clearErrors,d=e.errors,m=e.values,p=It();return(0,s.useEffect)((function(){n(K.UE.zipCode,q),n(K.UE.electricUtility,Q)}),[n]),(0,o.jsxs)(l.Z,{container:!0,spacing:2,className:p.inputWrapper,children:[(0,o.jsx)(D.Z,{className:p.inputLabel,children:"Please provide your service zipcode"}),(0,o.jsx)(H.yt,{"data-testid":"checkAvailabilityZipCode",pattern:"[0-9]*",inputMode:"numeric",name:K.UE.zipCode,label:"Zip Code",width:12,trimWhitespaceOnChange:!0,setValue:i,errors:d,variant:"standard",register:n,unregister:t,trigger:r,watch:a,getValues:c,clearErrors:u}),(0,o.jsx)(F.t,{"data-testid":"electricUtilitySelect",name:K.UE.electricUtility,width:12,values:m,setValue:i,errors:d,register:n,unregister:t,watch:a,trigger:r,clearErrors:u,getValues:c})]})}));var _t={name:i.l0.VERIFY_SERVICE_AVAILABILITY,label:i.l0.VERIFY_SERVICE_AVAILABILITY,component:function(e){var n=(0,d.Z)()();return(0,o.jsxs)("div",{className:n.backgrounds,children:[(0,o.jsx)(O,{}),(0,o.jsx)(u.T,{"data-testid":"mainPage",children:(0,o.jsxs)(l.Z,{container:!0,className:n.contectWrapper,alignItems:"center",justifyContent:"center",direction:"column",children:[(0,o.jsx)(H.rQ,{title:"Let's see if anything is available."}),(0,o.jsx)(kt,(0,a.Z)({},e)),(0,o.jsx)(j,{})]})})]})},showStepIndicator:!1,hasBackButton:function(){return!0},hasNextButton:function(){return!0}},Tt=t(88943),St=t(77071),Ut=t(67056),Pt=t(753),zt=(0,m.Z)((function(e){return(0,p.Z)({note:{maxWidth:"550px",textAlign:"center",fontSize:"16px",lineHeight:"22px",marginTop:"10px"},horizontalRule:{width:"100%",margin:"30px 0 35px 0",border:"0.5px solid ".concat(e.palette.gray.light),borderWidth:"0.5px 0 0 0"},section:{flexWrap:"nowrap",color:e.palette.blue.main,marginBottom:"20px",fontSize:"14px",lineHeight:"22px"},sectionTitle:{minWidth:"60px",flexShrink:0,fontWeight:600,display:"flex",alignItems:"center"},noFee:{fontWeight:600},noFeeExplanationTitle:{fontWeight:600,marginTop:"20px",fontSize:"14px",lineHeight:"32px"},noFeeExplanation:{fontSize:"14px",lineHeight:"22px"},button:{borderRadius:"15px 5px",marginTop:"35px"},clarification:{color:e.palette.black.main,fontSize:"12px",letterSpacing:"0.15px",fontWeight:"normal",lineHeight:"12px",marginTop:"35px",marginBottom:"35px"}})})),Lt=(0,W.N)((function(){var e=zt(),n=(0,c.v9)((function(e){return e})).docusign.isDeclined;return(0,o.jsxs)(l.Z,{container:!0,direction:"column",alignItems:"center",children:[!n&&(0,o.jsxs)(l.Z,{item:!0,className:e.note,children:["On the next step you\u2019ll be asked to read and sign your subscription agreement,"," ","which defines the benefits of your subscription:"]}),(0,o.jsx)("hr",{className:e.horizontalRule}),(0,o.jsxs)(l.Z,{container:!0,className:e.section,children:[(0,o.jsx)(l.Z,{item:!0,className:e.sectionTitle,children:(0,o.jsx)(Tt.Z,{})}),(0,o.jsxs)(l.Z,{item:!0,children:["Your Ampion subscription itself is free. You'll only pay for the bill"," ","credits from the electricity generated by your share of the project."]})]}),(0,o.jsxs)(l.Z,{container:!0,className:e.section,children:[(0,o.jsx)(l.Z,{item:!0,className:e.sectionTitle,children:(0,o.jsx)(Pt.Z,{})}),(0,o.jsxs)(l.Z,{item:!0,children:["Bill credits will automatically be applied to your utility company bill"," ","at a discount. This means you're saving money on your energy!"]})]}),(0,o.jsxs)(l.Z,{container:!0,className:e.section,children:[(0,o.jsx)(l.Z,{item:!0,className:e.sectionTitle,children:(0,o.jsx)(St.Z,{})}),(0,o.jsx)(l.Z,{item:!0,className:e.noFee,children:"No cancellation fees.*"})]}),(0,o.jsxs)(l.Z,{container:!0,className:e.section,children:[(0,o.jsx)(l.Z,{item:!0,className:e.sectionTitle,children:(0,o.jsx)(Ut.Z,{})}),(0,o.jsx)(l.Z,{item:!0,children:"You'll be making a real-world difference in the fight to combat climate change."})]}),(0,o.jsxs)(l.Z,{container:!0,direction:"column",children:[(0,o.jsx)(l.Z,{item:!0,className:e.noFeeExplanationTitle,children:"What\u2019s the Catch?"}),(0,o.jsxs)(l.Z,{item:!0,className:e.noFeeExplanation,children:["There isn't one. This program was designed to encourage the development and"," ","distribution of renewable energy. Your savings are supported by your state."]})]}),(0,o.jsx)(Hn.Z,{label:"Sign Agreement",notStretched:!0,className:e.button,buttonProps:{"data-testid":"signAgreementButton",type:"submit"}}),(0,o.jsx)(D.Z,{className:e.clarification,children:"*Please note that cancelation requires action from your utility company. Upon indication of your desire to cancel, Ampion will promptly deliver a cancelation notice to the utility on your behalf. You will continue to receive bill credits until they have fully processed the cancelation request."})]})})),Mt=(0,m.Z)((function(){return(0,p.Z)({page:{marginTop:"190px",backgroundImage:"none",paddingTop:"70px",paddingBottom:0},title:{textTransform:"none"},contectWrapper:{maxWidth:"750px",margin:"auto"}})}));var Rt,Ot={name:i.l0.SUBSCRIPTION_BENEFITS,label:i.l0.SUBSCRIPTION_BENEFITS,component:function(e){var n=Mt(),t=(0,d.Z)()(),r=(0,c.v9)((function(e){return e})).docusign.isDeclined?"My Subscription Benefits":"Just a few more steps!";return(0,o.jsx)("div",{className:t.backgrounds,children:(0,o.jsx)(u.T,{"data-testid":"mainPage",bodyClasses:n.page,children:(0,o.jsxs)(l.Z,{container:!0,className:n.contectWrapper,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(H.rQ,{title:r,className:n.title}),(0,o.jsx)(Lt,(0,a.Z)({},e))]})})})}},Ht=(Rt={},(0,r.Z)(Rt,i.l0.CHECK_AVAILABILITY,$),(0,r.Z)(Rt,i.l0.CONNECT_UTILITY_ACCOUNT,mt),(0,r.Z)(Rt,i.l0.CREATE_YOUR_PASSWORD,Zt),(0,r.Z)(Rt,i.l0.SIGN_DISCLOSURES,jt),(0,r.Z)(Rt,i.l0.SUBSCRIPTION_BENEFITS,Ot),(0,r.Z)(Rt,i.l0.DOCUSIGN,mn),(0,r.Z)(Rt,i.l0.PAYMENT_METHOD,en),(0,r.Z)(Rt,i.l0.PERSONAL_INFO,ue),(0,r.Z)(Rt,i.l0.UTILITY_INFO,Je),(0,r.Z)(Rt,i.l0.CONFIRM_EMAIL,Ie),(0,r.Z)(Rt,i.l0.WELCOME,zn),(0,r.Z)(Rt,i.l0.VERIFY_SERVICE_AVAILABILITY,_t),Rt)},390:function(e,n,t){var r,i=t(14924),a=t(41120),o=t(75154);n.Z=function(){return(0,a.Z)((function(e){var n;return(0,o.Z)({backgrounds:(n={backgroundImage:"url(".concat(null!==(r=e.branding.logoImg)&&void 0!==r?r:"/logo.svg","), url(/sun_outline_bg.png)"),backgroundPosition:"80px 50px, right top"},(0,i.Z)(n,e.breakpoints.down("sm"),{backgroundPosition:"13px 13px, right top"}),(0,i.Z)(n,e.breakpoints.down("xs"),{backgroundPosition:"center 13px, right top"}),(0,i.Z)(n,"backgroundRepeat","no-repeat, no-repeat"),(0,i.Z)(n,"backgroundSize","189px"),n),contectWrapper:{maxWidth:"740px",margin:"auto"},contectWrapperFull:{margin:"auto"}})}))}},56393:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(47568),i=t(20414),a=t(85893),o=t(67294),s=t(25617),c=t(57785),l=t(30889),u=t(41120),d=t(75154),m=t(41749),p=t(80797),f=t(22318),g=t(1798),h=t(49725),v=(0,u.Z)((function(e){return(0,d.Z)({contentBlock:{cursor:"pointer",marginBottom:e.spacing(2)}})}));var x=function(){var e=v(),n=(0,s.I0)(),t=(0,s.v9)(c.Yw),r=function(){n((0,g.dg)(h.Q.Consent))};return(0,a.jsxs)(m.Z,{container:!0,alignItems:"baseline",className:e.contentBlock,children:[(0,a.jsx)(m.Z,{item:!0,children:(0,a.jsx)(p.Z,{onChange:function(){t?n((0,c.fW)(!1)):r()},checked:!!t,inputProps:{"aria-label":"Usage and Billing information Authorization"},color:"primary"})}),(0,a.jsxs)(m.Z,{item:!0,xs:!0,onClick:r,"data-testid":"consent-message-title",children:["I agree to the"," ",(0,a.jsx)(f.Z,{component:"span",color:"primary",children:"Usage and Billing information Authorization"})]})]})},y=t(44399);var b=function(e){var n=e.label,t=e.submitHandler,u=e.buttonStyle,d=void 0===u?"fullrounded":u,m=(0,s.I0)(),p=(0,s.v9)(c.yz),f=(0,s.v9)(c.FW),g=(0,s.v9)(c.rd),h=f?"Need to agree on the Usage and Billing information Authorization":void 0,v=(0,o.useCallback)((0,r.Z)((function(){return(0,i.__generator)(this,(function(e){return m((0,y.ih)({submitHandler:t})),[2]}))})),[m,t]);return(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsx)(x,{}),(0,a.jsx)(l.Z,{hint:h,label:n,submitHandler:v,loading:g,buttonStyle:d,buttonProps:{disabled:f,"data-testid":"next-button"}})]})}},81133:function(e,n,t){t.d(n,{Ol:function(){return u},lj:function(){return o},o7:function(){return i},Nv:function(){return a}});var r={2:"Eversource ",4:"National\\00a0 Grid",6:"Central\\00a0 Hudson Gas\\00a0 &\\00a0 Electric",7:"Consolidated Edison",8:"National\\00a0 Grid",9:"New\\00a0 York\\00a0 State Electric\\00a0 &\\00a0 Gas",10:"Orange\\00a0 & Rockland\\00a0 Utilities",11:"Rochester\\00a0 Gas\\00a0 & Electric",15:"Potomac Electric\\00a0 Power",21:"Eversource ",22:"Eversource ",27:"Potomac Electric\\00a0 Power",29:"Central\\00a0 Maine Power",30:"Versant\\00a0 Power",31:"Versant\\00a0 Power",33:"Commonwealth Edison",36:"Southern California\\00a0 Edison",38:"Delmarva Power"};function i(e){return r[e]}function a(e){return r[e].replace("\\00a0","")}var o={2:"",4:"https://www.nationalgridus.com/",6:"",7:"",8:"https://www.nationalgridus.com/",9:"",10:"",11:"",15:"https://www.pepco.com/myaccount",21:"",22:"",27:"https://www.pepco.com/myaccount",29:"https://sso.cmpco.com/IdentityProvider/Logon.aspx",30:"",33:"https://www.comed.com/myaccount",36:"https://www.sce.com/mysce/login",38:""},s=t(85893);function c(){return(0,s.jsx)(s.Fragment,{children:"We ran into an issue connecting your account! You can try again later or use the \u201cContact Us\u201d button to get help."})}var l={2:null,4:null,6:null,7:null,8:null,9:null,10:null,11:null,15:null,21:null,22:null,27:null,29:null,30:null,33:null,36:null,38:null};function u(e){var n=e.id,t=l[n];return t?(0,s.jsx)(t,{}):(0,s.jsx)(c,{})}},49725:function(e,n,t){t.d(n,{Q:function(){return V},Z:function(){return B}});var r=t(85893),i=t(67294),a=t(25617),o=t(41120),s=t(75154),c=t(41749),l=t(14924),u=t(5566),d=t(50253),m=t(17812),p=t(94184),f=t.n(p),g=t(80366),h=t(88206),v=t(86459),x=(0,o.Z)((function(e){return(0,s.Z)({wrapper:{display:"flex",alignItems:"center",height:"100vh"},modal:(0,l.Z)({position:"relative",width:"calc(100vw - 20px)",backgroundColor:e.palette.white.main,boxShadow:"0px 34px 34px rgba(0, 0, 0, 0.05)",borderRadius:"10px",maxHeight:"95vh",overflowY:"auto",padding:e.spacing(2)},e.breakpoints.up("md"),{width:"500px",padding:e.spacing(5)}),closeBtn:{position:"absolute",top:e.spacing(2),right:e.spacing(2)},noPadding:{padding:0},lg:(0,l.Z)({},e.breakpoints.up("md"),{width:"980px"}),sm:(0,l.Z)({},e.breakpoints.up("md"),{width:"430px"}),md:(0,l.Z)({},e.breakpoints.up("md"),{width:"500px"})})}));var y=function(e){var n,t=e.open,i=e.onCloseHandler,a=e.children,o=e.noPadding,s=void 0!==o&&o,c=e.sizing,p=void 0===c?"md":c,y=x(),b=(0,h.c)(h.A.needHelp);return(0,r.jsx)(u.Z,{open:t,disableEnforceFocus:b,container:b?(0,v.Ii)():void 0,children:(0,r.jsx)(d.Z,{justifyContent:"center",flexDirection:"column",className:y.wrapper,children:(0,r.jsxs)("div",{className:f()(y.modal,(n={},(0,l.Z)(n,y.noPadding,s),(0,l.Z)(n,y[p],!!p),n)),children:[i&&(0,r.jsx)(m.Z,{"aria-label":"close",size:"small",className:y.closeBtn,onClick:i,children:(0,r.jsx)(g.Z,{})}),a]})})})},b=t(30889),C=t(51110),Z=t(57785),E=t(52414),w=(0,o.Z)((function(e){return(0,s.Z)({contentBlock:{width:"70%",margin:"auto",textAlign:"center"},contactUsNote:{fontSize:12,fontWeight:"normal",marginTop:e.spacing(4),"& > span":{fontSize:12,fontWeight:"normal"}}})}));var N=function(e){var n=e.open,t=e.onCloseHandler,i=(0,a.I0)(),o=w();return(0,r.jsx)(y,{open:n,sizing:"sm",onCloseHandler:t,children:(0,r.jsxs)(c.Z,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,className:o.contentBlock,children:[(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)("b",{children:"It seems like your utility account is already connected"})}),(0,r.jsx)(c.Z,{item:!0,children:"Please try a different login credentials if you want to enroll additional utility account(s)."}),(0,r.jsx)(c.Z,{item:!0,xs:12,children:(0,r.jsx)(b.Z,{actionCallback:function(){i((0,Z.Py)()),i((0,Z.fL)(!1)),t()},children:"Try another one"})}),(0,r.jsx)(c.Z,{item:!0,xs:12,children:(0,r.jsx)(b.Z,{color:"default",variant:"outlined",actionCallback:function(){i((0,E.W0)())},children:"I'm done with this enrollment"})}),(0,r.jsxs)(c.Z,{item:!0,xs:12,className:o.contactUsNote,children:["If you have any questions or concerns, please"," ",(0,r.jsx)(C.m,{text:"contact us"})]})]})})},A=t(22318),j=(0,o.Z)((function(e){return(0,s.Z)({heroImage:{background:"url(/about_link_hero.png)"},contentBlock:{padding:e.spacing(12,10)}})})),I=[{id:1,icon:"/renew_icon.png",text:"Optimized savings on your energy bill"},{id:2,icon:"/monitor_icon.png",text:"Continuous monitoring for appropriate adjustments"},{id:3,icon:"/co2_cloud_icon.png",text:"Maximum carbon offset"}];function k(e){var n=e.open,t=e.onCloseHandler,i=j();return(0,r.jsx)(y,{open:n,onCloseHandler:t,noPadding:!0,sizing:"lg",children:(0,r.jsxs)(c.Z,{container:!0,children:[(0,r.jsx)(c.Z,{item:!0,md:4,className:i.heroImage}),(0,r.jsx)(c.Z,{item:!0,xs:12,md:8,className:i.contentBlock,children:(0,r.jsxs)(c.Z,{container:!0,spacing:5,children:[(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(A.Z,{variant:"h4",color:"primary",children:"About Account Linking"})}),(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(A.Z,{variant:"body1",children:"We ask for your utility login credentials so that we can monitor your energy usage and make adjustments that benefit your wallet and the environment. It's that simple. We will never sign you up for anything or sell your data to anyone."})}),(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(A.Z,{variant:"h6",children:"How will this improve my Ampion service?"})}),(0,r.jsx)(c.Z,{item:!0,container:!0,spacing:2,children:I.map((function(e){var n=e.icon,t=e.text,i=e.id;return(0,r.jsxs)(c.Z,{item:!0,container:!0,alignItems:"center",spacing:2,children:[(0,r.jsx)(c.Z,{item:!0,xs:4,sm:2,children:(0,r.jsx)("img",{alt:t,src:n})}),(0,r.jsx)(c.Z,{item:!0,xs:8,sm:10,children:t})]},i)}))})]})})]})})}var _=t(48327);function T(e){var n=e.onCloseHandler,t=(0,a.I0)(),o=(0,i.useCallback)((function(){window.open("".concat("https://ampion.net","/contact-us"),"_blank")}),[]),s=(0,i.useCallback)((function(){t((0,Z.Py)()),t((0,Z.fL)(!1)),n()}),[t]);return(0,r.jsx)(_.Z,{tryClickCallback:s,contactUsClickCallback:o})}var S=t(81133),U=(0,o.Z)((function(e){return(0,s.Z)({contentBlock:{width:"70%",margin:"auto",textAlign:"center"},contactUsNote:{fontSize:12,fontWeight:"normal",marginTop:e.spacing(4),"& > a":{color:e.palette.grayDark.main}}})}));var P=function(e){var n=e.open,t=e.onCloseHandler,i=(0,a.I0)(),o=U(),s=(0,a.v9)(Z.fv).distribution_company_id,l=(0,S.Nv)(s),u=S.lj[s];return(0,r.jsx)(y,{open:n,sizing:"sm",onCloseHandler:t,children:(0,r.jsxs)(c.Z,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,className:o.contentBlock,children:[(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)("img",{alt:"incorrect info icon",src:"/account-linking/incorrect-info.png"})}),(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(A.Z,{variant:"h6",color:"primary",children:"The username / password is incorrect"})}),(0,r.jsxs)(c.Z,{item:!0,children:["Please make sure to provide your current"," ",l," ","credentials."]}),(0,r.jsx)(c.Z,{item:!0,xs:12,children:(0,r.jsx)(b.Z,{actionCallback:function(){i((0,Z.Py)()),i((0,Z.fL)(!1)),t()},children:"Try again"})}),(0,r.jsx)(c.Z,{item:!0,xs:12,className:o.contactUsNote,children:(0,r.jsxs)("a",{href:u,target:"_blank",rel:"noreferrer",children:["Forgot"," ",l," ","Username or Password?"]})})]})})},z=t(56255),L=t(98342),M=(0,o.Z)((function(e){return(0,s.Z)({contentBlock:{width:"70%",margin:"auto",textAlign:"center"},contactUsNote:{fontSize:12,fontWeight:"normal",marginTop:e.spacing(4),"& > a":{color:e.palette.grayDark.main}},distLogo:{height:40,position:"relative",border:"2px ".concat(e.palette.white," solid"),borderRadius:"50%",zIndex:2},ampionLogo:{marginLeft:-e.spacing(1),zIndex:1}})}));var R=function(e){var n=e.open,t=e.onCloseHandler,i=(0,a.I0)(),o=M(),s=(0,a.v9)(Z.fv).distribution_company_id;return(0,r.jsx)(y,{open:n,sizing:"sm",onCloseHandler:t,children:(0,r.jsxs)(c.Z,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",spacing:2,className:o.contentBlock,children:[(0,r.jsxs)(c.Z,{item:!0,children:[(0,r.jsx)("img",{alt:"distribution company logo",className:f()(o.distLogo),src:(0,L.D1)(s,!0)}),(0,r.jsx)("img",{alt:"Ampion logo",className:f()(o.distLogo,o.ampionLogo),src:"/account-linking/ampion-logo.svg"})]}),(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(A.Z,{variant:"h6",color:"primary",children:"Thank you for your time!"})}),(0,r.jsx)(c.Z,{item:!0,children:"Seems like it will take longer to grant access to your utility account. Please provide your utility account information to continue."}),(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(b.Z,{actionCallback:function(){i((0,z.Iu)(!1))},notStretched:!0,children:"Continue"})})]})})},O=t(82353),H=t(44399),D=(0,o.Z)((function(e){return(0,s.Z)({contentBlock:(0,l.Z)({paddingBottom:e.spacing(10),paddingTop:e.spacing(5)},e.breakpoints.up("sm"),{padding:0}),distroBox:{background:e.palette.blueLight.light,borderRadius:e.spacing(1),margin:e.spacing(2),"& > p":{fontWeight:"600",fontStyle:"italic",padding:e.spacing(2)}}})}));var V,W=function(e){var n=e.open,t=e.onCloseHandler,o=(0,i.useState)(!1),s=o[0],l=o[1],u=(0,a.I0)(),d=(0,a.v9)(Z.Yw),m=(0,a.v9)(Z.fv),p=m&&m.consent_message,f=D();return(0,r.jsx)(y,{open:n,sizing:"md",onCloseHandler:t,children:(0,r.jsxs)(c.Z,{container:!0,justifyContent:"center",alignItems:"center",spacing:4,className:f.contentBlock,children:[(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)("b",{children:O.Z.title})}),(0,r.jsx)(c.Z,{item:!0,children:O.Z.section1}),(0,r.jsx)(c.Z,{item:!0,children:O.Z.section2}),p&&(0,r.jsx)(c.Z,{item:!0,className:f.distroBox,children:(0,r.jsx)(A.Z,{color:"textSecondary",children:p})}),!d&&(0,r.jsx)(c.Z,{item:!0,xs:12,children:(0,r.jsx)(b.Z,{loading:s,actionCallback:function(){l(!0),u((0,H.aM)({callback:t}))},buttonProps:{"data-testid":"i-agree"},children:"I agree"})})]})})};!function(e){e.AlreadyConnected="AlreadyConnected",e.AboutUtilityLink="AboutUtilityLink",e.GeneralError="GeneralError",e.IncorrectPassword="IncorrectPassword",e.TimeoutModal="TimeoutModal",e.Consent="Consent"}(V||(V={}));var F={AlreadyConnected:N,AboutUtilityLink:k,GeneralError:T,IncorrectPassword:P,TimeoutModal:R,Consent:W};var B=function(e){var n=e.activeModal,t=e.hideModal;if(!n)return null;var i=F[n];return(0,r.jsx)(i,{open:!0,onCloseHandler:t})}},43207:function(e,n,t){var r=t(85893),i=t(25617),a=t(49725),o=t(1798);n.Z=function(){var e=(0,i.I0)(),n=(0,i.v9)(o.cv);return(0,r.jsx)(a.Z,{activeModal:n,hideModal:function(){e((0,o.dg)(null))}})}},1798:function(e,n,t){t.d(n,{E3:function(){return i},cv:function(){return c},dg:function(){return s},t$:function(){return a}});var r=t(26594),i={activeModal:null},a=(0,r.oM)({name:"connectUtilityModalManager",initialState:i,reducers:{setActiveModal:function(e,n){e.activeModal=n.payload},setActiveModalContext:function(e,n){e.activeModalContext=n.payload}}}),o=a.actions,s=o.setActiveModal,c=(o.setActiveModalContext,(0,r.xC)({reducer:{connectUtilityModalManager:a.reducer}}),function(e){return e.connectUtilityModalManager.activeModal})},44399:function(e,n,t){t.d(n,{aM:function(){return s},ih:function(){return o},oz:function(){return i},sz:function(){return a}});var r=t(26594),i=(0,r.PH)("connectUtility/trackActivityEvent"),a=(0,r.PH)("connectUtility/captureConsentScreenshot"),o=(0,r.PH)("connectUtility/processToFinalSubmit"),s=(0,r.PH)("connectUtility/giveConsent")},57785:function(e,n,t){t.d(n,{B:function(){return k},Bm:function(){return C},E3:function(){return l},FW:function(){return L},Gn:function(){return z},Jc:function(){return x},MP:function(){return f},Py:function(){return h},Uk:function(){return U},Yw:function(){return S},Zr:function(){return y},av:function(){return m},cd:function(){return Z},dy:function(){return E},fL:function(){return v},fW:function(){return b},fX:function(){return g},fv:function(){return w},rd:function(){return I},rk:function(){return u},s$:function(){return _},ur:function(){return p},vS:function(){return j},x7:function(){return N},yz:function(){return T},zh:function(){return A}});var r=t(26042),i=t(69396),a=t(29815),o=t(26594),s=t(68697),c=t(17830),l={consentRequired:!0,consentGiven:!1,consentGivenDistCompanyId:"",consentScreenshots:[],userSelectedAccounts:[],parsedUtilityAccounts:[],disabled:!1,workflowInfo:{distribution_company_id:""}},u=(0,o.oM)({name:"connectUtility",initialState:l,reducers:{setUser:function(e,n){return(0,i.Z)((0,r.Z)({},e),{user:n.payload})},setWorkflowInfo:function(e,n){return(0,i.Z)((0,r.Z)({},e),{workflowInfo:n.payload})},setConnectingError:function(e,n){return(0,i.Z)((0,r.Z)({},e),{connectingError:n.payload})},setLinkingError:function(e,n){return(0,i.Z)((0,r.Z)({},e),{ErrorCategory:n.payload})},setLinkingResults:function(e,n){return(0,i.Z)((0,r.Z)({},e),{linkingResults:n.payload,parsedUtilityAccounts:n.payload.accountsLinked.map((function(e){return{accountNumber:e.utilityAccountNumber,accountLinked:!0,accountLinkingContext:e.utilityAccountNumberContext}}))})},setFlowReset:function(e){return(0,i.Z)((0,r.Z)({},e),{user:(0,i.Z)((0,r.Z)({},e.user),{utilityPassword:""}),linkingResults:null,parsedUtilityAccounts:[],userSelectedAccounts:[],connectingError:!1,ErrorCategory:void 0})},setProcessingInput:function(e,n){return(0,i.Z)((0,r.Z)({},e),{processingInput:n.payload})},setUserSelectedAccounts:function(e,n){return(0,i.Z)((0,r.Z)({},e),{userSelectedAccounts:n.payload})},setDisabled:function(e,n){return(0,i.Z)((0,r.Z)({},e),{disabled:n.payload})},setConsentRequired:function(e,n){return(0,i.Z)((0,r.Z)({},e),{consentRequired:n.payload})},setConsentGiven:function(e,n){return(0,i.Z)((0,r.Z)({},e),{consentGiven:n.payload})},setConsentGivenDistCompanyId:function(e,n){return(0,i.Z)((0,r.Z)({},e),{consentGivenDistCompanyId:n.payload})},setConsentScreenshot:function(e,n){return(0,i.Z)((0,r.Z)({},e),{consentScreenshots:(0,a.Z)(e.consentScreenshots).concat([n.payload])})}}}),d=u.actions,m=d.setUser,p=d.setWorkflowInfo,f=d.setLinkingError,g=d.setLinkingResults,h=d.setFlowReset,v=d.setConnectingError,x=d.setProcessingInput,y=d.setUserSelectedAccounts,b=(d.setDisabled,d.setConsentRequired,d.setConsentGiven),C=d.setConsentGivenDistCompanyId,Z=d.setConsentScreenshot,E=((0,o.xC)({reducer:{connectUtility:u.reducer}}),function(e){return e.connectUtility.user}),w=function(e){return e.connectUtility.workflowInfo},N=function(e){return e.connectUtility.linkingResults},A=function(e){return e.connectUtility.ErrorCategory},j=function(e){return e.connectUtility.connectingError},I=function(e){return e.connectUtility.processingInput},k=function(e){return e.connectUtility.userSelectedAccounts},_=function(e){return e.connectUtility.parsedUtilityAccounts},T=function(e){return e.connectUtility.consentRequired},S=function(e){return e.connectUtility.consentGiven&&e.connectUtility.consentGivenDistCompanyId&&e.connectUtility.consentGivenDistCompanyId===e.connectUtility.workflowInfo.distribution_company_id},U=function(e){return e.connectUtility.consentScreenshots},P=(0,s.P1)(w,(function(e){var n=e.workflow;return n&&n===c.hk.Credentials})),z=(0,s.P1)(P,(function(e){return e.connectUtility}),(function(e,n){var t=n.workflowInfo;return!n.disabled&&(null===t||void 0===t?void 0:t.enrollment_step)===c.Ts.ENROLLMENT_WITHIN&&e})),L=(0,s.P1)(T,S,(function(e,n){return e&&!n}))},17830:function(e,n,t){var r,i,a,o;t.d(n,{JZ:function(){return i},Ts:function(){return r},hk:function(){return o},wA:function(){return a}}),function(e){e.ENROLLMENT_END="Enrollment End",e.ENROLLMENT_WITHIN="Within Enrollment"}(r||(r={})),function(e){e.Credentials="CREDENTIALS",e.Complete="COMPLETE",e.UASelection="UASelection"}(i||(i={})),function(e){e.LINKACCT_FAILED="LINKACCT_FAILED",e.ACCT_ALREADY_LINKED="ACCT_ALREADY_LINKED",e.ACCT_INPUT_INVALID="ACCT_INPUT_INVALID",e.ACCT_NOT_LINKABLE="ACCT_NOT_LINKABLE",e.ACCT_LINKING_TIMEOUT="ACCT_LINKING_TIMEOUT"}(a||(a={})),function(e){e.Versant="UAN + Name + Bill Amount + Bill Date",e.Credentials="Credentials",e.Eversource="UAN + ZIP",e.None="Not Supported",e.CredentialsOnly="Credentials Only"}(o||(o={}))},58878:function(e,n,t){var r=t(85893),i=t(41120),a=t(75154),o=(0,i.Z)((function(e){return(0,a.Z)({subheader:{fontSize:16,color:e.palette.grayDark.main,textAlign:function(e){return e.alignLeft?"left":"center"},margin:e.spacing(2,0),"& > span":{color:e.palette.primary.main,"&.underlined":{color:e.palette.gray.dark,textDecoration:"underline",cursor:"pointer"}}}})}));n.Z=function(e){var n=e.children,t=e.alignLeft,i=o({alignLeft:void 0!==t&&t});return(0,r.jsx)("div",{className:i.subheader,children:n})}},27307:function(e,n,t){t.d(n,{Yn:function(){return y},I0:function(){return C},cS:function(){return b}});var r=t(47568),i=t(20414),a=t(4612),o=t(17830),s=t(52273);function c(e){return l.apply(this,arguments)}function l(){return l=(0,r.Z)((function(e){var n,t,c;return(0,i.__generator)(this,(function(l){return n=window.location.search,t=new AbortController,c=setTimeout((function(){return t.abort()}),2e4),[2,(0,s.rK)("/api/account-linking".concat(n),{method:"PATCH",signal:t.signal,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return clearTimeout(c),[4,e.json()];case 1:return[2,n.sent()]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return clearTimeout(c),e.message.includes("aborted a request")?{ResponseCode:408,ErrorMessage:e.message,ErrorCategory:o.wA.ACCT_LINKING_TIMEOUT}:(a.p.notify({message:"Failed to process request to connect utility account: ".concat(e)}),{ResponseCode:500,ErrorMessage:e.message,ErrorCategory:o.wA.LINKACCT_FAILED})}))]}))})),l.apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){return[2,(0,s.rK)("".concat(s.Gy,"/").concat(s.iA,"/linking?oppid=").concat(e)).then((function(e){return e.ok?e.json():{error:new Error("Bad response from server: ".concat(e.statusText," (").concat(e.status,")"))}})).catch((function(e){return a.p.notify({message:"Failed to process request to load account linking flow info: ".concat(e)}),{error:e}}))]}))}))).apply(this,arguments)}function m(e,n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((function(e,n){return(0,i.__generator)(this,(function(t){return[2,(0,s.rK)("".concat(s.Gy,"/").concat(s.iA,"/linking"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opp_uuid:e,accounts:n})}).then((function(e){return 201===e.status?e:{error:new Error("Bad response from server: ".concat(e.statusText," (").concat(e.status,")"))}})).catch((function(e){return a.p.notify({message:"Failed to process request to link utility accounts: ".concat(e)}),{error:e}}))]}))}))).apply(this,arguments)}var f=t(57785),g=t(1798),h=t(49725),v=t(44399),x=t(40838),y=function(){return function(e,n){var t=n(),r=t.wizard.customerType,i=t.connectUtility,a=i.user,s=i.workflowInfo,l=s.distribution_company_id,u=s.campaign_id,d=s.workflow,m=t.externalData,p=m.testCondition,y=m.testErrorCategory,b=m.testSuccessUtilityAccountNumbers;return c({user:a,distributionCompanyId:l,campaignId:u,testCondition:p,testErrorCategory:y,testSuccessUtilityAccountNumbers:b,workflow:d,customerType:r}).then((function(n){n.ErrorCategory===o.wA.ACCT_LINKING_TIMEOUT?(e((0,f.fX)({accountsLinked:[]})),e((0,v.oz)({event:x.xy.LinkingTimeout}))):n.ErrorCategory?(e((0,f.MP)(n)),n.ErrorCategory===o.wA.ACCT_NOT_LINKABLE?(e((0,g.dg)(h.Q.IncorrectPassword)),e((0,v.oz)({event:x.xy.IncorrectCredentials,params:{username:a.utilityUsername}}))):n.ErrorCategory===o.wA.ACCT_ALREADY_LINKED?(e((0,g.dg)(h.Q.AlreadyConnected)),e((0,v.oz)({event:x.xy.ProcessingError,params:{error:n}}))):(e((0,g.dg)(h.Q.GeneralError)),e((0,v.oz)({event:x.xy.ProcessingError,params:{error:n}})))):e((0,f.fX)(n))}))}},b=function(){return function(){var e=(0,r.Z)((function(e,n){var t,r;return(0,i.__generator)(this,(function(i){return t=n(),(r=t.externalData.uuid)?[2,u(r).then((function(n){e((0,f.ur)(n))}))]:[2,!1]}))}));return function(n,t){return e.apply(this,arguments)}}()},C=function(e){return function(){var n=(0,r.Z)((function(n,t){var r;return(0,i.__generator)(this,(function(i){return r=t(),[2,m(r.externalData.uuid,e).then((function(e){e.error&&(n((0,v.oz)({event:x.xy.ProcessingError,params:{error:e.error}})),n((0,g.dg)(h.Q.GeneralError)),n((0,f.fL)(!0)))}))]}))}));return function(e,t){return n.apply(this,arguments)}}()}},72558:function(e,n,t){t.d(n,{Z:function(){return X}});var r=t(85893),i=t(67294),a=t(25617),o=t(47822),s=t(47568),c=t(14924),l=t(20414),u=t(41120),d=t(75154),m=t(41749),p=t(22318),f=t(17867),g=t(70753),h=t(81133),v=t(57785),x=t(58878),y=t(1798),b=t(49725),C=t(94184),Z=t.n(C),E=t(282),w=(0,u.Z)((function(e){return(0,d.Z)({link:{textDecoration:"underline",textTransform:"none",fontWeight:600,padding:0,verticalAlign:"baseline","&:hover":{background:"none",textDecoration:"underline"},"&.primary":{color:e.palette.primary.main},"&.secondary":{color:e.palette.secondary.main},"&.textPrimary":{color:e.palette.text.primary},"&.textSecondary":{color:e.palette.text.secondary}},textCapitalize:{textTransform:"capitalize"}})}));var N=function(e){var n=e.children,t=e.onClick,i=e.textColor,a=e.textCapitalize,o=void 0!==a&&a,s=w();return(0,r.jsx)(E.Z,{variant:"text",className:Z()(s.link,i,(0,c.Z)({},s.textCapitalize,o)),onClick:t,children:n})};var A,j=function(e){var n=e.distId,t=e.showTitle,i=void 0===t||t,o=e.alignLeft,s=void 0!==o&&o,c=(0,a.I0)(),l=(0,h.Nv)(n);return(0,r.jsxs)("div",{children:[i&&(0,r.jsx)(g.rQ,{title:"Connect your utility"}),(0,r.jsxs)(x.Z,{alignLeft:s,children:["Enter your"," ",(0,r.jsxs)("b",{children:[l," ","username and password"]})," ","to streamline the enrollment process and optimize your savings."," ",(0,r.jsx)(N,{onClick:function(){c((0,y.dg)(b.Q.AboutUtilityLink))},textColor:"textSecondary",textCapitalize:!0,children:"Learn More"})]})]})},I=t(44399),k=t(40838),_=t(56393),T=t(98342),S=(0,u.Z)((function(e){return(0,d.Z)({content:{display:"flex",flexDirection:"column",gap:e.spacing(2),alignItems:"center"},form:(0,c.Z)({width:"100%",display:"flex",flexDirection:"column",gap:e.spacing(2)},e.breakpoints.up("sm"),{width:function(e){return e.fullWidth?"100%":380}}),note:{color:e.palette.orange.main,backgroundColor:e.palette.serenade.main,borderRadius:"5px",padding:e.spacing(1,2)},forgotLink:{textAlign:"right",fontSize:14,margin:e.spacing(1,0,1,0),"& a":{color:e.palette.grayDark.main}}})}));!function(e){e.username="utilityUsername",e.password="utilityPassword"}(A||(A={}));var U=function(e){var n=e.process,t=e.footer,o=void 0===t?null:t,s=e.fullWidth,c=void 0!==s&&s,l=e.showTitle,u=void 0===l||l,d=e.alignSubTitleLeft,x=void 0!==d&&d,y=S({fullWidth:c}),b=(0,a.I0)(),C=(0,a.v9)(v.dy),Z=(0,a.v9)(v.fv).distribution_company_id,E=(0,f.cI)({defaultValues:C,mode:"all"}),w=(0,i.useCallback)((function(e){n(e)}),[n]),N=E.register,U=(0,E.handleSubmit)(w);(0,i.useEffect)((function(){N(A.username,{required:"Username is required"}),N(A.password,{required:"Password is required"})}),[N]);var P=h.lj[Z],z=(0,T.D1)(Z),L=(0,h.Nv)(Z),M=T.c4[Z],R="Username | ".concat(L),O="Password | ".concat(L),H="Forgot ".concat(M," Username or Password?");return(0,i.useEffect)((function(){b((0,I.oz)({event:k.xy.InitiatedLinking,params:{distco:L}}))}),[b,L]),(0,r.jsxs)("div",{className:y.content,children:[(0,r.jsx)(j,{distId:Z,showTitle:u,alignLeft:x}),(0,r.jsxs)("form",{id:"account-linking-check-info-form",className:y.form,children:[(0,r.jsx)("img",{alt:"distribution company logo",width:180,src:z}),(0,r.jsxs)(m.Z,{container:!0,spacing:2,children:[(0,r.jsx)(g.yt,{"data-testid":A.username,name:A.username,label:R,value:null===C||void 0===C?void 0:C.utilityUsername,watch:E.watch,setValue:E.setValue,errors:E.errors,register:E.register,unregister:E.unregister,trigger:E.trigger,clearErrors:E.clearErrors,getValues:E.getValues,variant:"outlined"}),(0,r.jsx)(g.yt,{"data-testid":A.password,name:A.password,type:"password",label:O,value:null===C||void 0===C?void 0:C.utilityPassword,watch:E.watch,setValue:E.setValue,errors:E.errors,register:E.register,unregister:E.unregister,trigger:E.trigger,clearErrors:E.clearErrors,getValues:E.getValues,variant:"outlined"})]}),P&&(0,r.jsx)(p.Z,{className:y.forgotLink,children:(0,r.jsx)("a",{href:P,target:"_blank",rel:"noreferrer",children:H})}),(0,r.jsx)(_.Z,{label:"Connect Now",submitHandler:U})]}),o]})};var P=function(e){var n=e.process;return(0,r.jsx)(U,{process:n,fullWidth:!0,showTitle:!1,alignSubTitleLeft:!0})},z=(0,u.Z)((function(e){var n;return(0,d.Z)({content:{display:"flex",flexDirection:"column",gap:e.spacing(2),justifyContent:"center",alignItems:"center",width:"100%"},logo:(n={position:"relative",border:"1px solid ".concat(e.palette.gray.light),borderRadius:"50%",height:45},(0,c.Z)(n,e.breakpoints.up("sm"),{height:100}),(0,c.Z)(n,"& img",(0,c.Z)({minWidth:"45px"},e.breakpoints.up("sm"),{minWidth:"100px"})),(0,c.Z)(n,"&::after",(0,c.Z)({position:"absolute",top:"60px",left:0,fontSize:"14px",fontWeight:600,lineHeight:"21px",textAlign:"left"},e.breakpoints.up("sm"),{textAlign:"center",left:"50%",transform:"translateX(-50%)",minWidth:"100px",top:"110px"})),n),distCompTitle:{"&::after":{content:function(e){var n=e.distributionCompanyId;return"'".concat((0,h.o7)(n),"'")}}},ampionTitle:{"&::after":{content:"'Ampion'"}},logoAnimation:{transition:"transform 2s",transitionDelay:"1s","&::after":{opacity:"0",transitionDelay:"1s",transition:"transform 2s, opacity 2s"}},distCompLogoAnimation:(0,c.Z)({transform:"translateX(125px)"},e.breakpoints.up("sm"),{transform:"translateX(250px)"}),ampionLogoAnimation:(0,c.Z)({transform:"translateX(-123px)"},e.breakpoints.up("sm"),{transform:"translateX(-248px)"}),joinWrapper:(0,c.Z)({display:"flex",flexDirection:"row",width:300},e.breakpoints.up("sm"),{width:600}),joinWrapperHideAnimation:{opacity:0,transitionDelay:"3s",transition:"opacity 1s"},cyberSecurity:{flexGrow:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},hrLine:{height:"9px",backgroundImage:"url(/account-linking/linking-arrow.png)",backgroundRepeat:"round",width:"100%",margin:"0 15px"},hrLineAnimation:{width:"0",transitionDelay:"1s",transition:"width 1s"},successWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",opacity:0,height:0,overflow:"hidden"},successWrapperAppearAnimation:{opacity:"1",height:"230px",transitionDelay:"4s",transition:"height 0s, opacity 0.5s"},successLogo:{minHeight:60,"& > img":(0,c.Z)({width:"55px"},e.breakpoints.up("sm"),{width:"124px"})},successText:{fontSize:"18px",lineHeight:"25px",fontWeight:400},successTextAppearAnimation:{transform:"translateY(0)",transition:"transform 2s"},hoorayTextWrapper:{marginBottom:"35px",color:e.palette.grayDark.dark},hoorayText:{fontSize:"24px",lineHeight:"27px",fontWeight:700}})}));var L,M=function(e){var n=e.process,t=(0,i.useState)(!1),o=t[0],s=t[1],l=(0,a.v9)(v.fv).distribution_company_id,u=(0,a.v9)(v.B).length,d=z({distributionCompanyId:l}),m=(0,a.I0)();(0,i.useEffect)((function(){m((0,I.oz)({event:k.xy.SuccessfulLinking}))}),[m]);var p,f,g=Z()(d.joinWrapper,(0,c.Z)({},d.joinWrapperHideAnimation,o)),h=Z()(d.logo,d.distCompTitle,(p={},(0,c.Z)(p,d.distCompLogoAnimation,o),(0,c.Z)(p,d.logoAnimation,o),p)),x=Z()(d.hrLine,(0,c.Z)({},d.hrLineAnimation,o)),y=Z()(d.logo,d.ampionTitle,(f={},(0,c.Z)(f,d.ampionLogoAnimation,o),(0,c.Z)(f,d.logoAnimation,o),f)),b=Z()(d.successWrapper,(0,c.Z)({},d.successWrapperAppearAnimation,o));return(0,i.useEffect)((function(){var e=setTimeout(s,0,!0);return n(),function(){clearInterval(e)}}),[n]),(0,r.jsxs)("div",{className:d.content,children:[(0,r.jsx)(j,{distId:l}),(0,r.jsxs)("div",{className:b,children:[(0,r.jsx)("div",{className:d.successLogo,children:(0,r.jsx)("img",{alt:"success-linking",src:"/account-linking/link-success-whitebg.gif",className:d.successImg})}),(0,r.jsx)("div",{className:d.successText,children:(0,r.jsxs)("div",{className:d.hoorayTextWrapper,children:[(0,r.jsx)("div",{className:d.hoorayText,children:"Hooray!"}),u>0&&(0,r.jsxs)("div",{children:[u," ","utility account",u>1?"s are":" is"," ","connected."]})]})})]}),(0,r.jsxs)("div",{className:g,children:[(0,r.jsx)("div",{className:h,children:(0,r.jsx)("img",{alt:"dist-company-logo",src:(0,T.D1)(l,!0)})}),(0,r.jsxs)("div",{className:d.cyberSecurity,children:[(0,r.jsx)("div",{className:x}),(0,r.jsx)("img",{alt:"cyber-security-logo",src:"/account-linking/cyber-security-locked.png"}),(0,r.jsx)("div",{className:x})]}),(0,r.jsx)("div",{className:y,children:(0,r.jsx)("img",{alt:"ampion-company-logo",src:"/account-linking/ampion-logo.svg"})})]})]})},R=t(27307),O=t(52414),H=t(17830),D=(L={},(0,c.Z)(L,H.JZ.Credentials,{component:P,action:function(e){return function(){var n=(0,s.Z)((function(n,t){var r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return n((0,v.Jc)(!0)),n((0,v.av)(e)),[4,n((0,R.Yn)())];case 1:return i.sent(),r=(0,v.x7)(t()),n((0,v.Jc)(!1)),r?r.accountsLinked&&r.accountsLinked.length>0?(n((0,v.Zr)(r.accountsLinked.map((function(e){return e.utilityAccountNumber})))),n((0,o.jh)(H.JZ.Complete)),[2]):(n((0,y.dg)(b.Q.TimeoutModal)),[2]):[2]}}))}));return function(e,t){return n.apply(this,arguments)}}()}}),(0,c.Z)(L,H.JZ.Complete,{component:M,action:function(){return function(){var e=(0,s.Z)((function(e){var n;return(0,l.__generator)(this,(function(t){return n=setTimeout((function(){clearTimeout(n),e((0,O.W0)())}),8e3),[2]}))}));return function(n){return e.apply(this,arguments)}}()}}),L),V=t(50253),W=t(80797),F=t(30889),B=(0,u.Z)((function(e){return(0,d.Z)({content:{display:"flex",flexDirection:"column",gap:e.spacing(2)},form:{display:"flex",flexDirection:"column",gap:e.spacing(2)},note:{color:e.palette.orange.main,backgroundColor:e.palette.serenade.main,borderRadius:"5px",padding:e.spacing(1,2)},forgotLink:{textAlign:"right","& a":{color:e.palette.blackDark.light}},credentials:{fontSize:15,textAlign:"right"},uaItem:{border:"1px solid ".concat(e.palette.gray.main),borderRadius:e.spacing(1),padding:e.spacing(2),flexDirection:"row",display:"flex",alignItems:"center",gap:e.spacing(2),"&.active":{border:"1px solid ".concat(e.palette.primary.main),background:e.palette.blueLight.light},"& img":{width:30},"& h6":{fontSize:15},"& p":{color:e.palette.gray.main,fontSize:14}}})}));var Y,q=function(e){var n=e.process,t=B(),o=(0,a.v9)(v.dy),s=(0,a.v9)(v.rd),c=(0,a.v9)(v.fv).distribution_company_id,l=(0,a.v9)(v.x7).accountsLinked,u=(0,i.useState)(l.map((function(e){return e.utilityAccountNumber}))),d=u[0],f=u[1],g=(0,T.D1)(c);return(0,r.jsxs)("div",{className:t.content,children:[(0,r.jsx)(j,{distId:c}),(0,r.jsxs)(m.Z,{container:!0,children:[(0,r.jsx)(m.Z,{item:!0,xs:6,children:(0,r.jsx)("img",{alt:"distribution company logo",width:180,src:g})}),(0,r.jsxs)(m.Z,{item:!0,xs:6,className:t.credentials,children:["Username |"," ",o.utilityUsername]})]}),l.map((function(e){var n=e.utilityAccountNumber,i=e.utilityAccountNumberContext;return(0,r.jsxs)(V.Z,{className:Z()(t.uaItem,{active:d.includes(n)}),children:[(0,r.jsx)(W.Z,{onChange:function(){return function(e){var n=[].concat(d);n.includes(e)?n.splice(n.indexOf(e),1):n.push(e),f(n)}(n)},checked:d.includes(n),inputProps:{"aria-label":n},color:"primary"}),(0,r.jsx)(V.Z,{children:(0,r.jsx)("img",{alt:"distribution company logo",src:(0,T.D1)(c,!0)})}),(0,r.jsxs)(V.Z,{children:[(0,r.jsx)(p.Z,{variant:"h6",children:n}),(0,r.jsx)(p.Z,{variant:"body1",children:i})]})]},n)})),d.length>0&&(0,r.jsx)(F.Z,{label:"Add Accounts (".concat(d.length,")"),submitHandler:function(){var e=l.reduce((function(e,n){var t=n.utilityAccountNumber,r=n.utilityAccountNumberContext;return d.includes(t)&&e.push({account_number:t,context:r}),e}),[]);n(e)},loading:s,buttonProps:{"data-testid":"next-button"}})]})},Q=(Y={},(0,c.Z)(Y,H.JZ.Credentials,{component:U,action:function(e){return function(){var n=(0,s.Z)((function(n,t){var r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return n((0,v.Jc)(!0)),n((0,v.av)(e)),[4,n((0,R.Yn)())];case 1:return i.sent(),r=(0,v.x7)(t()),n((0,v.Jc)(!1)),r?(r.accountsLinked&&r.accountsLinked.length>0?n((0,o.jh)(H.JZ.UASelection)):n((0,o.jh)(H.JZ.Complete)),[2]):[2]}}))}));return function(e,t){return n.apply(this,arguments)}}()}}),(0,c.Z)(Y,H.JZ.UASelection,{component:q,action:function(e){return function(){var n=(0,s.Z)((function(n){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return n((0,v.Jc)(!0)),n((0,v.Zr)(e)),n((0,I.oz)({event:k.xy.SelectedUA})),[4,n((0,R.I0)(e))];case 1:return t.sent(),n((0,o.jh)(H.JZ.Complete)),[2]}}))}));return function(e){return n.apply(this,arguments)}}()}}),(0,c.Z)(Y,H.JZ.Complete,{component:M}),Y),G=t(43207),K={ENROLLMENT_FLOW:D,SALESFORCE_FLOW:Q},J=function(){return(0,r.jsx)("p",{children:"Step not found"})},X=function(e){var n=e.flow,t=(0,a.I0)(),s=(0,a.v9)(o.se),c=(0,a.v9)(o.Vc);(0,i.useEffect)((function(){t((0,o.BQ)(n))}),[]);var l=(0,i.useMemo)((function(){return function(e,n){return K[n][e]||{component:J}}(s,n)}),[s]),u=l.component,d=l.action,m=(0,i.useCallback)((function(e){d&&t(d(e))}),[d,t]);return c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{process:m}),(0,r.jsx)(G.Z,{})]}):null}},47822:function(e,n,t){t.d(n,{BQ:function(){return m},E3:function(){return c},Vc:function(){return f},Z6:function(){return r},jh:function(){return d},lC:function(){return l},se:function(){return p}});var r,i=t(26042),a=t(69396),o=t(26594),s=t(17830);!function(e){e.ENROLLMENT_FLOW="ENROLLMENT_FLOW",e.SALESFORCE_FLOW="SALESFORCE_FLOW"}(r||(r={}));var c={flowType:null,step:s.JZ.Credentials},l=(0,o.oM)({name:"connectUtilityApp",initialState:c,reducers:{setFlowStep:function(e,n){return(0,a.Z)((0,i.Z)({},e),{step:n.payload})},setFlowReset:function(e){return(0,a.Z)((0,i.Z)({},e),{step:s.JZ.Credentials})},setFlowType:function(e,n){return(0,a.Z)((0,i.Z)({},e),{flowType:n.payload})}}}),u=l.actions,d=u.setFlowStep,m=(u.setFlowReset,u.setFlowType),p=((0,o.xC)({reducer:{connectUtilityApp:l.reducer}}),function(e){return e.connectUtilityApp.step}),f=function(e){return e.connectUtilityApp.flowType}},80766:function(e,n,t){t.d(n,{T:function(){return i},_:function(){return r}});var r={text:"(800) 277-3631",href:"tel:+18002773631"},i={text:"help@ampion.net",href:"mailto:help@ampion.net"}},82119:function(e,n,t){t.d(n,{Bj:function(){return r},DS:function(){return d},EI:function(){return m},HE:function(){return g},Yh:function(){return u},e3:function(){return a},e9:function(){return o},r8:function(){return i},ty:function(){return h}});var r,i,a,o,s,c=t(14924);!function(e){e.yes="Yes_Federal_Program",e.yesOther="Yes_Other",e.no="No",e.unknown="Unknown"}(r||(r={})),function(e){e.noValue="",e.provideLater="Provide Later",e.notAvailable="Not Available",e.wontProvide="Wont Provide"}(i||(i={})),function(e){e.program="Program",e.geo="Geo Location"}(a||(a={})),function(e){e.geo="GEO-Eligibility",e.program="Federal Program"}(o||(o={}));var l=(s={},(0,c.Z)(s,a.program,o.program),(0,c.Z)(s,a.geo,o.geo),s),u="LIHEAP",d="Electric Bill Line Item",m={ACP:"Affordability Connectivity Program (ACP)",FPHA:"Federal Public Housing Assistance (FPHA)",Lifeline:"Lifeline Telephone Service Program",LIHEAP:"Low Income Home Energy Assistance Program (LIHEAP)",SNAP:"Supplemental Nutrition Assistance Program (SNAP)",SSDI:"Social Security Disability Insurance (SSDI)",SSI:"Supplemental Security Income (SSI)",TANF:"Temporary Assistance for Needy Families (TANF)","NY Disadvantaged Community":"NY - DAC"};function p(e,n){var t=e.value.toUpperCase(),r=n.value.toUpperCase();return r===u||t>r?1:t<r?-1:0}function f(e,n){var t=e.value.toUpperCase(),r=n.value.toUpperCase();return r===d||t>r?1:t<r?-1:0}var g=function(e){var n=(null===e||void 0===e?void 0:e.length)>0?e.reduce((function(e,n){return n.types.forEach((function(t){var r,i=t.name,a={name:m[i]||i,value:i,relatedVerificationMethodOptions:t.verification_methods.map((function(e){return{name:e.name,value:e.name}})).sort(f),category:n.name,categoryTitle:(r=n.name,l[r]||r)};e[i]=a})),e}),{}):[];return Object.values(n).sort(p)};function h(e){var n=e.reduce((function(e,n){return e[n.categoryTitle]||(e[n.categoryTitle]=[]),e[n.categoryTitle].push(n),e}),{});return Object.keys(n).map((function(e){return{categoryTitle:e,items:n[e]}}))}},48392:function(e,n,t){t.d(n,{CU:function(){return r},NH:function(){return c},c3:function(){return i},g1:function(){return a},gc:function(){return s},pX:function(){return l},v9:function(){return o}});var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=/^[a-zA-Z-'. ]+$/,a=/^[\w .,'-]+$/,o=/^[0-9]+$/,s=/^8\d{0,9}$/,c=/^[\w \-.',/]*$/,l=/^[0-9]{5}$/},82353:function(e,n){n.Z={title:"Usage and Billing Information Authorization",section1:"I authorize Ampion to obtain and review my consumption history and billing determinants from my utility and, where necessary, will facilitate access to utility systems as guided by Ampion's enrollment and billing platform. This may include linking of online utility accounts, authorizing the utility's release of information, or entering one-time access authorization codes.",section2:"This information will not be disclosed to a third party unless required by law or unless the third party is obligated to maintain the confidentiality of such information and disclosure is reasonably necessary."}},37286:function(e,n,t){t.d(n,{l:function(){return a}});var r=t(26042),i={"0032E00002vuhsxQAA":{entityInformation:"Congregation Emanuel of the Hudson Valley",vid:"0032E00002vuhsxQAA",phoneNumber:"5859574658",emailToUse:"areggi@ampion.net"},a162E000007JptZQAS:{entityInformation:"Fair Street Reformed Church",vid:"a162E000007JptZQAS",phoneNumber:"5859574658",emailToUse:"areggi@ampion.net"},"0032E00002uXPsdQAG":{entityInformation:"Sierra Club",vid:"0032E00002uXPsdQAG",phoneNumber:"5859574658",emailToUse:"areggi@ampion.net"},a162E000007JpuIQAS:{entityInformation:"Friends of PMC Page",vid:"a162E000007JpuIQAS",phoneNumber:"7813073205",emailToUse:"bbuzby@ampion.net"},a162E000007K2FVQA0:{entityInformation:"Retail Association of Massachusetts",vid:"a162E000007K2FVQA0",phoneNumber:"7813073205"},"0032E00002uXQMbQAO":{entityInformation:"Solar on Earth",vid:"0032E00002uXQMbQAO",phoneNumber:"8447652582",emailToUse:"info@solaronearth.com"},"0032E00002riMnTQAU":{entityInformation:"Kiwi Energy",vid:"0032E00002riMnTQAU",phoneNumber:"8667362522",emailToUse:"info@kiwienergy.us"},"0032E00002riNliQAE":{entityInformation:"Demco Energy",vid:"0032E00002riNliQAE",phoneNumber:"9782374333",emailToUse:"frank@shopmyutilitybills.com"},"0032E00002uXQ5GQAW":{entityInformation:"Green Power Planet",vid:"0032E00002uXQ5GQAW",phoneNumber:"18667693799",emailToUse:"info@greenpowerplanet.com"},"0032E00002vtuZZQAY":{entityInformation:"Sol Suppliers Custom Page",vid:"0032E00002vtuZZQAY",phoneNumber:"(212) 355-2075"},"0032E00002uXPrFQAW":{entityInformation:"PlugPV",vid:"0032E00002uXPrFQAW",phoneNumber:"(518) 948-5316",emailToUse:"hello@plugpv.com"},a162E000007Jpt0QAC:{entityInformation:"Remineralize The Earth ",vid:"a162E000007Jpt0QAC",phoneNumber:"(617) 894-0485",emailToUse:"nvalette@bowdoin.edu"},a162E000007K49tQAC:{entityInformation:"Rotary Club of Westford",vid:"a162E000007K49tQAC",phoneNumber:"(617) 894-0485",emailToUse:"nvalette@ampion.net"},a162E000007KTrDQAW:{entityInformation:"The American Cancer Society (Hudson Stride) - 100",vid:"a162E000007KTrDQAW",phoneNumber:"(617) 894-0485",emailToUse:"nvalette@bowdoin.edu"},"0032E00002uXPpaQAG":{entityInformation:"Green Building Partners Landing Page",vid:"0032E00002uXPpaQAG",phoneNumber:"(716) 926-6007 x 701",emailToUse:"davidg@greenbldgpartners.com"},a162E000007KCEDQA4:{entityInformation:"NY PTA",vid:"a162E000007KCEDQA4",phoneNumber:"(800) 588-9569",emailToUse:"communitysolar@renewableaccess.org"},a162E000007KJt0QAG:{entityInformation:"Orca Empire Fitness",vid:"a162E000007KJt0QAG",phoneNumber:"(845) 276-0244",emailToUse:"cricardfarzan@ampion.net"},a162E000007KH3yQAG:{entityInformation:"Early Bird",vid:"a162E000007KH3yQAG",phoneNumber:"(888) 763-2759",emailToUse:"seantkenney@earlybirdpower.com"},a162E000007KLUPQA4:{entityInformation:"Early Bird -- MA MEC",vid:"a162E000007KLUPQA4",phoneNumber:"(888) 763-2759",emailToUse:"seantkenney@massmec.com"},"0032E00002uXQCWQA4":{entityInformation:"Liberty Power -- Partho",vid:"0032E00002uXQCWQA4",phoneNumber:"(917)-375-9275",emailToUse:"psg1@cornell.edu"},a162E000007Jl2JQAS:{entityInformation:"RAICA page",vid:"a162E000007Jl2JQAS",phoneNumber:"(978) 473-1934",emailToUse:"mfava@ampion.net"},a162E000007K0iYQAS:{entityInformation:"Reflective Energy Services",vid:"a162E000007K0iYQAS",phoneNumber:"201-638-3032",emailToUse:"miriam@reflectiveES.com"},a162E000007K0hgQAC:{entityInformation:"Reflective Energy",vid:"a162E000007K0hgQAC",phoneNumber:"201.880.1997",emailToUse:"sales@reflectiveES.com"},a162E000007Jr89QAC:{entityInformation:"Open Door Energy",vid:"a162E000007Jr89QAC",phoneNumber:"315-313-3980",emailToUse:"info@opendoorenergy.com"},"0012E00002DYCUQQA5":{entityInformation:"Primetime Marketing",vid:"0012E00002DYCUQQA5",phoneNumber:"315-455-2395",emailToUse:"ptmsolar@ptmsales.com"},"0032E00002vuhtqQAA":{entityInformation:"Best Practice Energy",vid:"0032E00002vuhtqQAA",phoneNumber:"401-594-2300",emailToUse:"info@bestpracticeenergy.com"},a162E000007JptpQAC:{entityInformation:"Morningstar Energy",vid:"a162E000007JptpQAC",phoneNumber:"413-297-7238",emailToUse:"jodyhart7@yahoo.com"},a162E000007K3LwQAK:{entityInformation:"Grateful Energy",vid:"a162E000007K3LwQAK",phoneNumber:"413-461-8020",emailToUse:"cdube@gratefulenergy.us"},a162E000007KCE3QAO:{entityInformation:"Infinity Companies",vid:"a162E000007KCE3QAO",phoneNumber:"503-396-8967",emailToUse:"office@infinitysalesllc.com"},"0032E00002u3D0nQAE":{entityInformation:" Ambient Energy Landing Page",vid:"0032E00002u3D0nQAE",phoneNumber:"508.868.4817",emailToUse:"AmbientEnergyInc@gmail.com"},a162E000007KGyDQAW:{entityInformation:"Energy Partners Consultants Group",vid:"a162E000007KGyDQAW",phoneNumber:"518-495-4946",emailToUse:"deannm@epchq.com"},a162E000007KLUjQAO:{entityInformation:"Proactive Energy Management",vid:"a162E000007KLUjQAO",phoneNumber:"518-879-7066",emailToUse:"rob@pemhq.com"},"0032E00002uXPtVQAW":{entityInformation:"Rewire Energy",vid:"0032E00002uXPtVQAW",phoneNumber:"518.290.3130",emailToUse:"sales@rewireenergy.com"},"0012E00002H4b2gQAB":{entityInformation:"ReWire Energy (EnergyBrothers)",vid:"0012E00002H4b2gQAB",phoneNumber:"518.290.3130",emailToUse:"sales@rewireenergy.com"},a162E000007KGyNQAW:{entityInformation:"Freedom Energy Logistics",vid:"a162E000007KGyNQAW",phoneNumber:"603-625-2244",emailToUse:"jack.martell@felpower.com"},a162E000007KGyIQAW:{entityInformation:"2020 Action",vid:"a162E000007KGyIQAW",phoneNumber:"617-894-0485",emailToUse:"nvalette@ampion.net"},a162E000007KAhWQAW:{entityInformation:"Selected Power",vid:"a162E000007KAhWQAW",phoneNumber:"617.221.9187",emailToUse:"mbrackin@selectedpower.com"},"0032E00002rkKzLQAU":{entityInformation:"UAM",vid:"0032E00002rkKzLQAU",phoneNumber:"630-828-2143",emailToUse:"info@unitysolargroup.com"},"US Energy Partners":{entityInformation:"US Energy Partners",vid:"0032E00002uXPsSQAW",phoneNumber:"716-631-1517",emailToUse:"Solar@USEPelectric.com"},a162E000007KAhMQAW:{entityInformation:"St Amelia (Green Building Partners)",vid:"a162E000007KAhMQAW",phoneNumber:"716-926-6007 ext. 703",emailToUse:"colinp@greenbldgpartners.com"},"0032E00002u46RtQAI":{entityInformation:"Power Play Energy Group",vid:"0032E00002u46RtQAI",phoneNumber:"774-289-2218",emailToUse:"info@powerplayenergygroup.net"},"0032E00002uXQqHQAW":{entityInformation:"Quest Energy Solutions",vid:"0032E00002uXQqHQAW",phoneNumber:"774-420-7000",emailToUse:"info@questenergysolutions.com"},a162E000007KTr8QAG:{entityInformation:"Atlas Retail Energy - 101",vid:"a162E000007KTr8QAG",phoneNumber:"781-587-3985",emailToUse:"atlaspricing@atlasretailenergy.com"},"0012E00002DYCUSQA5":{entityInformation:"Renewable Access",vid:"0012E00002DYCUSQA5",phoneNumber:"800-588-9569",emailToUse:"communitysolar@renewableaccess.org"},"0032E00002vUeFRQA0":{entityInformation:"Energy Professionals",vid:"0032E00002vUeFRQA0",phoneNumber:"844-424-6745",emailToUse:"info@energyprofessionals.com"},"0032E00002uXPpYQAW":{entityInformation:"iSolar",vid:"0032E00002uXPpYQAW",phoneNumber:"844-8SOLAR8",emailToUse:"info@isolarusa.com"},a162E000007KGy3QAG:{entityInformation:"Reflective Energy Services",vid:"a162E000007KGy3QAG",phoneNumber:"845-240-6350",emailToUse:"cmorales299@gmail.com"},a162E000007K0idQAC:{entityInformation:"Reflective Energy Services",vid:"a162E000007K0idQAC",phoneNumber:"845-434-9700",emailToUse:"howard@reflectiveES.com"},"0012E00002DYxDLQA1":{entityInformation:"Anderson Energy Solutions",vid:"0012E00002DYxDLQA1",phoneNumber:"860-514-8610",emailToUse:"bob@andersonenergysolutions.com"},a162E000007JqflQAC:{entityInformation:"Energy Sage",vid:"a162E000007JqflQAC",phoneNumber:"866-244-7294",emailToUse:"signup@ampion.net"},"0032E00002uXPiNQAW":{entityInformation:"Furqaan Energy",vid:"0032E00002uXPiNQAW",phoneNumber:"866-25-POWER",emailToUse:"Info@furqaanenergy.com"},"0032E00002rjYMJQA2":{entityInformation:"M&R Energy Resources",vid:"0032E00002rjYMJQA2",phoneNumber:"866-610-7283",emailToUse:"info@mandrenergy.com"},a162E000007K9x4QAC:{entityInformation:"Reflective Energy Services",vid:"a162E000007K9x4QAC",phoneNumber:"914-805-5149",emailToUse:"Franz@hvnrg.com"},"0012E00002OguVGQAZ":{entityInformation:"EverCurrent",vid:"0012E00002OguVGQAZ",phoneNumber:"917-244-3607",emailToUse:"joel@evercurrent.energy"},a162E000007Jkz5QAC:{entityInformation:"Sol Suppliers & The Queens Chamber of Commerce",vid:"a162E000007Jkz5QAC"},a162E000007K3NTQA0:{entityInformation:"Monroecommunity Power",vid:"a162E000007K3NTQA0",phoneNumber:"(585) 866-2500",emailToUse:"info@monroecommunitypower.com"},default:{entityInformation:"",vid:"default",phoneNumber:t(80766)._.text,emailToUse:"signup@ampion.net"}};function a(e){return(0,r.Z)({},i.default,i[e])}},52273:function(e,n,t){t.d(n,{$A:function(){return A},Fs:function(){return v},Gy:function(){return m},fX:function(){return h},gY:function(){return w},gw:function(){return j},iA:function(){return f},rK:function(){return I},rU:function(){return p},vQ:function(){return g}});var r=t(47568),i=t(26042),a=t(69396),o=t(99534),s=t(20414),c=t(4612),l=t(55247),u=t.n(l),d=t(24923),m="https://api.ampion.net",p="v1/enrollment",f="v1/utilities";function g(e){var n=document.cookie.split("; ").find((function(n){return n.startsWith(e)}));return n?n.split("=")[1]:null}function h(e){return g("_uc_".concat(e))}var v=function(){return u().uuid()},x=function(){return u().generate()},y=x(),b=function(){return"".concat(y,"__").concat(x())};function C(e){var n=e.headers,t=(n.Authorization,(0,o.Z)(n,["Authorization"])),r=(e.body,(0,o.Z)(e,["body"]));return(0,a.Z)((0,i.Z)({},r),{headers:t})}var Z,E,w=[];!function(e){e.Failed="Failed",e.Success="Success"}(Z||(Z={})),function(e){e.Status="Status",e.ThrowBlock="ThrowBlock"}(E||(E={}));var N=function(e){var n,t=e.url,r=e.requestOptions,i=void 0===r?{}:r,a=e.response,o=void 0===a?null:a,s=e.requestStatus,c=void 0===s?Z.Success:s,l=e.requestFailureReason,u={url:t,method:i.method||"GET",body:i.body,transactionId:null===(n=i.headers)||void 0===n?void 0:n[d._q.TransactionId],response:o,requestStatus:c,requestFailureReason:l};w.push(u)},A=3,j=function(e){return new Promise((function(n){setTimeout(n,e)}))};function I(e,n){return k.apply(this,arguments)}function k(){return k=(0,r.Z)((function(e,n){var t,r,o,l,u,m,f,g,h,v,x,y,w,k,_,T,S,U=arguments;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:t=U.length>2&&void 0!==U[2]?U[2]:{},r=t.shouldAddAutoGeneratedTransactionId,o=void 0===r||r,l=t.retryCount,u=void 0===l?0:l,m=t.shouldLogRequest,f=void 0===m||m,g=t.shouldRetry,h=void 0===g||g,v=t.customTransactionId,x=(0,i.Z)({},null===n||void 0===n?void 0:n.headers),v?x[d._q.TransactionId]=v:o&&(y=b(),x[d._q.TransactionId]=y),w=(0,a.Z)((0,i.Z)({},n),{headers:x}),s.label=1;case 1:return s.trys.push([1,3,,6]),[4,fetch(e,w)];case 2:if(k=s.sent(),f&&(_=C(w),(k.status>=500||423===k.status)&&N({url:e,requestOptions:_,response:k,requestStatus:Z.Failed,requestFailureReason:E.Status}),N({url:e,requestOptions:_,response:k})),k.status>=500)c.p.notify({message:"Server replied with status ".concat(k.status," when processing request to ").concat(e),params:{requestOptions:C(w)}});else if(423===k.status)throw c.p.notify({message:"Duplicate request to ".concat(p," endpoint, HTTP status code ").concat(k.status),params:{url:e,requestOptions:C(w)}}),Error("Status code 423, retry request");return[2,k];case 3:return T=s.sent(),h&&u<A?[4,j(5e3*(S=u+1))]:[3,5];case 4:return s.sent(),[2,I(e,w,(0,a.Z)((0,i.Z)({},t),{retryCount:S}))];case 5:throw c.p.notify({message:"Network issue",params:{url:e,requestOptions:C(w),errorMessage:T.message,retryCount:u,err:T}}),f&&N({url:e,requestOptions:w,requestStatus:Z.Failed,requestFailureReason:E.ThrowBlock}),Error(T);case 6:return[2]}}))})),k.apply(this,arguments)}},30243:function(e,n,t){var r;t.d(n,{dO:function(){return r},tY:function(){return s},yL:function(){return o},zh:function(){return i}}),function(e){e.Ameren="32",e.ComEd="33",e.SouthernCaliforniaEdison="36"}(r||(r={}));var i={32:"Ameren",33:"ComEd",36:"Southern California Edison"},a={helperBillSrcs:["./img_pepcoBillHelper.png"]},o={15:a,27:a,32:{helperBillSrcs:["./img_AmerenBill.png"],helperBillData:["Account Number","Meter Number"],helperBillCompanyWebsite:"https://www.ameren.com/illinois",askMeterNumber:!0},33:{helperBillSrcs:["./img_comEdBillPage1.jpg","/img_comEdBillPage2.jpg"],helperBillData:["Account Number","Meter Number"],helperBillCompanyWebsite:"https://www.comed.com/Pages/default.aspx",askMeterNumber:!0},36:{entityTypeTitle:"service account number",helperBillSrcs:["./sce_service_account_helper.png"],helperBillData:["Service Account Number"]},38:{helperBillSrcs:["./dp_account_number_helper.png"],helperBillData:["Account Number"]}},s={entityTypeTitle:"account number",helperBillSrcs:[],helperBillData:[],helperBillCompanyWebsite:"",askMeterNumber:!1}},69833:function(e,n,t){t.d(n,{b:function(){return o},n:function(){return a}});var r=t(26042),i=t(30243),a=function(e){return(0,r.Z)({},i.tY,i.yL[e])},o=function(){return Math.random().toString(36).substring(2,11)}},81965:function(e,n,t){t.d(n,{P:function(){return l}});var r=t(47568),i=t(20414),a=t(52414),o=t(83197),s=t(92022);t(52273);var c=t(89923),l=function(e){return function(){var n=(0,r.Z)((function(n,t){var r,l,u,d,m;return(0,i.__generator)(this,(function(i){return l=t(),u=(0,c.GQ)(l),d=l.enrollment.wizardStep,o.F[null===(r=u[d])||void 0===r?void 0:r.stepName],n((0,a.M_)(!0)),m=(0,s.M)(e),n((0,a.U5)(m)),n((0,a.W0)()),n((0,a.M_)(!1)),[2]}))}));return function(e,t){return n.apply(this,arguments)}}()}},88206:function(e,n,t){t.d(n,{A:function(){return r},c:function(){return l}});var r,i=t(14924),a=t(83454);!function(e){e.accountLinkingTestMode="accountLinkingTestMode",e.createYourPassword="createYourPassword",e.lmi="lmi",e.lmiAI="lmiAI",e.needHelp="needHelp",e.fingerprint="fingerprint"}(r||(r={}));var o,s={FEATURE_ACCOUNT_LINKING_TEST_MODE:a.env.FEATURE_ACCOUNT_LINKING_TEST,FEATURE_CREATE_YOUR_PASSWORD:"1",FEATURE_LMI:"1",FEATURE_LMI_AI:"1",FEATURE_NEED_HELP:"1",FEATURE_FINGERPRINT:"1"},c=(o={},(0,i.Z)(o,r.accountLinkingTestMode,"FEATURE_ACCOUNT_LINKING_TEST_MODE"),(0,i.Z)(o,r.createYourPassword,"FEATURE_CREATE_YOUR_PASSWORD"),(0,i.Z)(o,r.lmi,"FEATURE_LMI"),(0,i.Z)(o,r.lmiAI,"FEATURE_LMI_AI"),(0,i.Z)(o,r.needHelp,"FEATURE_NEED_HELP"),(0,i.Z)(o,r.fingerprint,"FEATURE_FINGERPRINT"),o);function l(e,n){var t=new URL(window.location.toString()).searchParams,r=t?t.get(e):void 0;return"string"===typeof r?"1"===r:"1"===s[c[e]]}},67539:function(e,n,t){t.d(n,{Z:function(){return s},u:function(){return o}});var r,i=t(67294),a="https://maps.googleapis.com/maps/api/js?language=en&key=".concat("AIzaSyCQkcDpM-zlH6wXOPY_1cIPzElXfi2KAP4","&libraries=places");var o=function(){var e=(0,i.useState)(!1),n=e[0],t=e[1];return(0,i.useEffect)((function(){(function(e){if(window.google&&window.google.maps)return e(!0);var n=function(){e(!0),r=null};if(r)r.addEventListener("load",n);else{var t=document.createElement("script");t.src=a,t.async=!0,t.defer=!0,t.addEventListener("load",n),document.body.appendChild(t),r=t}})(t)}),[]),n},s=o},10035:function(e,n,t){var r=t(14924),i=t(26042),a=t(69396),o=t(85893),s=t(67294),c=t(41120),l=t(282),u=t(94184),d=t.n(u),m=(0,c.Z)((function(e){return{root:function(n){return{borderRadius:"5px",width:n.notStretched?"auto":"100%",height:"45px",fontSize:"16px",fontWeight:600,lineHeight:"24px",textTransform:"none",padding:n.notStretched?"11px 45px":"11px 0","&.halfrounded":{borderRadius:"20px 5px"},"&.MuiButton-outlined":{borderWidth:2},"&.MuiButton-outlinedPrimary":{borderWidth:2},"&.MuiButton-containedPrimary":{"&:hover":{color:e.palette.white.main,backgroundColor:e.palette.primary.main}}}},dotTyping:{position:"relative",left:"-9999px",width:"6px",height:"6px",borderRadius:"5px",backgroundColor:e.palette.white.main,color:e.palette.white.main,boxShadow:"9984px 0 0 0 ".concat(e.palette.white.main,", 9999px 0 0 0 ").concat(e.palette.white.main,", 10014px 0 0 0 ").concat(e.palette.white.main),animation:"$dotTyping 1.5s infinite linear"},"@keyframes dotTyping":{"0%":{boxShadow:"9984px 0 0 0 ".concat(e.palette.white.main,", 9999px 0 0 0 ").concat(e.palette.white.main,", 10014px 0 0 0 ").concat(e.palette.white.main)},"16.667%":{boxShadow:"9984px -10px 0 0 ".concat(e.palette.white.main,", 9999px 0 0 0 ").concat(e.palette.white.main,", 10014px 0 0 0 ").concat(e.palette.white.main)},"33.333%":{boxShadow:"9984px 0 0 0 ".concat(e.palette.white.main,", 9999px 0 0 0 ").concat(e.palette.white.main,", 10014px 0 0 0 ").concat(e.palette.white.main)},"50%":{boxShadow:"9984px 0 0 0 ".concat(e.palette.white.main,", 9999px -10px 0 0 ").concat(e.palette.white.main,", 10014px 0 0 0 ").concat(e.palette.white.main)},"66.667%":{boxShadow:"9984px 0 0 0 ".concat(e.palette.white.main,", 9999px 0 0 0 ").concat(e.palette.white.main,", 10014px 0 0 0 ").concat(e.palette.white.main)},"83.333%":{boxShadow:"9984px 0 0 0 ".concat(e.palette.white.main,", 9999px 0 0 0 ").concat(e.palette.white.main,", 10014px -10px 0 0 ").concat(e.palette.white.main)},"100%":{boxShadow:"9984px 0 0 0 ".concat(e.palette.white.main,", 9999px 0 0 0 ").concat(e.palette.white.main,", 10014px 0 0 0 ").concat(e.palette.white.main)}}}}));n.Z=function(e){var n=e.label,t=e.children,c=e.submitHandler,u=e.actionCallback,p=e.loading,f=e.className,g=e.notStretched,h=e.variant,v=e.color,x=e.buttonStyle,y=e.buttonProps,b=m({notStretched:g}),C=(0,s.useCallback)((function(){c?c():u&&u()}),[u,c]);return(0,o.jsx)(l.Z,(0,a.Z)((0,i.Z)({color:v||"primary",variant:h||"contained",onClick:C,className:d()(b.root,f,(0,r.Z)({},x,!!x))},y),{children:p?(0,o.jsx)("div",{className:b.dotTyping}):n||t}))}},30889:function(e,n,t){var r=t(26042),i=t(85893),a=t(868),o=t(10035);n.Z=function(e){var n=e.hint;return n?(0,i.jsx)(a.ZP,{title:n,children:(0,i.jsx)("span",{children:(0,i.jsx)(o.Z,(0,r.Z)({},e))})}):(0,i.jsx)(o.Z,(0,r.Z)({},e))}},47139:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(85893),i=t(41120),a=t(75154),o=t(41749),s=t(95477),c=(0,i.Z)((function(e){return(0,a.Z)({spinnerRoot:{color:e.palette.blue.main}})}));function l(){var e=c();return(0,r.jsx)(o.Z,{item:!0,container:!0,xs:12,md:12,justifyContent:"center",children:(0,r.jsx)(s.Z,{size:33,classes:{root:e.spinnerRoot}})})}},98342:function(e,n,t){t.d(n,{c4:function(){return i},m3:function(){return r},D1:function(){return a}});var r={1:"MA - WMECO",2:"MA - NSTAR",3:"MA - FGE",4:"MA - MECO",5:"MA - NE",6:"NY - CHGE",7:"NY - CONED",8:"NY - NIMO",9:"NY - NYSEG",10:"NY - ORU",11:"NY - RGE",12:"MN - NSPC",13:"CT - CLP",14:"CT - UIC",15:"DC - PEP",16:"VT - GMP",17:"NJ - ACE",18:"NJ - JCPL",19:"NJ - PSEG",20:"NJ - RE",21:"MA - NSTAR, Met",22:"MA - NSTAR, SS",23:"MA - NSTAR, Cap",24:"MA - NSTAR, Cam",25:"MD - BGE",26:"MD - DP",27:"MD - PEPCO",28:"MD - PE",29:"ME - CMP",30:"ME - EMBANGOR",31:"ME - MPD",32:"IL - AMER",33:"IL - COMED",34:"IL - MID",35:"NY - LIPA",36:"CA - SCE",38:"DE - DP"},i={2:"NSTAR",4:"NIMO",6:"CHGE",7:"CONED",8:"NIMO",9:"NYSEG",10:"ORU",11:"RGE",15:"PEPCO",21:"NSTAR",22:"NSTAR",27:"PEPCO",29:"CMP",30:"EMBANGOR",32:"AMEREN",33:"COMED",36:"SCE",38:"DP"};function a(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?"/dist-company-logos/rounded/".concat(r[e],".svg"):"/dist-company-logos/".concat(r[e],".svg")}},9310:function(e,n,t){var r;t.d(n,{m:function(){return r}}),function(e){e.Phone="phone",e.Email="email"}(r||(r={}))},47859:function(e,n,t){t.d(n,{Z:function(){return ue}});var r=t(14924),i=t(85893),a=t(94184),o=t.n(a),s=t(73935),c=t(41120),l=t(75154),u=t(25617),d=t(56255),m=t(88206),p=t(17812),f=t(71843),g=t(80366),h=t(67294),v=function(){var e=(0,u.I0)();return{isWizardOpen:(0,u.v9)((function(e){return e.needHelp.isWizardOpen})),setIsHelpUsWizardOpen:(0,h.useCallback)((function(n){e((0,d.nC)(n)),e((0,d.n4)(!1))}),[e])}},x=function(){var e=(0,u.I0)(),n=(0,u.v9)((function(e){return e.needHelp.previousPage})),t=(0,h.useCallback)((function(){return e((0,d.X1)(n))}),[e,n]);return{navigateToPage:(0,h.useCallback)((function(n){e((0,d.X1)(n)),e((0,d.n4)(!1))}),[e]),navigateToPreviousPage:t}},y=(0,c.Z)((function(e){return(0,l.Z)({container:{padding:"28px 0 128px"},text:{margin:0,color:e.palette.grey[700],fontWeight:400,"&:not(:last-child)":{marginBottom:8}}})}));var b=function(){var e=y();return(0,i.jsxs)("div",{className:e.container,children:[(0,i.jsx)("p",{className:e.text,children:"Ampion members are matched with a local solar farm and assigned a portion of the energy it produces. That \u201cshare\u201d of energy comes back to you in the form of renewable energy credits on your utility bill. In most states, each month you\u2019ll be billed by Ampion at a discounted rate for every dollar of credit received on your utility bill based on your solar energy allocation. This is all possible due to federal and state sponsored programs that promote the growth of clean energy."}),(0,i.jsx)("p",{className:e.text,children:"There is no installation involved; you continue to receive electricity as you always have, only now it\u2019s a little greener."}),(0,i.jsxs)("p",{className:e.text,children:["We encourage you to watch this helpful"," ",(0,i.jsx)("a",{href:"https://www.youtube.com/watch?v=H26bd8uAl3U",target:"_blank",rel:"noreferrer",children:"video"})," ","to understand the community solar program."]})]})},C=t(41749),Z=t(22318),E=t(10035),w=t(70753),N=t(20165),A=t(90661),j=t(12484),I=t(80766),k=t(24923),_=t(9310),T=[{label:"Call me",value:_.m.Phone},{label:"Email me",value:_.m.Email}],S=[k.l0.PAYMENT_METHOD,k.l0.CREATE_YOUR_PASSWORD],U=t(69045),P=t(17867),z=t(52414),L=t(89923),M=t(1604),R=t(98702),O=function(e){var n,t=(n={},(0,r.Z)(n,N.UE.contactUsFirstName,(0,R.$u)()),(0,r.Z)(n,N.UE.contactUsLastName,(0,R.N7)()),(0,r.Z)(n,N.UE.contactUsMethod,M.z.enum([_.m.Phone,_.m.Email])),(0,r.Z)(n,N.UE.contactUsQuestionDescription,M.z.string()),(0,r.Z)(n,N.UE.contactUsShouldTakeScreenshot,M.z.boolean()),n);return e===_.m.Phone&&(t[N.UE.contactUsPhoneNumber]=(0,R.P1)()),e===_.m.Email&&(t[N.UE.contactUsEmailAddress]=(0,R.Re)()),M.z.object(t)},H=function(){var e,n=(0,u.I0)(),t=(0,u.v9)(L.sx),i=(0,u.v9)((function(e){return e.needHelp})),a=i.isContactUsFormBeingSubmitted,o=i.contactUsSubmissionError,s=(0,u.v9)((function(e){return e.wizard})),c=s.firstName,l=s.lastName,m=s.emailAddress,p=s.phoneNumber,f=s.contactUsMethod,g=s.contactUsShouldTakeScreenshot,v=(e={},(0,r.Z)(e,N.UE.contactUsFirstName,c),(0,r.Z)(e,N.UE.contactUsLastName,l),(0,r.Z)(e,N.UE.contactUsPhoneNumber,p),(0,r.Z)(e,N.UE.contactUsEmailAddress,m),(0,r.Z)(e,N.UE.contactUsMethod,_.m.Phone),(0,r.Z)(e,N.UE.contactUsShouldTakeScreenshot,!0),e),x=(0,P.cI)({defaultValues:v,resolver:(0,U.F)(O(f)),mode:"onChange"}),y=x.handleSubmit,b=x.register,C=x.unregister,Z=x.trigger,E=x.setValue;(0,h.useEffect)((function(){return b(N.UE.contactUsFirstName),b(N.UE.contactUsLastName),b(N.UE.contactUsMethod),b(N.UE.contactUsPhoneNumber),b(N.UE.contactUsQuestionDescription),b(N.UE.contactUsShouldTakeScreenshot),function(){C(N.UE.contactUsFirstName),C(N.UE.contactUsLastName),C(N.UE.contactUsMethod),C(N.UE.contactUsEmailAddress),C(N.UE.contactUsPhoneNumber),C(N.UE.contactUsQuestionDescription),C(N.UE.contactUsShouldTakeScreenshot)}}),[b,C]),(0,h.useEffect)((function(){f===_.m.Phone&&(C(N.UE.contactUsEmailAddress),b(N.UE.contactUsPhoneNumber)),f===_.m.Email&&(C(N.UE.contactUsPhoneNumber),b(N.UE.contactUsEmailAddress))}),[f,b,C,Z]);var w=S.includes(t);(0,h.useEffect)((function(){if(w)n((0,d.FB)(!1)),E(N.UE.contactUsShouldTakeScreenshot,!1);else{var e=v[N.UE.contactUsShouldTakeScreenshot];n((0,d.FB)(e))}}),[w,E,n]);var A=y((function(){n((0,z.vv)())})),j=(0,h.useCallback)((function(e){var t=e.target.value;n((0,d.zE)(t))}),[n]),I=(0,h.useCallback)((function(e){var t=e.target.checked;n((0,d.FB)(t))}),[n]);return{onSubmit:A,formMethods:x,handleContactUsMethodChange:j,contactUsMethodReduxValue:f,handleContactUsShouldTakeScreenshotChange:I,contactUsShouldTakeScreenshotReduxValue:g,isContactUsFormBeingSubmitted:a,shouldDisableScreenshot:w,contactUsSubmissionError:o}},D=(0,c.Z)((function(e){return(0,l.Z)({container:{padding:"22px 0 30px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},title:{textTransform:"uppercase",color:e.palette.grey[500],margin:0,paddingBottom:16,fontSize:14,fontWeight:"normal"},nameWrapper:{marginBottom:8},blockTitle:{marginTop:0,marginBottom:16},descriptionWrapper:{marginTop:16},screenshotConsentWrapper:{marginTop:24},submitBtn:{width:160},fieldsWrapper:{},submitBtnWrapper:{display:"flex",justifyContent:"flex-end"},radioGroup:{marginBottom:24},errorMessage:{marginTop:18,marginBottom:24,color:e.palette.error.main}})}));var V=function(){var e=D(),n=H(),t=n.formMethods,r=n.onSubmit,a=n.contactUsMethodReduxValue,o=n.handleContactUsMethodChange,s=n.handleContactUsShouldTakeScreenshotChange,c=n.contactUsShouldTakeScreenshotReduxValue,l=n.isContactUsFormBeingSubmitted,u=n.shouldDisableScreenshot,d=n.contactUsSubmissionError,m=t.watch,p=t.setValue,f=t.errors,g=t.register,h=t.unregister,v=t.trigger,x=t.clearErrors,y=t.getValues,b=t.formState,k=m(N.UE.contactUsFirstName),S=m(N.UE.contactUsLastName),U=m(N.UE.contactUsPhoneNumber),P=m(N.UE.contactUsEmailAddress);return(0,i.jsxs)("form",{className:e.container,onSubmit:r,children:[(0,i.jsxs)("div",{className:e.fieldsWrapper,children:[(0,i.jsxs)(C.Z,{container:!0,spacing:4,className:e.nameWrapper,children:[(0,i.jsx)(w.yt,{testId:"contact-us-first-name",name:N.UE.contactUsFirstName,label:"First Name",width:6,watch:m,setValue:p,errors:f,register:g,unregister:h,trigger:v,clearErrors:x,getValues:y,disableXsBehavior:!0,value:k}),(0,i.jsx)(w.yt,{testId:"contact-us-last-name",name:N.UE.contactUsLastName,label:"Last Name",width:6,watch:m,setValue:p,errors:f,register:g,unregister:h,trigger:v,clearErrors:x,getValues:y,disableXsBehavior:!0,value:S})]}),(0,i.jsx)("p",{className:e.blockTitle,children:"How would you like us to contact you?"}),(0,i.jsx)(j.Z,{"data-testid":"contact-us-method",name:N.UE.contactUsMethod,value:a,handleChange:o,radioElements:T,className:e.radioGroup,row:!0}),a===_.m.Phone&&(0,i.jsx)(w.zJ,{testId:"contact-us-phone-number",name:N.UE.contactUsPhoneNumber,label:"Phone Number",watch:m,setValue:p,errors:f,register:g,unregister:h,trigger:v,clearErrors:x,getValues:y,value:U}),a===_.m.Email&&(0,i.jsx)(w.yt,{testId:"contact-us-email-address",name:N.UE.contactUsEmailAddress,label:"Email",watch:m,setValue:p,errors:f,register:g,unregister:h,trigger:v,clearErrors:x,getValues:y,value:P}),(0,i.jsx)(w.yt,{testId:"contact-us-question-description",containerClassName:e.descriptionWrapper,name:N.UE.contactUsQuestionDescription,label:"Please describe your question",watch:m,setValue:p,errors:f,register:g,unregister:h,trigger:v,clearErrors:x,getValues:y,multiline:!0,minRows:4}),(0,i.jsx)(A.Cn,{"data-testid":"contact-us-should-take-screenshot",className:e.screenshotConsentWrapper,name:N.UE.contactUsShouldTakeScreenshot,label:"Take a screenshot of the current step",checked:c,onChange:s,disabled:u}),d&&(0,i.jsxs)(Z.Z,{className:e.errorMessage,"data-testid":"contact-us-submission-error",children:["We're sorry, but we were unable to send your message. Please try again or contact us via email"," ",(0,i.jsx)("a",{href:I.T.href,children:I.T.text})," ","or phone"," ",(0,i.jsx)("a",{href:I._.href,children:I._.text})]})]}),(0,i.jsx)("div",{className:e.submitBtnWrapper,children:(0,i.jsx)(E.Z,{className:e.submitBtn,loading:l,buttonProps:{type:"submit",disabled:!b.isValid||l,"data-testid":"contact-us-submit-btn"},children:"Send"})})]})},W=(0,c.Z)((function(e){return(0,l.Z)({container:{padding:"28px 0",color:e.palette.grey[700],fontWeight:400},textItem:{margin:0,"&:not(:last-child)":{marginBottom:24}},actionList:{padding:0,marginLeft:25,listStyleType:"none",position:"relative"},actionListItem:{"&::before":{content:'" "',display:"block",width:12,height:12,backgroundColor:e.palette.blue.dark,borderRadius:"50%",position:"absolute",left:-25,marginTop:6}},actionListItemHeader:{fontWeight:500},actionListItemDescription:{fontSize:14}})}));var F=function(){var e=W();return(0,i.jsxs)("div",{className:e.container,children:[(0,i.jsx)("p",{className:e.textItem,children:"Enrollment will only take a few minutes to complete! Here\u2019s the process:"}),(0,i.jsxs)("ul",{className:e.actionList,children:[(0,i.jsxs)("li",{className:o()(e.textItem,e.actionListItem),children:[(0,i.jsx)(Z.Z,{component:"h4",className:e.actionListItemHeader,children:"Provide email address and contact info."}),(0,i.jsx)(Z.Z,{component:"p",className:e.actionListItemDescription,children:"Your email will be used as your username for login, and we will email you updates on your subscription status and savings statements."})]}),(0,i.jsxs)("li",{className:o()(e.textItem,e.actionListItem),children:[(0,i.jsx)(Z.Z,{component:"h4",className:e.actionListItemHeader,children:"Provide utility account information"}),(0,i.jsx)(Z.Z,{component:"p",className:e.actionListItemDescription,children:"Utility account information is needed by Ampion to set up your subscription with your utility company."})]}),(0,i.jsxs)("li",{className:o()(e.textItem,e.actionListItem),children:[(0,i.jsx)(Z.Z,{component:"h4",className:e.actionListItemHeader,children:"Create a password"}),(0,i.jsx)(Z.Z,{component:"p",className:e.actionListItemDescription,children:"You can then access your subscriber dashboard after your enrollment has been completed."})]}),(0,i.jsx)("li",{className:o()(e.textItem,e.actionListItem),children:(0,i.jsx)(Z.Z,{component:"h4",className:e.actionListItemHeader,children:"Sign your subscription agreement"})}),(0,i.jsxs)("li",{className:o()(e.textItem,e.actionListItem),children:[(0,i.jsx)(Z.Z,{component:"h4",className:e.actionListItemHeader,children:"May need to enter payment information"}),(0,i.jsx)(Z.Z,{component:"p",className:e.actionListItemDescription,children:"Ampion will charge you, at a discount, for credits which offset your utility charges."})]})]}),(0,i.jsx)("p",{className:e.textItem,children:"After your enrollment is complete, the Ampion team will review your enrollment and contact you if there happen to be any questions. It might take a few days to confirm the details, but we\u2019ll keep you informed of your membership status via email."})]})},B=t(60989),Y=t(1197),q=(0,c.Z)((function(e){var n;return(0,l.Z)({rowWrapper:{padding:0,margin:0,display:"flex",alignItems:"center",background:"none",border:"none",cursor:"pointer","&:not(:last-child)":{marginBottom:12}},text:(n={color:e.palette.blue.contrastText,textAlign:"left",fontWeight:500,paddingRight:"1vw",lineBreak:"anywhere"},(0,r.Z)(n,e.breakpoints.up(300),{whiteSpace:"nowrap",lineBreak:"auto"}),(0,r.Z)(n,e.breakpoints.up("md"),{paddingRight:24}),n),icon:{color:e.palette.blue.contrastText,width:16,height:16}})}));var Q=function(e){var n=e.text,t=e.onClick,r=e.Icon,a=void 0===r?Y.Z:r,o=e.dataTestId,s=void 0===o?"need-help-action-item-row":o,c=q();return(0,i.jsxs)("button",{className:c.rowWrapper,type:"button",onClick:t,"data-testid":s,children:[(0,i.jsx)(Z.Z,{className:c.text,children:n}),(0,i.jsx)(a,{className:c.icon})]})},G=(0,c.Z)((function(e){return(0,l.Z)({container:{padding:"50px 0 60px"},title:{textTransform:"uppercase",color:e.palette.grey[500],margin:0,paddingBottom:16,fontSize:14,fontWeight:"normal"},firstSection:{},secondSection:{marginTop:89}})}));var K=function(){var e=G(),n=x().navigateToPage;return(0,i.jsxs)("div",{className:e.container,children:[(0,i.jsxs)("section",{className:e.firstSection,children:[(0,i.jsx)("h4",{className:e.title,children:"I want to know..."}),(0,i.jsx)(Q,{text:"How does enrollment work?",onClick:function(){return n(B.N.Enrollment)},dataTestId:"how-does-enrollment-work-page-link"}),(0,i.jsx)(Q,{text:"How does Community Solar work?",onClick:function(){return n(B.N.CommunitySolar)},dataTestId:"how-does-community-solar-work-page-link"})]}),(0,i.jsxs)("section",{className:e.secondSection,children:[(0,i.jsx)("h4",{className:e.title,children:"or..."}),(0,i.jsx)(Q,{text:"Contact us directly",onClick:function(){return n(B.N.ContactUs)},dataTestId:"contact-us-directly-page-link"})]})]})},J=t(41699),X=t(41959),$=t(30889),ee=(0,c.Z)((function(e){return(0,l.Z)({container:(0,r.Z)({padding:"104px 0 64px"},e.breakpoints.up("md"),{}),centeredWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",width:"80%",margin:"0 auto 90px"},checkIcon:{background:e.palette.blue.dark,color:"white",borderRadius:"50%",padding:20},title:{color:"#0073D1",fontSize:23,margin:"16px 0 4px 0"},description:{marginTop:0,marginBottom:24},doneBtn:{width:"60%"},linkButtonWrapper:{display:"flex",justifyContent:"center"}})}));var ne,te=function(){var e=ee(),n=x().navigateToPage,t=v().setIsHelpUsWizardOpen,r=(0,h.useCallback)((function(){n(B.N.Main),t(!1)}),[n,t]);return(0,i.jsxs)("div",{className:e.container,"data-testid":"need-help-contact-us-successful-submit-page",children:[(0,i.jsxs)("div",{className:e.centeredWrapper,children:[(0,i.jsx)(X.Z,{className:e.checkIcon}),(0,i.jsx)("p",{className:e.title,children:"Thanks!"}),(0,i.jsx)("p",{className:e.description,children:"Your submission is received and we will contact you soon!"}),(0,i.jsx)($.Z,{label:"Done",className:e.doneBtn,actionCallback:r})]}),(0,i.jsx)("div",{className:e.linkButtonWrapper,children:(0,i.jsx)(J.Q,{clickCallback:function(){return n(B.N.ContactUs)},text:"Submit a new question"})})]})},re=(ne={},(0,r.Z)(ne,B.N.Main,{title:"How can we help you?",ContentComponent:K,isBackButtonAvailable:!1}),(0,r.Z)(ne,B.N.CommunitySolar,{title:"How does community solar work?",ContentComponent:b,isBackButtonAvailable:!0}),(0,r.Z)(ne,B.N.Enrollment,{title:"How does enrollment work?",ContentComponent:F,isBackButtonAvailable:!0}),(0,r.Z)(ne,B.N.ContactUs,{title:"We would love to hear from you!",ContentComponent:V,isBackButtonAvailable:!0}),(0,r.Z)(ne,B.N.SuccessfulSubmit,{title:null,ContentComponent:te,isBackButtonAvailable:!1}),ne),ie=(0,c.Z)((function(e){return(0,l.Z)({container:(0,r.Z)({"& div, & form":{boxSizing:"border-box"},width:"100vw",height:"100vh",backgroundColor:"white"},e.breakpoints.up("md"),{width:400,height:"auto",boxShadow:"0px 10px 24px rgba(21, 21, 20, 0.08)",borderRadius:4}),paddingWrapper:{paddingLeft:24,paddingRight:24},header:{display:"flex",alignItems:"center",borderBottom:"1px solid #E3E3E3",paddingTop:20,paddingBottom:20},backBtn:{width:24,marginRight:12},closeBtn:{width:24},title:{flex:1,fontSize:18,fontWeight:500,margin:0},contentComponentWrapper:{height:"calc(100% - ".concat(71,"px)"),overflowY:"auto"},mobileOverflowHandlerWrapper:(0,r.Z)({paddingBottom:100},e.breakpoints.up("md"),{paddingBottom:0})})}));var ae=function(){var e=ie(),n=x().navigateToPreviousPage,t=v().setIsHelpUsWizardOpen,r=function(){var e=(0,u.v9)((function(e){return e.needHelp.currentPage}));return re[e]}(),a=r.ContentComponent,s=r.title,c=r.isBackButtonAvailable;return(0,i.jsxs)("div",{className:e.container,"data-testid":"need-help-page-wrapper",children:[(0,i.jsxs)("div",{className:o()(e.paddingWrapper,e.header),children:[c&&(0,i.jsx)(p.Z,{"data-testid":"need-help-page-wrapper-back-btn","aria-label":"back",size:"small",className:e.backBtn,onClick:n,children:(0,i.jsx)(f.Z,{})}),(0,i.jsx)("h3",{className:e.title,children:s}),(0,i.jsx)(p.Z,{"data-testid":"need-help-page-wrapper-close-btn","aria-label":"close",size:"small",className:e.closeBtn,onClick:function(){return t(!1)},children:(0,i.jsx)(g.Z,{})})]}),(0,i.jsx)("div",{className:o()(e.paddingWrapper,e.contentComponentWrapper),children:(0,i.jsx)("div",{className:e.mobileOverflowHandlerWrapper,children:(0,i.jsx)(a,{})})})]})},oe=t(82369),se=(0,c.Z)((function(e){return(0,l.Z)({buttonContainer:{display:"flex",alignItems:"center",padding:"0 15px"},buttonText:(0,r.Z)({display:"none",fontWeight:400,fontSize:16,textTransform:"uppercase",paddingLeft:10},e.breakpoints.up("md"),{display:"initial"})})}));var ce=function(e){var n=e.onClick,t=se();return(0,i.jsxs)($.Z,{actionCallback:n,buttonProps:{"data-testid":"need-help-trigger-button"},className:t.buttonContainer,children:[(0,i.jsx)(oe.Z,{}),(0,i.jsx)("span",{className:t.buttonText,children:"Need Help?"})]})},le=(0,c.Z)((function(e){return(0,l.Z)({"@global":{body:{overflow:function(e){return e.isNeedHelpWizardOpen?"hidden":"auto"}}},fixedBtnWrapper:{zIndex:13001,position:"fixed",bottom:34,right:24},fixedWizardWrapper:(0,r.Z)({zIndex:13001,position:"fixed",top:0,right:0},e.breakpoints.up("md"),{top:"unset",bottom:34,right:24}),hidden:{height:0,overflow:"hidden"}})}));var ue=function(){var e=(0,u.I0)(),n=(0,u.v9)((function(e){return e.needHelp.isWizardOpen})),t=le({isNeedHelpWizardOpen:n});return function(e){(0,h.useEffect)((function(){if((0,m.c)(m.A.needHelp)&&e){var n=document.querySelector("div[role=presentation][class=MuiPopover-root] div[aria-hidden=true]");"function"===typeof(null===n||void 0===n?void 0:n.click)&&n.click()}}),[e])}(n),(0,m.c)(m.A.needHelp)?(0,s.createPortal)((0,i.jsxs)(i.Fragment,{children:[!n&&(0,i.jsx)("div",{className:t.fixedBtnWrapper,children:(0,i.jsx)(ce,{onClick:function(){return e((0,d.nC)(!0))}})}),(0,i.jsx)("div",{className:o()(t.fixedWizardWrapper,(0,r.Z)({},t.hidden,!n)),children:(0,i.jsx)(ae,{})})]}),document.body):null}},60989:function(e,n,t){var r;t.d(n,{N:function(){return r}}),function(e){e[e.Main=0]="Main",e[e.Enrollment=1]="Enrollment",e[e.CommunitySolar=2]="CommunitySolar",e[e.ContactUs=3]="ContactUs",e[e.SuccessfulSubmit=4]="SuccessfulSubmit"}(r||(r={}))},6994:function(e,n,t){t.d(n,{JG:function(){return x},Sj:function(){return S},eF:function(){return P},eo:function(){return Z},s6:function(){return w},uD:function(){return I},xX:function(){return _}});var r=t(47568),i=t(26042),a=t(69396),o=t(99534),s=t(29815),c=t(20414),l=t(4612),u=t(24923),d=t(925),m=t(99116),p=t(82119),f=t(20474),g=t(37286),h=t(52273);function v(e){var n=e.complete,t=e.skipPaymentMethod,r=e.paymentToken;return n&&t?{user_token:e.user_token}:n&&!t?e.paymentData:r?{payment_token:r}:{}}var x=function(e){return e?Object.keys(e).map((function(n){var t=e[n].fileLocation;return"string"===typeof t?[t]:t})).reduce((function(e,n){var t;return(t=e).push.apply(t,(0,s.Z)(n)),e}),[]):[]};function y(e,n){return Array.isArray(e)&&e.some((function(e){return e.code===n}))}function b(e){return e.map((function(e){var n=e.serviceBills,t=e.accountNumber,r=e.serviceAddress,i=e.serviceAddressUnit,a=e.serviceAddressCity,o=e.serviceAddressCounty,s=e.serviceAddressState,c=e.serviceAddressZipCode,l=e.meterNumber,u=e.utilityNumber,d=e.accountLinked,m=e.accountLinkingContext,p=x(n),f={utility:u,name_on_bill:"",utility_account_number:null===t||void 0===t?void 0:t.replace(/\D/g,""),service_address_1:r,service_address_2:i,service_city:a,service_county:o,service_state:s,service_zip_code:c,utility_bill_link:p,account_linked:void 0,account_linking_context:void 0,meter_number:void 0};return d&&(f.account_linked=d),m&&(f.account_linking_context=m),l&&(f.meter_number=l),f}))}function C(e,n,t,r,i,a){var o=(0,f.p$)(e||[]),s=x(i),c=0===(null===s||void 0===s?void 0:s.length)?a:void 0;if(n===p.Bj.yes){if(t){var l=o.findIndex((function(e){return e.type===t&&e.verification_method===r}));if(l>-1)o[l].supporting_doc_links=s,o[l].evidence_missing_reason=c;else{var d=o.findIndex((function(e){return e.origin===u.aP.ENROLLMENT_PORTAL}));d>-1?(o[d].type=t,o[d].verification_method=r,o[d].supporting_doc_links=s,o[d].evidence_missing_reason=c):o.push({origin:u.aP.ENROLLMENT_PORTAL,category:"Program",type:t,verification_method:r,supporting_doc_links:s,evidence_missing_reason:c})}}}else if(n===p.Bj.no||n===p.Bj.unknown){return o.filter((function(e){return e.origin!==u.aP.ENROLLMENT_PORTAL}))}return o}function Z(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)((function(e){var n,t,r,s,p,f,x,Z,E,w,N,A,j,I,k,_,T,S,U,P,z,L,M,R,O,H,D;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=e.params,t=e.application,r=e.externalData,s=void 0===r?{}:r,p=e.enrollmentUtilities,f=void 0===p?[]:p,x=e.shouldUpdate,Z=e.nextStepName,E=e.lastStepName,w=e.userToken,N=e.fingerprintId,A=(0,g.l)(null===n||void 0===n?void 0:n.vid),j=n.complete,I=b(f),[4,(0,d.y)()];case 1:if(k=c.sent(),_=s.vid,T=(0,o.Z)(s,["vid"]),U=(0,i.Z)((0,a.Z)((0,i.Z)({},T),{anonymous_id:k,fingerprint_id:N,first_name:null===n||void 0===n?void 0:n.firstName,last_name:null===n||void 0===n?void 0:n.lastName,email:null===n||void 0===n?void 0:n.emailAddress,phone:null===n||void 0===n?void 0:n.phoneNumber,customer_type:null===n||void 0===n?void 0:n.customerType,commercial_class:null===n||void 0===n?void 0:n.commercialClass,company_name:null===n||void 0===n?void 0:n.companyName,create_new_on_conflict:null===n||void 0===n?void 0:n.create_new_on_conflict,title:null===n||void 0===n?void 0:n.title,billing_address_1:null===n||void 0===n?void 0:n.mailingAddress,billing_address_2:null===n||void 0===n?void 0:n.mailingAddressUnit,billing_city:null===n||void 0===n?void 0:n.mailingAddressCity,billing_county:null===n||void 0===n?void 0:n.mailingAddressCounty,billing_state:null===n||void 0===n?void 0:n.mailingAddressState,billing_zip_code:null===n||void 0===n?void 0:n.mailingAddressZipCode,vanity_id:null!==(S=null===n||void 0===n?void 0:n.vid)&&void 0!==S?S:_||"a166R000007SsLMQA0",contact_phone_number:null===A||void 0===A?void 0:A.phoneNumber,contact_email_to_use:null===A||void 0===A?void 0:A.emailToUse,accounts:I,send_verify_email:(null===n||void 0===n?void 0:n.sendVerifyEmail)||!1,complete:j,contract_token:null===n||void 0===n?void 0:n.contractToken,user_token:w,email_short_code:null===n||void 0===n?void 0:n.noEP2SF,enrolling_for_more:null===n||void 0===n?void 0:n.isAlreadyEnrolled,origin:t===u.aP.ENROLLMENT_PORTAL?u.aP.WEB:null===n||void 0===n?void 0:n.origin}),v(n)),"string"===typeof E&&(U.last_step=E),"string"===typeof Z&&(U.next_step=Z),(P="no"===(null===n||void 0===n?void 0:n.agentIsAssisting)?"N/A":(null===n||void 0===n?void 0:n.agentName)||"").length>0&&(U.agent_name=P),I.length||delete U.accounts,n.customerType===m.g.home&&n.lmiEligible&&(U.lmi_eligible=n.lmiEligible,z=C(n.lmiQualifications,n.lmiEligible,n.lmiProgramType,n.lmiVerificationMethod,n.lmiEvidence,n.lmiWontProvideEvidence),U.lmi_qualifications=z),L="".concat(h.Gy,"/").concat(h.rU),M="POST",x){if(!n.uuid)return[2,{}];L+="/".concat(n.uuid),M="PUT"}return[4,(0,h.rK)(L,{method:M,headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})];case 2:if(!(R=c.sent()).ok&&409!==R.status)return[3,7];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,R.json()];case 4:return[2,c.sent()];case 5:return O=c.sent(),l.p.notify({message:"Failed to parse JSON response from enrollment API",params:{url:L,err:O,method:M,data:U}}),[2,O];case 6:return[3,10];case 7:return c.trys.push([7,9,,10]),[4,R.json()];case 8:if(H=c.sent(),422===R.status){if(y(H,u.o6.RESTRICTED_CODE))return window.location.assign("".concat(window.location.origin,"/restricted")),[2,H[0]];if(y(H,u.o6.VOIP_CODE)||y(H,u.o6.DUPLICATE_NUMBER_CODE))return[2,H[0]];throw H[0]}throw new Error("Unhandled status code ".concat(R.status));case 9:return D=c.sent(),l.p.notify({message:"Failed to handle response from ".concat(h.rU," endpoint: ").concat(D),params:{url:L,err:D,method:M,data:U}}),[2,D];case 10:return[2]}}))}))).apply(this,arguments)}function w(e){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)((function(e){var n,t,r,i,a,o,s,u;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=e.email,t=e.code,r=e.uuid,i=e.vid,a=!!t&&""!==t,o="".concat(h.Gy,"/").concat(h.rU,"/verify?email=").concat(encodeURIComponent(n.toLowerCase())),o+=a?"&code=".concat(t):"&uuid=".concat(r),i&&(o+="&vid=".concat(i)),[4,(0,h.rK)(o)];case 1:s=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return[2,c.sent()];case 4:return u=c.sent(),l.p.notify({message:"Failed to parse JSON response from verification API",params:{url:o,err:u}}),[2,u];case 5:return[2]}}))}))).apply(this,arguments)}function A(e,n){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)((function(e,n){var t,r,i;return(0,c.__generator)(this,(function(a){return t=Object.values(n),r=t.find((function(n){var t=n.code.toLowerCase()===e.toLowerCase(),r=n.name.toLowerCase()===e.toLowerCase();return t||r})),(i=null===r||void 0===r?void 0:r.name)?[2,i]:t&&t.length?[2,t[0].code]:[2,""]}))}))).apply(this,arguments)}function I(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)((function(e){var n,t,r,o,s,u,m,p,f,g,v,x,y,b,C;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:if(n=e.zipCode,t=e.vid,r=e.utilityName,o=e.customerType,s=e.uuid,u=e.checkCredit,m=e.commercialClass,p=e.utilityCompanies,f=e.fingerprintId,!n)return[2,{valid:!1}];c.label=1;case 1:return c.trys.push([1,7,,8]),[4,A(r,p)];case 2:return(g=c.sent())?(v="vid=".concat(encodeURIComponent(t),"&dc=").concat(encodeURIComponent(g)),o&&(v+="&ct=".concat(encodeURIComponent(o))),m&&(v+="&cc=".concat(encodeURIComponent(m))),s&&(v+="&uuid=".concat(encodeURIComponent(s))),u&&(v+="&checkcredit=true"),[4,(0,d.y)()]):[2,{valid:!1}];case 3:return(x=c.sent())&&(v+="&anonymous_id=".concat(encodeURIComponent(x))),f&&(v+="&fingerprint_id=".concat(encodeURIComponent(f))),[4,(0,h.rK)("".concat(h.Gy,"/").concat(h.iA,"/").concat(n,"/validate?").concat(v))];case 4:return(y=c.sent()).ok?[4,y.json()]:[3,6];case 5:return b=c.sent(),[2,(0,a.Z)((0,i.Z)({},b),{contract_details:b.contract_details||{}})];case 6:throw new Error("Bad response from server: ".concat(y.statusText," (").concat(y.status,")"));case 7:return C=c.sent(),l.p.notify({message:"Failed to process request to validate utility: ".concat(C)}),[2,C];case 8:return[2]}}))}))).apply(this,arguments)}function _(e){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)((function(e){var n,t,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return n="".concat(h.Gy,"/").concat(h.rU,"/").concat(e,"/credit"),[4,(0,h.rK)(n,{method:"POST",headers:{"Content-Type":"application/json"}})];case 1:t=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.json()];case 3:return[2,i.sent()];case 4:throw r=i.sent(),l.p.notify({message:"Failed to start credit check",params:{uuid:e,url:n,err:r}}),r;case 5:return[2]}}))}))).apply(this,arguments)}function S(e){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)((function(e){var n,t,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return n="".concat(h.Gy,"/").concat(h.rU,"/").concat(e,"/credit"),[4,(0,h.rK)(n)];case 1:t=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.json()];case 3:return[2,i.sent()];case 4:throw r=i.sent(),l.p.notify({message:"Failed to request credit check status",params:{uuid:e,url:n,err:r}}),r;case 5:return[2]}}))}))).apply(this,arguments)}function P(){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)((function(){var e,n,t;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return e="".concat(h.Gy,"/v1/ilshines/status"),[4,(0,h.rK)(e)];case 1:n=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.json()];case 3:return[2,r.sent()];case 4:return t=r.sent(),l.p.notify({message:"Failed to request IL Shines site status. Error: ".concat(t)}),[2,{working:!0}];case 5:return[2]}}))}))).apply(this,arguments)}},87994:function(e,n,t){t.d(n,{Eh:function(){return h},EF:function(){return x},y9:function(){return v}});var r,i,a=t(47568),o=t(20414);!function(e){e.base64="base64",e.multiPart="multiPart"}(r||(r={})),function(e){e.uaBills="uaBills",e.lmiQualifications="lmiQualifications",e.screenshots="screenshots"}(i||(i={}));var s=t(52273);function c(){return c=(0,a.Z)((function(e){return(0,o.__generator)(this,(function(n){return[2,new Promise((function(n,t){var r=new FormData;r.append("file",e.file),r.append("key",e.key),r.append("storageProvider",e.storageProvider),(0,s.rK)("/api/file-upload/multipart",{method:"POST",body:r}).then(function(){var e=(0,a.Z)((function(e){var i;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return[4,e.json()];case 1:return i=a.sent(),e.ok?[2,n(i)]:[2,t(r)]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return t(e)}))}))]}))})),c.apply(this,arguments)}var l=function(e){return c.apply(this,arguments)};function u(){return(u=(0,a.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,s.rK)("/api/file-upload/base64",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}var d=function(e){return u.apply(this,arguments)};function m(){return(m=(0,a.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:n=e.remoteKey,t=e.storageProvider,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,s.rK)("/api/file-upload/delete?".concat(new URLSearchParams({remoteKey:n,storageProvider:t})),{method:"DELETE"})];case 2:return[2,r.sent().json()];case 3:return[2,r.sent()];case 4:return[2]}}))}))).apply(this,arguments)}var p=function(e){return m.apply(this,arguments)};function f(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(e.uploadType){case r.multiPart:return[2,l(e)];case r.base64:return[2,d(e)];default:throw new Error("Unsupported file handler")}return[2]}))}))).apply(this,arguments)}var h={upload:function(e){var n=e.key,t=e.file;return f({uploadType:r.multiPart,storageProvider:i.lmiQualifications,file:t,key:n})},delete:function(e){var n=e.remoteKey;return p({remoteKey:n,storageProvider:i.lmiQualifications})}},v={upload:function(e){var n=e.key,t=e.file;return f({uploadType:r.multiPart,storageProvider:i.uaBills,file:t,key:n})},delete:function(e){var n=e.remoteKey;return p({remoteKey:n,storageProvider:i.uaBills})}},x={upload:function(e){var n=e.base64content,t=e.name,a=e.type;return f({uploadType:r.base64,storageProvider:i.screenshots,base64content:n,name:t,type:a})},delete:function(e){var n=e.remoteKey;return p({remoteKey:n,storageProvider:i.screenshots})}}},14755:function(e,n,t){t.d(n,{M:function(){return l},g:function(){return s}});var r=t(47568),i=t(26042),a=t(20414),o=t(52273);function s(){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,o.rK)("/api/plaid")];case 1:if((e=n.sent()).ok)return[2,e.json().then((function(e){return e.link_token}))];throw new Error("Bad response from server: ".concat(e.statusText," (").concat(e.status,")"));case 2:return[2,n.sent()];case 3:return[2]}}))}))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,(0,o.rK)("/api/plaid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,i.Z)({},e))})];case 1:return(n=r.sent()).ok?[4,n.json().then((function(e){return{token:{id:e.stripe_bank_account_token}}}))]:[3,3];case 2:return[2,r.sent()];case 3:return[4,n.json()];case 4:throw t=r.sent().error,new Error("".concat(t.name,": ").concat(t.error_code," ").concat(t.error_message));case 5:return[2,{error:r.sent()}];case 6:return[2]}}))}))).apply(this,arguments)}},68172:function(e,n,t){t.d(n,{B:function(){return r},_:function(){return u}});var r,i=t(47568),a=t(20414),o=t(4612),s=t(52273);function c(e){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((function(e){return(0,a.__generator)(this,(function(n){return o.p.notify({message:"Failed request - signupUserAndPayment with error: ".concat(e.error||e)}),[2,e]}))}))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return d=(0,i.Z)((function(e){var n,t=arguments;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:n=t.length>1&&void 0!==t[1]?t[1]:r.paymentAndUserOptional,o.label=1;case 1:return o.trys.push([1,3,,5]),[4,(0,s.rK)("/api/user",{method:"POST",body:JSON.stringify({action:n,params:e})}).then(function(){var e=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.json()];case 1:return n=t.sent(),e.ok?[2,n]:[2,c(n)]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return e}))];case 2:return[2,o.sent()];case 3:return[4,c(o.sent())];case 4:return[2,o.sent()];case 5:return[2]}}))})),d.apply(this,arguments)}!function(e){e.userOnly="userOnly",e.paymentAndUserOptional="paymentAndUserOptional",e.createPassword="createPassword"}(r||(r={}))},52414:function(e,n,t){t.d(n,{WR:function(){return s},jc:function(){return M.jc},rd:function(){return h},wR:function(){return M.wR},_y:function(){return S},Vj:function(){return M.Vj},c2:function(){return M.c2},ov:function(){return c},XB:function(){return E},wF:function(){return l},N$:function(){return p},cY:function(){return m},vv:function(){return L},a7:function(){return o},P6:function(){return a},JT:function(){return z},ez:function(){return N},PR:function(){return A},ok:function(){return Z},AC:function(){return v},W0:function(){return d},TM:function(){return y},zj:function(){return x},E9:function(){return i},ps:function(){return u},nI:function(){return g},xt:function(){return _},yr:function(){return U},U5:function(){return I},s1:function(){return j},k:function(){return C.k},VT:function(){return C.V},I9:function(){return f},FK:function(){return P},f3:function(){return M.f3},wl:function(){return M.wl},tA:function(){return M.tA},Yv:function(){return M.Yv},M_:function(){return k},AB:function(){return w},gE:function(){return b},vS:function(){return T}});var r=t(26594),i=(0,r.PH)("docusign/refresh"),a=(0,r.PH)("docusign/keep/signing"),o=(0,r.PH)("docusign/handle/decline"),s=(0,r.PH)("utilityAccounts/add/newUtilityAccount"),c=(0,r.PH)("utilityAccounts/delete/utilityAccount"),l=(0,r.PH)("utilityAccounts/edit/utilityAccount"),u=(0,r.PH)("utilityAccounts/reset/utilityAccount"),d=(0,r.PH)("navigation/navigateTo/nextStep"),m=(0,r.PH)("navigation/goTo/stepInDirecton"),p=(0,r.PH)("navigation/goTo/nextStep"),f=(0,r.PH)("navigation/set/stepFromVerifyResponse"),g=(0,r.PH)("navigation/set/enrollmentAfterVerify"),h=(0,r.PH)("enrollment/complete/enrollment"),v=(0,r.PH)("enrollment/merge/utilityAccounts"),x=(0,r.PH)("errors/push/error"),y=(0,r.PH)("errors/pop/error"),b=(0,r.PH)("validation/validate/currentStep"),C=t(18606),Z=(0,r.PH)("utilityCompanies/set/companiesToStore"),E=(0,r.PH)("utilityCompanies/deselect/company"),w=(0,r.PH)("utilityCompanies/update/company"),N=(0,r.PH)("utilityCompanies/load/selectedUtilityCompany"),A=(0,r.PH)("utilityCompanies/load/loadUtilityCompanies"),j=(0,r.PH)("form/set/fieldValue"),I=(0,r.PH)("form/set/formData"),k=(0,r.PH)("loader/update/state"),_=(0,r.PH)("confirmationEmail/send/Again"),T=(0,r.PH)("emailVerification/verify/addtionalAccount"),S=(0,r.PH)("emailVerification/continue/enrollment"),U=(0,r.PH)("emailVerification/send/emailAgain"),P=(0,r.PH)("verification/submit/code"),z=((0,r.PH)("confirmEmail/open/Modal"),(0,r.PH)("tracking/set/leadTracking")),L=(0,r.PH)("needHelp/handleContactUsFormSubmit"),M=t(49609)},18606:function(e,n,t){t.d(n,{V:function(){return a},k:function(){return i}});var r=t(26594),i=(0,r.PH)("state/setStateByZipCode"),a=(0,r.PH)("state/setStateByZipCodeFromUA")},87371:function(e,n,t){t.d(n,{f:function(){return r}});var r=(0,t(26594).PH)("\n  validation/signal/checkValidityOnCustomerTypeChange\n")},27970:function(e,n,t){t.d(n,{BP:function(){return b},C0:function(){return s},Dn:function(){return x},Gl:function(){return g},Lc:function(){return u},Ol:function(){return C},Uy:function(){return d},XG:function(){return v},Ze:function(){return a},a1:function(){return l},as:function(){return y},cb:function(){return Z},dE:function(){return c},jC:function(){return i},lS:function(){return f},qK:function(){return m},sf:function(){return E},uk:function(){return o},vK:function(){return h},vd:function(){return p},w2:function(){return r}});var r="ENROLLMENT_WIZARD_SET_FORM_DATA",i="ENROLLMENT_WIZARD_SET_FIELD_DATA",a="ENROLLMENT_WIZARD_SET_VALIDATION_DATA",o="ENROLLMENT_ACCOUNT_SET_DATA",s="ENROLLMENT_WIZARD_REMOVE_UPLOADED_FILE",c="ENROLLMENT_WIZARD_SET_UPLOADED_FILE",l="ENROLLMENT_WIZARD_SET_FILES_TO_UPLOAD",u="ENROLLMENT_WIZARD_SET_IS_UPLOADING",d="ENROLLMENT_WIZARD_SET_IS_UPLOAD_ERROR",m="ENROLLMENT_WIZARD_SET_IS_SIZE_ERROR",p="ENROLLMENT_WIZARD_SET_IS_TYPE_ERROR",f="ENROLLMENT_WIZARD_SET_LEAD_TRACKING_FORM_DATA",g="SET_ENROLLMENT_PROPERTY",h="SET_DISCLOSURES",v="WIZARD_SET_STEP",x="ENROLLMENT_ADD_UTILITY_ACCOUNTS",y="CCA_REGISTRATION_SET_DATA",b="CCA_REGISTRATION_SET_IS_ALREADY_REGISTERED",C="CCA_REGISTRATION_SET_IS_ALREADY_REGISTERED_BY_OTHER_EMAIL",Z="CCA_REGISTRATION_SET_IS_GENERAL_ERROR",E="CCA_REGISTRATION_SET_TOO_MANY_FAILURES"},95257:function(e,n,t){t.d(n,{$4:function(){return p},EE:function(){return C},LP:function(){return x},MI:function(){return l},S5:function(){return h},XY:function(){return E},_N:function(){return u},a1:function(){return g},bq:function(){return Z},dC:function(){return c},dP:function(){return y},gx:function(){return f},iJ:function(){return v},lq:function(){return o},nC:function(){return m},o5:function(){return s},xG:function(){return d},xR:function(){return b},xs:function(){return w}});var r=t(14924),i=t(26594),a=t(27970);function o(e){return{type:a.Dn,payload:e}}function s(e,n){return{type:a.Gl,payload:(0,r.Z)({},e,n)}}var c=(0,i.PH)("enrollment/set/isAlreadyEnrolled"),l=(0,i.PH)("enrollment/set/showSpinner"),u=(0,i.PH)("enrollment/set/retry"),d=(0,i.PH)("enrollment/set/lmiQualifications"),m=(0,i.PH)("enrollment/set/manualContract"),p=(0,i.PH)("enrollment/set/skippedPasswordStep"),f=(0,i.PH)("enrollment/set/isConfirmationEmailSentAgain"),g=(0,i.PH)("enrollment/update/utilityAccount"),h=(0,i.PH)("enrollment/set/lastStepName"),v=(0,i.PH)("enrollment/set/nextStepName"),x=(0,i.PH)("enrollment/set/paymentToken"),y=(0,i.PH)("enrollment/set/userToken"),b=(0,i.PH)("enrollment/set/hasVerifiedEmail"),C=(0,i.PH)("enrollment/set/phoneValidationMessage"),Z=(0,i.PH)("enrollment/set/application"),E=(0,i.PH)("enrollment/set/hasSkippedCheckAvailability"),w=(0,i.PH)("enrollment/set/isEnrollmentVerificationLoading")},9606:function(e,n,t){t.d(n,{j7:function(){return xe.j7},KP:function(){return xe.KP},lq:function(){return d.lq},NR:function(){return xe.NR},Sb:function(){return xe.Sb},dn:function(){return xe.dn},fD:function(){return r.fD},OA:function(){return o},xM:function(){return a},bH:function(){return r.bH},n1:function(){return xe.n1},OU:function(){return me},jK:function(){return J},$Z:function(){return u},qh:function(){return r.qh},JN:function(){return r.JN},wE:function(){return xe.wE},tJ:function(){return r.tJ},KN:function(){return r.KN},bq:function(){return d.bq},aC:function(){return w},SW:function(){return p},C6:function(){return f},_N:function(){return g},uh:function(){return v},Ls:function(){return h},QL:function(){return xe.QL},i6:function(){return r.i6},zE:function(){return r.zE},FB:function(){return r.FB},n4:function(){return ve},eZ:function(){return r.eZ},ud:function(){return r.ud},AW:function(){return r.AW},Kz:function(){return r.Kz},s0:function(){return r.s0},NT:function(){return C},Zc:function(){return b},fT:function(){return Z},o5:function(){return d.o5},Ge:function(){return r.Ge},Bf:function(){return r.Bf},wG:function(){return ne},XY:function(){return d.XY},xR:function(){return d.xR},X1:function(){return ge},oN:function(){return V},ao:function(){return S},iE:function(){return te},dC:function(){return d.dC},gq:function(){return E},KE:function(){return M},gx:function(){return d.gx},W3:function(){return he},JA:function(){return ee},A7:function(){return O},yl:function(){return R},oI:function(){return ae},I$:function(){return $},BB:function(){return W},n3:function(){return U},bt:function(){return F},ty:function(){return x},vj:function(){return N},oH:function(){return P},xs:function(){return d.xs},fY:function(){return Y},cN:function(){return T},h3:function(){return re},nC:function(){return fe},c5:function(){return G},pv:function(){return L},AN:function(){return _},Cr:function(){return q},M9:function(){return Q},bm:function(){return ie},UL:function(){return le},Yd:function(){return ue},qq:function(){return z},I5:function(){return j},HG:function(){return de},DC:function(){return X},Yc:function(){return k},w$:function(){return r.w$},Vm:function(){return K},AR:function(){return H},QF:function(){return r.QF},Ut:function(){return r.Ut},kP:function(){return r.kP},wp:function(){return D},ey:function(){return B},p3:function(){return I},pO:function(){return A},VQ:function(){return r.VQ},MS:function(){return r.MS},wR:function(){return xe.wR},qJ:function(){return r.qJ},xG:function(){return d.xG},zG:function(){return r.zG},vs:function(){return r.vs},S5:function(){return d.S5},w9:function(){return r.w9},LJ:function(){return r.LJ},$c:function(){return d.nC},iJ:function(){return d.iJ},jw:function(){return r.jw},LP:function(){return d.LP},EE:function(){return d.EE},Lr:function(){return c},nV:function(){return l},wW:function(){return s},LY:function(){return xe.LY},no:function(){return d._N},Eh:function(){return oe},oe:function(){return r.oe},z2:function(){return r.z2},jI:function(){return y},MI:function(){return d.MI},$4:function(){return d.$4},NX:function(){return pe},aN:function(){return r.aN},Iu:function(){return ce},dP:function(){return d.dP},xi:function(){return xe.xi},vx:function(){return r.vx},qi:function(){return r.qi},Nh:function(){return r.Nh},ZC:function(){return r.ZC},M8:function(){return xe.M8},EY:function(){return se},XL:function(){return xe.XL},a1:function(){return d.a1}});var r=t(35244),i=t(26594),a=(0,i.PH)("errors/push/errorToState"),o=(0,i.PH)("errors/pop/errorFromState"),s=(0,i.PH)("plaid/set/token"),c=(0,i.PH)("plaid/set/data"),l=(0,i.PH)("plaid/set/error"),u=(0,i.PH)("plaid/reset/error"),d=t(95257),m=t(27970);function p(e){return{type:m.as,payload:e}}function f(e){return{type:m.BP,payload:e}}function g(e){return{type:m.Ol,payload:e}}function h(e){return{type:m.sf,payload:e}}function v(e){return{type:m.cb,payload:e}}var x=(0,i.PH)("modals/set/isEmailVerificationSentAgain"),y=(0,i.PH)("modals/set/shouldShowEmailVerificationCodeInput"),b=(0,i.PH)("modals/set/emailVerificationCodeError"),C=(0,i.PH)("modals/set/emailVerificationCode"),Z=(0,i.PH)("modals/set/emailVerificationCodeIsExpired"),E=(0,i.PH)("modals/set/isCannotProceedModalOpen"),w=(0,i.PH)("modals/set/cannotProceedCode"),N=(0,i.PH)("modals/set/isEmailVerifyModalOpen"),A=(0,i.PH)("modals/set/isVerifySuccessModalOpen"),j=(0,i.PH)("modals/set/isNotifyModalOpen"),I=(0,i.PH)("modals/set/isUtilityNotifyModalOpen"),k=(0,i.PH)("modals/set/isSessionTimeoutModalOpen"),_=(0,i.PH)("modals/set/isKeepSigningModalOpen"),T=(0,i.PH)("modals/set/isGenericModalOpen"),S=(0,i.PH)("modals/set/isAgentEmailModalOpen"),U=(0,i.PH)("modals/set/isDeleteUtilityAccountModalOpen"),P=(0,i.PH)("modals/set/isEnrollmentSuccessfullyCreatedModalOpen"),z=(0,i.PH)("modals/set/isNoAvailableUtilitiesForZipModalOpen"),L=(0,i.PH)("modals/set/isIncompleteEnrollmentFoundModalOpen"),M=(0,i.PH)("modals/set/isCompleteEnrollmentFoundModalOpen"),R=(0,i.PH)("modals/set/isCreditCheckLoadingModalOpen"),O=(0,i.PH)("modals/set/isCreditCheckFailedModalOpen"),H=(0,i.PH)("modals/set/isSystemErrorModalOpen"),D=(0,i.PH)("modals/set/isUserNotFoundModalOpen"),V=(0,i.PH)("modals/set/isAgentAppGeneralErrorModalOpen"),W=(0,i.PH)("modals/set/isDeleteLMIQualificationRowModalOpen"),F=(0,i.PH)("modals/set/isDeleteUtilityAccountRowModalOpen"),B=(0,i.PH)("modals/set/isDeleteUtilityCompanyChangeDetectedModalOpen"),Y=(0,i.PH)("modals/set/isEvidenceUploadIsMissingModalOpen"),q=(0,i.PH)("modals/set/isLMIEvidenceMissingModalOpen"),Q=(0,i.PH)("modals/set/isLMIWontProvideEvidenceModalOpen"),G=(0,i.PH)("modals/set/isILShinesSiteNotWorkingModalOpen"),K=(0,i.PH)("modals/set/isStripeInitialLoadFailed"),J=(0,i.PH)("modals/reset/reducer"),X=(0,i.PH)("docusign/set/isReloading"),$=(0,i.PH)("docusign/set/isDeclined"),ee=(0,i.PH)("docusign/set/isContractTokenLoading"),ne=(0,i.PH)("docusign/set/frameUrl"),te=(0,i.PH)("docusign/set/isAgreedToSign"),re=(0,i.PH)("docusign/set/isGettingDocusignContractLinkFailed"),ie=(0,i.PH)("utilityAccounts/set/isLoadingSelectedUtility"),ae=(0,i.PH)("utilityAccounts/set/isCurrentUtilityValid"),oe=(0,i.PH)("utilityAccounts/set/selectedAccountIndex"),se=(0,i.PH)("utilityAccounts/unset/selectedAccountIndex"),ce=(0,i.PH)("utilityAccounts/set/useAccountLinkingFlow"),le=(0,i.PH)("utilityAccounts/set/isMailingAddressCopied"),ue=(0,i.PH)("utilityAccounts/set/isMailingAddressInitialCopy"),de=(0,i.PH)("navigation/set/isPaymentMethodSkipped"),me=(0,i.PH)("externalData/reset/vid"),pe=(0,i.PH)("validation/set/stepValidationResult"),fe=(0,i.PH)("needHelpWizard/set/isWizardOpen"),ge=(0,i.PH)("needHelpWizard/set/currentPage"),he=(0,i.PH)("needHelpWizard/set/isContactUsFormBeingSubmitted"),ve=(0,i.PH)("needHelpWizard/set/contactUsSubmission"),xe=t(34322)},35244:function(e,n,t){t.d(n,{AK:function(){return c},AW:function(){return E},Bf:function(){return V},FB:function(){return D},Ge:function(){return m},JN:function(){return C},KN:function(){return l},Kz:function(){return w},LJ:function(){return S},MS:function(){return M},Nh:function(){return v},QF:function(){return h},TO:function(){return o},Ut:function(){return f},VQ:function(){return L},ZC:function(){return z},aN:function(){return u},bH:function(){return d},eZ:function(){return N},fD:function(){return k},i6:function(){return A},jw:function(){return Z},kP:function(){return p},oe:function(){return T},qJ:function(){return I},qh:function(){return b},qi:function(){return s},s0:function(){return j},tJ:function(){return _},ud:function(){return y},vs:function(){return O},vx:function(){return P},w$:function(){return g},w9:function(){return x},z2:function(){return U},zE:function(){return H},zG:function(){return R}});var r=t(14924),i=t(26594),a=t(27970);function o(e){return{type:a.w2,payload:e}}function s(e){return{type:a.Ze,payload:e}}function c(e,n){return{type:a.jC,payload:(0,r.Z)({},e,n)}}function l(e){return{type:a.uk,payload:e}}function u(e,n,t,r,i){return{type:a.dE,payload:{type:e,key:n,fileLocation:t,remoteKey:r,name:i}}}function d(e,n){return{type:a.C0,payload:{type:e,key:n}}}function m(e,n){return{type:a.a1,payload:{type:e,files:n}}}function p(e,n){return{type:a.Lc,payload:{type:e,key:n}}}function f(e,n){return{type:a.Uy,payload:{type:e,key:n}}}function g(e,n){return{type:a.qK,payload:{type:e,key:n}}}function h(e,n){return{type:a.vd,payload:{type:e,key:n}}}function v(e){return{type:a.XG,payload:e}}function x(e){return{type:a.lS,payload:e}}function y(e){return{type:a.vK,payload:e}}(0,i.PH)("wizard/reset/mailingAddress");var b=(0,i.PH)("wizard/reset/serviceAddress"),C=(0,i.PH)("wizard/reset/utilityAccountData"),Z=(0,i.PH)("wizard/set/origin"),E=(0,i.PH)("wizard/set/electricUtility"),w=(0,i.PH)("wizard/set/electricUtilityName"),N=(0,i.PH)("wizard/set/customerType"),A=(0,i.PH)("wizard/set/commercialClass"),j=(0,i.PH)("wizard/set/emailAddress"),I=(0,i.PH)("wizard/set/lmiQualifications"),k=(0,i.PH)("wizard/load/selectedUtilityAccount"),_=(0,i.PH)("wizard/reset/reducer"),T=(0,i.PH)("wizard/setServiceAddress"),S=(0,i.PH)("wizard/set/mailingAddressZipCode"),U=(0,i.PH)("wizard/set/serviceAddressZipCode"),P=(0,i.PH)("wizard/set/uuid"),z=(0,i.PH)("wizard/set/zipCode"),L=(0,i.PH)("wizard/set/lmiEligible"),M=(0,i.PH)("wizard/set/lmiProgramType"),R=(0,i.PH)("wizard/set/lmiVerificationMethod"),O=(0,i.PH)("wizard/set/lmiWontProvideEvidence"),H=(0,i.PH)("wizard/set/contactUsMethod"),D=(0,i.PH)("wizard/set/contactUsShouldTakeScreenshot"),V=(0,i.PH)("wizard/set/fingerprintVisitorId ")},56255:function(e,n,t){t.d(n,{F$:function(){return cr.F},j7:function(){return Jn.j7},KP:function(){return Jn.KP},lq:function(){return Jn.lq},NR:function(){return Jn.NR},Sb:function(){return Jn.Sb},dn:function(){return Jn.dn},aY:function(){return mr},fD:function(){return Jn.fD},OA:function(){return Jn.OA},xM:function(){return Jn.xM},bH:function(){return Jn.bH},n1:function(){return Jn.n1},OU:function(){return Jn.OU},jK:function(){return Jn.jK},$Z:function(){return Jn.$Z},qh:function(){return Jn.qh},JN:function(){return Jn.JN},wE:function(){return Jn.wE},tJ:function(){return Jn.tJ},oD:function(){return sr.oD},xQ:function(){return sr.xQ},qW:function(){return sr.qW},WO:function(){return sr.WO},fi:function(){return sr.fi},Hf:function(){return sr.Hf},Hn:function(){return sr.Hn},KN:function(){return Jn.KN},bq:function(){return Jn.bq},aC:function(){return Jn.aC},SW:function(){return Jn.SW},C6:function(){return Jn.C6},_N:function(){return Jn._N},uh:function(){return Jn.uh},Ls:function(){return Jn.Ls},QL:function(){return Jn.QL},i6:function(){return Jn.i6},zE:function(){return Jn.zE},FB:function(){return Jn.FB},n4:function(){return Jn.n4},eZ:function(){return Jn.eZ},ud:function(){return Jn.ud},Kz:function(){return Jn.Kz},s0:function(){return Jn.s0},NT:function(){return Jn.NT},Zc:function(){return Jn.Zc},fT:function(){return Jn.fT},o5:function(){return Jn.o5},Ge:function(){return Jn.Ge},Bf:function(){return Jn.Bf},wG:function(){return Jn.wG},XY:function(){return Jn.XY},xR:function(){return Jn.xR},X1:function(){return Jn.X1},oN:function(){return Jn.oN},ao:function(){return Jn.ao},iE:function(){return Jn.iE},dC:function(){return Jn.dC},gq:function(){return Jn.gq},KE:function(){return Jn.KE},gx:function(){return Jn.gx},W3:function(){return Jn.W3},JA:function(){return Jn.JA},A7:function(){return Jn.A7},yl:function(){return Jn.yl},oI:function(){return Jn.oI},I$:function(){return Jn.I$},BB:function(){return Jn.BB},n3:function(){return Jn.n3},bt:function(){return Jn.bt},ty:function(){return Jn.ty},vj:function(){return Jn.vj},oH:function(){return Jn.oH},xs:function(){return Jn.xs},fY:function(){return Jn.fY},cN:function(){return Jn.cN},h3:function(){return Jn.h3},nC:function(){return Jn.nC},c5:function(){return Jn.c5},pv:function(){return Jn.pv},AN:function(){return Jn.AN},Cr:function(){return Jn.Cr},M9:function(){return Jn.M9},bm:function(){return Jn.bm},UL:function(){return Jn.UL},Yd:function(){return Jn.Yd},qq:function(){return Jn.qq},I5:function(){return Jn.I5},HG:function(){return Jn.HG},DC:function(){return Jn.DC},Yc:function(){return Jn.Yc},w$:function(){return Jn.w$},Vm:function(){return Jn.Vm},AR:function(){return Jn.AR},QF:function(){return Jn.QF},Ut:function(){return Jn.Ut},kP:function(){return Jn.kP},wp:function(){return Jn.wp},ey:function(){return Jn.ey},p3:function(){return Jn.p3},pO:function(){return Jn.pO},VQ:function(){return Jn.VQ},MS:function(){return Jn.MS},wR:function(){return Jn.wR},qJ:function(){return Jn.qJ},xG:function(){return Jn.xG},zG:function(){return Jn.zG},vs:function(){return Jn.vs},S5:function(){return Jn.S5},w9:function(){return Jn.w9},$c:function(){return Jn.$c},iJ:function(){return Jn.iJ},jw:function(){return Jn.jw},LP:function(){return Jn.LP},EE:function(){return Jn.EE},Lr:function(){return Jn.Lr},nV:function(){return Jn.nV},wW:function(){return Jn.wW},LY:function(){return Jn.LY},no:function(){return Jn.no},Eh:function(){return Jn.Eh},oe:function(){return Jn.oe},z2:function(){return Jn.z2},jI:function(){return Jn.jI},MI:function(){return Jn.MI},$4:function(){return Jn.$4},NX:function(){return Jn.NX},aN:function(){return Jn.aN},Iu:function(){return Jn.Iu},dP:function(){return Jn.dP},xi:function(){return Jn.xi},vx:function(){return Jn.vx},qi:function(){return Jn.qi},Nh:function(){return Jn.Nh},ZC:function(){return Jn.ZC},M8:function(){return Jn.M8},EY:function(){return Jn.EY},oR:function(){return ur}});var r=t(14924),i=t(26042),a=t(69396),o=t(67294),s=t(45217),c=t(28500),l=t(53894),u=t(11201),d=t(11342),m=t(92022),p=t(20414),f=t(66699),g=t(4612),h=t(46293),v=t(47822),x=t(87994),y=t(40838),b=t(29815),C=t(82353),Z={initiatedLinking:function(e){var n=e.distco;return{subject:"Account Linking: User has initiated account linking for ".concat(n),description:"User navigated to connect utility page"}},incorrectCredentials:function(e){var n=e.username;return{subject:"Account Linking: User entered incorrect credentials",description:"User entered incorrect credentials for username ".concat(n," while connecting utility account")}},processingError:function(e){var n=e.error;return{subject:"Account Linking: The user encountered processing error",description:"The user encountered a processing error => ".concat(JSON.stringify(n))}},linkingTimeout:function(){return{subject:"Account Linking: Connect utility took longer than expected to process",description:"The system will continue processing in the background."}},selectedUA:function(){return{subject:"Account Linking: User selected UA",description:"User selected UA, processing request to load utility data"}},successfulLinking:function(){return{subject:"Account Linking: User successfully linked their account",description:"User successfully linked their account"}},userConsent:function(e){var n=e.distcoConsent;return{subject:"Account Linking: User consented to account linking",description:"User consented to following terms:\n\n".concat(C.Z.title,"\n\n").concat(C.Z.section1,"\n\n").concat(C.Z.section2).concat(n?"\n\n".concat(n):"")}},consentScreenshot:function(e){var n=e.attachments;return{subject:"Account Linking: Consent screenshoot",description:"Saving a screenshot of the consent acceptance screen",attachments:(0,b.Z)(n)}}},E=function(e,n){return Z[e]?Z[e](n):{subject:"",description:""}},w=t(44399),N=t(52273),A=t(57785),j=t(86459);function I(e){var n={method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",credentials:"same-origin",body:JSON.stringify(e)};return(0,N.rK)("".concat(N.Gy,"/").concat("v1/q/api.lead.handler"),n).catch((function(){}))}function k(e){var n={method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",credentials:"same-origin",body:JSON.stringify(e)};return(0,N.rK)("".concat(N.Gy,"/").concat("v1/q/events"),n).catch((function(){}))}var _=t(925);var T=function(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return(e.uuid||e.email)&&e.type&&e.subject&&e.description?[4,(0,_.y)()]:[2];case 1:return n=r.sent(),[4,(0,f.Ys)((function(e){return e.wizard.fingerprintVisitorId}))];case 2:return t=r.sent(),[4,k((0,i.Z)({anonymous_id:n,fingerprint_id:t},e))];case 3:return r.sent(),[2]}}))};function S(e){var n,t,r,a,o,s,c,l;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:return n=e.payload,[4,(0,f.Ys)()];case 1:return t=u.sent(),r=(0,v.Vc)(t),a=E(n.event,n.params),o=t.externalData,s=o.email,c=o.uuid,l=t.wizard.emailAddress,r!==v.Z6.SALESFORCE_FLOW?[3,3]:[4,T((0,i.Z)({uuid:c,type:y.n$.Opportinity},a))];case 2:return u.sent(),[3,5];case 3:return[4,T((0,i.Z)({email:null!==l&&void 0!==l?l:s,type:y.n$.ContactLead},a))];case 4:u.sent(),u.label=5;case 5:return[2]}}))}function U(){var e,n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,(0,f.RE)(h.hi,(0,j.Ii)(),{backgroundColor:"#fff",quality:.95,cacheBust:!0})];case 1:return e=r.sent(),[4,(0,f.RE)(x.EF.upload,{base64content:e,name:"enrollments/screenshots/consent_aggremeent_".concat((0,N.Fs)()),type:"image/jpeg"})];case 2:return n=r.sent().fileLocation,[4,(0,f.gz)((0,A.cd)(n))];case 3:return r.sent(),[3,5];case 4:return t=r.sent(),g.p.notify({message:"Failed to upload consent screenshoot",params:{errorMessage:t.message,err:t}}),[3,5];case 5:return[2]}}))}function P(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return n=e.payload,[4,U()];case 1:return r.sent(),[4,(0,f.Ys)(A.Uk)];case 2:return t=r.sent(),[4,(0,f.gz)((0,w.oz)({event:y.xy.ConsentScreenshot,params:{attachments:t}}))];case 3:return r.sent(),n.submitHandler(),[2]}}))}function z(e){var n,t,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return n=e.payload,[4,(0,f.Ys)(A.fv)];case 1:return t=a.sent(),r=t.consent_message,i=t.distribution_company_id,[4,U()];case 2:return a.sent(),[4,(0,f.gz)((0,A.fW)(!0))];case 3:return a.sent(),[4,(0,f.gz)((0,A.Bm)(i))];case 4:return a.sent(),[4,(0,f.gz)((0,w.oz)({event:y.xy.UserConsent,params:{distcoConsent:r}}))];case 5:return a.sent(),n.callback(),[2]}}))}function L(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(w.oz,S),(0,f.ib)(w.sz,U),(0,f.ib)(w.ih,P),(0,f.ib)(w.aM,z)])];case 1:return e.sent(),[2]}}))}var M=t(34322),R=t(24923),O=t(6146),H=t(68348),D=t(82119),V=t(95371);function W(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,f.Ys)(V.Yw)];case 1:return(n=i.sent())===D.Bj.yes&&(r=e.map((function(e){var n=e.supportingDocs.reduce((function(e,n){return e.push(n.fileLocation),e}),[]);return{origin:R.aP.AGENT_INVITATION,category:e.category,type:e.type,verification_method:e.verificationMethod,supporting_doc_links:n}})),t=r),[4,(0,f.gz)((0,Jn.VQ)(n))];case 2:return i.sent(),[4,(0,f.gz)((0,Jn.qJ)(t))];case 3:return i.sent(),[2]}}))}function F(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return n=e.payload,[4,(0,f.Ys)((function(e){return e.agentInvitation.LMIQualifications[n]}))];case 1:return t=r.sent().supportingDocs,[4,(0,f.gz)((0,M.wc)(n))];case 2:return r.sent(),t.map((function(e){var n=e.remoteKey;return x.Eh.delete({remoteKey:n})})),[2]}}))}var B=t(17572),Y=t(43585),q=t(1604),Q=t(74888),G=function(e){var n=e.utilityConfig,t=q.z.object({}).merge((0,Q.qF)({entityTypeTitle:"account number"}));if(n.isBillRequired){var r=q.z.object({bills:q.z.array(q.z.object({fileLocation:q.z.string(),key:q.z.string()})).nonempty({message:"Utility account requires at least one bill"})});t=t.merge(r)}return t.merge((0,Q.QH)({askMeterNumber:n.askMeterNumber,utilityDisplayName:"Utility"}))};function K(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return n=e.payload,[4,(0,f.Ys)((function(e){return e.agentInvitation.utilityAccounts[n]}))];case 1:return t=r.sent().bills,[4,(0,f.gz)((0,Jn.dn)(n))];case 2:return r.sent(),t.map((function(e){var n=e.remoteKey;return x.y9.delete({remoteKey:n})})),[2]}}))}function J(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.Ys)((function(e){return e.agentInvitation.utilityAccounts}))];case 1:return e.sent().forEach((function(e){e.bills.forEach((function(e){var n=e.remoteKey;return x.y9.delete({remoteKey:n})}))})),[4,(0,f.gz)((0,Jn.wE)())];case 2:return e.sent(),[2]}}))}function X(){var e,n,t,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return[4,(0,f.Ys)((function(e){var n;return{utilityAccounts:e.agentInvitation.utilityAccounts,currentlySelectedCompanyName:null===(n=(0,B.sC)(e))||void 0===n?void 0:n.name,relatedUtilityCompanyInfo:e.agentInvitation.relatedUtilityCompanyInfo}}))];case 1:return e=a.sent(),n=e.utilityAccounts,t=e.currentlySelectedCompanyName,r=e.relatedUtilityCompanyInfo,t===(null===r||void 0===r?void 0:r.companyName)?[2]:(i=n.some((function(e){return e.accountNumber||e.bills.length})),i?[4,(0,f.gz)((0,Jn.ey)(!0))]:[2]);case 2:return a.sent(),[2]}}))}function $(){var e,n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,f.Ys)((function(e){var n;return{relatedUtilityCompanyInfo:e.agentInvitation.relatedUtilityCompanyInfo,currentElectricCompanyName:null===(n=(0,B.sC)(e))||void 0===n?void 0:n.name,currentZipCode:e.wizard.zipCode}}))];case 1:return e=i.sent(),n=e.relatedUtilityCompanyInfo,t=e.currentElectricCompanyName,r=e.currentZipCode,n?[2]:[4,(0,f.gz)((0,Jn.LY)({companyName:t,zipCode:r}))];case 2:return i.sent(),[2]}}))}var ee=function(e){var n,t,r,a,o,s,c,l,u,d,m;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)((function(e){return{utilityCompanyCode:(0,B.bN)(e),groupedMailingAddress:(0,Y.St)(e),serviceAddressZipCode:e.wizard.zipCode}}))];case 1:return n=p.sent(),t=n.utilityCompanyCode,r=n.serviceAddressZipCode,a=n.groupedMailingAddress,o=a.mailingAddress,s=a.mailingAddressCity,c=a.mailingAddressCounty,l=a.mailingAddressState,u=a.mailingAddressUnit,d=a.mailingAddressZipCode,m=e.map((function(e,n){var a={};e.bills.forEach((function(e){a[e.key]={fileLocation:e.fileLocation}}));var m={id:e.id,utilityNumber:t,serviceBills:a,accountNumber:e.accountNumber,serviceAddressZipCode:r,meterNumber:void 0};if(e.meterNumber&&(m.meterNumber=e.meterNumber),d===r&&0===n){var p={serviceAddress:o||void 0,serviceAddressCounty:c||void 0,serviceAddressCity:s||void 0,serviceAddressState:l||void 0,serviceAddressUnit:u||void 0,serviceAddressZipCode:d||void 0};m=(0,i.Z)({},m,p)}return m})),[4,(0,f.gz)((0,Jn.lq)(m))];case 2:return p.sent(),[2]}}))},ne=t(10253),te=t(6994);var re=function(e){var n,t,r,a,o,s,c,l,u,d,m,g,h,v,x,y,b,C,Z;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return n=e.step,t=e.notifyMe,r=e.messages,a=void 0===r?[]:r,o=e.override,[4,(0,f.Ys)()];case 1:return s=p.sent(),c=s.wizard,l=c.emailAddress,u=c.leadTrackingFormData,d=c.uuid,m=c.fingerprintVisitorId,g=s.externalData,l?(h=(0,sr.Hf)(s),v=(null===o||void 0===o?void 0:o.uuid)||d,x=v?[v]:[],y=window.location.href,b=window.location.host+window.location.pathname,[4,(0,_.y)()]):[2];case 2:return C=p.sent(),Z=(0,i.Z)({email:l,step:n,notify_me:t,form:u,associated_ids:x,vid:h,messages:a.filter((function(e){var n=e.value;return void 0!==n&&"undefined"!==n})),initial_landing_page_full_url:y,ilandpage:b,ireferrer:(0,N.fX)("referrer"),lreferrer:(0,N.fX)("last_referrer"),visits:(0,N.fX)("visits"),usource:g.utm_source||(0,N.fX)("utm_source"),umedium:g.utm_medium||(0,N.fX)("utm_medium"),ucampaign:g.utm_campaign||(0,N.fX)("utm_campaign"),ucontent:g.utm_content||(0,N.fX)("utm_content"),uterm:g.utm_term||(0,N.fX)("utm_term"),iusource:(0,N.fX)("initial_utm_source"),iumedium:(0,N.fX)("initial_utm_medium"),iucampaign:(0,N.fX)("initial_utm_campaign"),iucontent:(0,N.fX)("initial_utm_content"),iuterm:(0,N.fX)("initial_utm_term"),gclid:g.gclid,fbclid:g.fbclid,anonymous_id:C,fingerprint_id:m},o),[4,I(Z)];case 3:return p.sent(),[2]}}))},ie=t(15186),ae=t(22822),oe=t(82670),se=t(35835),ce=t(25195),le=t(89923),ue=t(20663),de=t(17600),me=t(76731),pe=t(52414);function fe(e){return e?1:-1}function ge(e){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,f.gz)((0,Jn.MI)(fe(e)))];case 1:return n.sent(),[2]}}))}function he(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.M_,(function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,(0,f.RE)(ge,n)];case 1:return[2,t.sent()]}}))}))])];case 1:return e.sent(),[2]}}))}function ve(e,n){var t,r,i,a,o,s,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return t=(n||{}).shouldRetry,r=void 0!==t&&t,[4,(0,f.Ys)()];case 1:switch(i=l.sent().wizard,a=i.uuid,o=(0,ne.Z)(e,1),s=o[0],c=s.code){case ae.V9:return[3,2];case ae.$I:case ae._n:return[3,5];case ae.JB:return[3,8]}return[3,13];case 2:return[4,(0,f.gz)((0,Jn.dC)(!0))];case 3:return l.sent(),[4,(0,f.gz)((0,Jn.vj)(!0))];case 4:return l.sent(),[3,15];case 5:return[4,(0,f.gz)((0,Jn.aC)(c))];case 6:return l.sent(),[4,(0,f.gz)((0,Jn.gq)(!0))];case 7:return l.sent(),[3,15];case 8:return a?[4,(0,f.gz)((0,Jn.Yc)(!0))]:[3,10];case 9:return l.sent(),[3,12];case 10:return[4,(0,f.gz)((0,Jn.vj)(!0))];case 11:l.sent(),l.label=12;case 12:return[3,15];case 13:return[4,(0,f.gz)((0,Jn.cN)(!0))];case 14:l.sent(),g.p.notify({message:"Unhandled enrollment response error code: ".concat(c),params:{uuid:a,wizardData:i,response:e,errorCode:c}}),l.label=15;case 15:return[4,(0,f.gz)((0,Jn.no)(r))];case 16:return l.sent(),[2]}}))}function xe(e){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,f.gz)((0,Jn.S5)(e.last_step))];case 1:return n.sent(),[4,(0,f.gz)((0,Jn.iJ)(e.next_step))];case 2:return n.sent(),e.uuid?[4,(0,f.gz)((0,Jn.vx)(e.uuid))]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}function ye(e){var n,t,r,i,a,o,s,c,l,u,d,m,g,h,v;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return n=e.params,t=e.shouldUpdate,r=e.lastStepName,i=e.nextStepName,a=e.hasVerifiedEmail,o=e.manualContract,s=e.userToken,[4,(0,f.Ys)()];case 1:return c=p.sent(),l=c.externalData,u=c.enrollment,d=u.application,m=u.utilities,g=c.wizard.fingerprintVisitorId,h=function(e){var n=e.params,t=e.lastStepName,r=e.nextStepName,i=e.hasVerifiedEmail,a=e.manualContract,o=e.userToken,s=n.docusignEnabled,c=n.complete,l=n.paymentInfo,u=n.createPassword,d=n.serviceAddressState,m=n.mailingAddressState,p=n.zipCode;if(c)return"";if(r)return r;var f=d||m,g=(0,de.V)({wizard:{paymentInfo:l}}),h=(0,me.Z)({wizard:{createPassword:u}}),v=(0,le.TE)({wizard:{zipCode:p,serviceAddressState:f}}),x=(0,ue.ue)({docusignEnabled:s,hasVerifiedEmail:i,manualContract:a,userToken:o,showPaymentStep:g,passwordStepDisabled:h,shouldShowCheckAvailabilityStep:!0,shouldVerifyServiceAvailability:v});return(0,ue.PI)(t,x)}({params:n,lastStepName:r,nextStepName:i,hasVerifiedEmail:a,manualContract:o,userToken:s}),[4,(0,f.RE)(te.eo,{params:n,application:d,externalData:l,enrollmentUtilities:m,shouldUpdate:t,nextStepName:h,lastStepName:r,userToken:s,fingerprintId:g})];case 2:return[4,xe(v=p.sent())];case 3:return p.sent(),[2,v]}}))}function be(e){var n,t,r,o,s,c,l,u,d,m,g,h,v,x,y,b,C,Z,E;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return t=p.sent(),r=t.wizard,o=t.enrollment,s=o.hasVerifiedEmail,c=o.manualContract,l=o.userToken,u=o.wizardStep,d=r.complete,m=r.uuid,g=(0,le.GQ)(t),h=null===(n=g[u])||void 0===n?void 0:n.stepName,v=e.lastStep,x=e.override,y=null===x||void 0===x?void 0:x.complete,[4,(0,f.RE)(ge,!0)];case 2:return p.sent(),b=h!==R.l0.PERSONAL_INFO&&h!==R.l0.CHECK_AVAILABILITY,y?[4,(0,f.gz)((0,ce.M)(y))]:[3,4];case 3:p.sent(),p.label=4;case 4:if((d&&!y||!m)&&(b=!1),C={},!b)return[3,18];Z=!s&&!d&&!c&&v===R.l0.UTILITY_INFO,p.label=5;case 5:return p.trys.push([5,15,,18]),[4,(0,f.RE)(ye,{params:(0,a.Z)((0,i.Z)({},r,null!==x&&void 0!==x?x:{}),{sendVerifyEmail:Z,uuid:m}),shouldUpdate:!0,lastStepName:v,hasVerifiedEmail:s,manualContract:c,userToken:l})];case 6:return C=p.sent(),(0,oe.Z)(C,Error)?[4,(0,f.gz)((0,pe.zj)(C))]:[3,9];case 7:return p.sent(),[4,(0,f.RE)(ge,!1)];case 8:return p.sent(),[2,void 0];case 9:return Array.isArray(C)?[4,(0,f.RE)(ve,C,{shouldRetry:!0})]:[3,12];case 10:return p.sent(),[4,(0,f.RE)(ge,!1)];case 11:return p.sent(),[2,void 0];case 12:return y?[4,(0,f.gz)((0,pe.s1)({name:"complete",value:!0}))]:[3,14];case 13:p.sent(),p.label=14;case 14:return[3,18];case 15:return E=p.sent(),[4,(0,f.gz)((0,pe.zj)(E))];case 16:return p.sent(),[4,(0,f.RE)(ge,!1)];case 17:return p.sent(),[2,void 0];case 18:return[4,(0,f.RE)(ge,!1)];case 19:return p.sent(),[2,C]}}))}function Ce(e){var n,t,r;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return n=e.payload,t=n.lastStep,r=n.override,[4,(0,f.RE)(be,{lastStep:t,override:(0,a.Z)((0,i.Z)({},r),{complete:!0})})];case 1:return o.sent(),[4,(0,f.gz)((0,pe.N$)())];case 2:return o.sent(),[2]}}))}function Ze(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return n=e.payload,[4,(0,f.Ys)((function(e){return e.enrollment.utilities.filter((function(e){return e.accountNumber}))}))];case 1:return t=i.sent(),r=(0,se.default)(t,n,(function(e,n){var t=!e.accountNumber||!n.accountNumber||e.accountNumber===n.accountNumber,r=!e.meterNumber&&!n.meterNumber||e.meterNumber===n.meterNumber,i=!e.serviceAddressUnit&&!n.serviceAddressUnit||e.serviceAddressUnit===n.serviceAddressUnit;return e.serviceAddress===n.serviceAddress&&i&&t&&r}),!0),[4,(0,f.gz)((0,Jn.lq)(r))];case 2:return i.sent(),[2]}}))}function Ee(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.rd,Ce),(0,f.ib)(pe.AC,Ze)])];case 1:return e.sent(),[2]}}))}var we=t(49609);function Ne(e,n){var t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:switch(e){case ae.V9:return[3,1];case ae.JB:return[3,3];case ae.QM:case ae._Q:return[3,5]}return[3,7];case 1:return[4,(0,f.gz)((0,Jn.KE)(!0))];case 2:return i.sent(),[3,10];case 3:return[4,(0,f.gz)((0,Jn.pv)(!0))];case 4:return i.sent(),[3,10];case 5:return[4,(0,f.gz)((0,Jn.oN)({active:!0,errorMessage:n.message}))];case 6:return i.sent(),[3,10];case 7:return[4,(0,f.Ys)((function(e){return e.wizard}))];case 8:return t=i.sent(),r=t.uuid,[4,(0,f.gz)((0,Jn.cN)(!0))];case 9:i.sent(),g.p.notify({message:"Unhandled enrollment response error code: ".concat(e," (agent-invitation)"),params:{application:"agent-invitation",uuid:r,wizardData:t,response:n,errorCode:e}}),i.label=10;case 10:return[2]}}))}function Ae(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return(n=e[0].code)!==ae.V9&&n!==ae.JB?[2]:[4,(0,f.gz)((0,Jn.pv)(!1))];case 1:return t.sent(),[4,(0,f.gz)((0,Jn.KE)(!1))];case 2:return t.sent(),[4,(0,f.gz)((0,Jn.oH)(!0))];case 3:return t.sent(),[2]}}))}function je(){var e,n,t,r,i,a,o,s,c,l;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:return[4,(0,f.Ys)((function(e){return[(0,sr.Hf)(e),e.wizard,e.utilityCompanies.companies,e.wizard.fingerprintVisitorId]}))];case 1:return e=ne.Z.apply(void 0,[u.sent(),4]),n=e[0],t=e[1],r=e[2],i=e[3],a=t.zipCode,o=t.electricUtilityName,s=t.customerType,c=t.commercialClass,[4,(0,f.RE)(te.uD,{zipCode:a,vid:n,utilityName:o,customerType:s,commercialClass:c,utilityCompanies:r,fingerprintId:i})];case 2:return l=u.sent(),[4,(0,f.gz)((0,M.nn)(l))];case 3:return u.sent(),l.valid?[3,6]:[4,(0,f.gz)((0,Jn.I5)(!0))];case 4:return u.sent(),[4,(0,f.gz)((0,M.n0)(!1))];case 5:u.sent(),u.label=6;case 6:return[4,(0,f.gz)((0,we.ij)())];case 7:return u.sent(),[2]}}))}function Ie(){var e,n,t,r,i,a,o,s,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,6,,10]),[4,(0,f.RE)(je)];case 1:return l.sent(),[4,(0,f.Ys)((function(e){return[e.agentInvitation.isUtilityValid,(0,sr.Hf)(e),e.wizard]}))];case 2:return e=ne.Z.apply(void 0,[l.sent(),3]),n=e[0],t=e[1],r=e[2],n?(i=r.emailAddress,a=r.mailingAddressZipCode,o={emailAddress:i,mailingAddressZipCode:a,origin:R.aP.AGENT_INVITATION,sendVerifyEmail:!1,vid:t},[4,(0,f.RE)(ye,{params:o,lastStepName:R.zo.AGENT_INITIATED,nextStepName:R.zo.AGENT_INVITED})]):[2];case 3:return s=l.sent(),[4,re({step:y.hq})];case 4:if(l.sent(),!s.uuid)throw s[0]||s;return[4,(0,f.gz)((0,M._F)(s))];case 5:return l.sent(),[3,10];case 6:return c=l.sent(),[4,(0,f.gz)((0,M.TL)(c))];case 7:return l.sent(),(null===c||void 0===c?void 0:c.code)?[4,(0,f.RE)(Ne,c.code,c)]:[3,9];case 8:l.sent(),l.label=9;case 9:return[3,10];case 10:return[2]}}))}function ke(e){var n,t,r,o,s,c,l,u,d,m,g,h,v;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return n=e.enrollmentUuid,t=e.enrollmentStateValues,r=e.lastStepName,o=e.nextStepName,s=e.sendVerifyEmail,c=void 0===s||s,[4,(0,f.Ys)()];case 1:return l=p.sent(),u=l.wizard.mailingAddressZipCode,d=(0,sr.Hf)(l),m=(0,sr.oD)(l),g=(0,V.OA)(l),h=(0,a.Z)((0,i.Z)({mailingAddressZipCode:u},t,g),{agentName:m,uuid:n,origin:R.aP.AGENT_INVITATION,sendVerifyEmail:c,vid:d}),[4,(0,f.RE)(ye,{params:h,shouldUpdate:!0,lastStepName:r,nextStepName:o})];case 2:if((v=p.sent()).uuid)return[2,v];throw v[0]||v}}))}function _e(e){var n,t,r,i,a,o,s,c,l,u,d,g,h,v,x,b,C;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:n=e.payload,p.label=1;case 1:return p.trys.push([1,24,,28]),[4,(0,f.Ys)(V.J5)];case 2:return t=p.sent(),[4,(0,f.Ys)(V.n8)];case 3:return r=p.sent(),[4,(0,f.Ys)(V.Yw)];case 4:return i=p.sent(),[4,(0,f.Ys)(V.Bp)];case 5:return a=p.sent(),[4,(0,f.Ys)(V.Ss)];case 6:return o=p.sent(),[4,(0,f.Ys)(V.Ps)];case 7:return s=p.sent(),c=function(e){var n=e.isLMIEnabled,t=e.lmiEligible,r=e.lmiQualifications,i=[],a=!1;return n&&t===D.Bj.yes&&r.forEach((function(e,n){var t=(0,H.d)().safeParse(e);!1===t.success?i.push({data:(0,O.cO)(t.error),index:n}):0===e.supportingDocs.length&&e.category===D.e3.program&&(a=!0)})),{lmiQualificationsValid:!i.length,lmiQualificationsValidationErrors:i,isAtLeastOneRowMissingEvidenceUpload:a}}({isLMIEnabled:r,lmiEligible:i,lmiQualifications:a}),l=c.lmiQualificationsValid,u=c.lmiQualificationsValidationErrors,d=c.isAtLeastOneRowMissingEvidenceUpload,g=function(e){var n=e.utilityAccounts,t=e.utilityConfig,r=[];return n.forEach((function(e,n){var i=G({utilityConfig:t}).safeParse(e);!1===i.success&&r.push({data:(0,O.cO)(i.error),index:n})})),{utilityAccountsValid:!r.length,utilityAccountsValidationErrors:r}}({utilityAccounts:s,utilityConfig:o}),h=g.utilityAccountsValid,v=g.utilityAccountsValidationErrors,l?[3,9]:[4,(0,f.$6)(u.map((function(e){return(0,f.gz)((0,M.TR)(e))})))];case 8:p.sent(),p.label=9;case 9:return h?[3,11]:[4,(0,f.$6)(v.map((function(e){return(0,f.gz)((0,M.FS)(e))})))];case 10:p.sent(),p.label=11;case 11:return l&&h?[3,13]:[4,(0,f.gz)((0,M.FO)(""))];case 12:return p.sent(),[2];case 13:return d?[4,(0,f.gz)((0,Jn.fY)(!0))]:[3,16];case 14:return p.sent(),[4,(0,f.qn)([we.Vj,M.NR])];case 15:if(p.sent().type===M.NR.type)return[2];p.label=16;case 16:return r?[4,W(a)]:[3,18];case 17:p.sent(),p.label=18;case 18:return[4,ee(s)];case 19:return p.sent(),x=(0,m.M)(n),[4,ke({enrollmentUuid:t,enrollmentStateValues:x,lastStepName:R.zo.AGENT_INVITED,nextStepName:R.l0.PERSONAL_INFO})];case 20:return b=p.sent(),[4,(0,f.gz)((0,M.wg)(b))];case 21:return p.sent(),[4,(0,f.gz)((0,Jn.oH)(!0))];case 22:return p.sent(),[4,re({step:y._I})];case 23:return p.sent(),[3,28];case 24:return C=p.sent(),[4,(0,f.gz)((0,M.FO)(C))];case 25:return p.sent(),(null===C||void 0===C?void 0:C.code)?[4,(0,f.RE)(Ne,C.code,C)]:[3,27];case 26:p.sent(),p.label=27;case 27:return[3,28];case 28:return[2]}}))}function Te(){var e,n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,,6,8]),[4,(0,f.gz)((0,M.X1)(!0))];case 1:return i.sent(),[4,(0,f.Ys)((function(e){return e.wizard.emailAddress}))];case 2:return e=i.sent(),n={emailAddress:e,origin:R.aP.AGENT_INVITATION,sendVerifyEmail:!0},t=R.zo.AGENT_INVITED,[4,(0,f.RE)(ye,{params:n,lastStepName:t,nextStepName:R.l0.PERSONAL_INFO})];case 3:return r=i.sent(),[4,(0,f.RE)(Ae,r)];case 4:return i.sent(),[4,re({step:y._I})];case 5:return i.sent(),[3,8];case 6:return[4,(0,f.gz)((0,M.X1)(!1))];case 7:return i.sent(),[7];case 8:return[2]}}))}function Se(){var e,n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,,6,8]),[4,(0,f.gz)((0,M.X1)(!0))];case 1:return i.sent(),[4,(0,f.Ys)((function(e){return e.wizard.emailAddress}))];case 2:return e=i.sent(),n={emailAddress:e,origin:R.aP.AGENT_INVITATION,sendVerifyEmail:!1,create_new_on_conflict:!0},t=R.zo.AGENT_INVITED,[4,(0,f.RE)(ye,{params:n,lastStepName:t,nextStepName:R.l0.PERSONAL_INFO})];case 3:return r=i.sent(),[4,(0,f.RE)(Ae,r)];case 4:return i.sent(),[4,re({step:y._I})];case 5:return i.sent(),[3,8];case 6:return[4,(0,f.gz)((0,M.X1)(!1))];case 7:return i.sent(),[7];case 8:return[2]}}))}function Ue(e,n){var t,r,i,a,o,s,c,l,u;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return t=n.enrollmentUuid,r=n.zipCode,i=n.vid,a=n.customerType,o=n.utilityName,s=n.commercialClass,[4,(0,f.Ys)((function(e){return e.utilityCompanies.companies}))];case 1:switch(c=d.sent(),e){case ie.b.Pending:return[3,2];case ie.b.Success:return[3,5];case ie.b.Failed:return[3,15]}return[3,18];case 2:return[4,(0,f.RE)(te.Sj,t)];case 3:return l=d.sent(),[4,(0,f.RE)(Ue,l.Status,n)];case 4:return d.sent(),[3,21];case 5:return[4,(0,f.Ys)((function(e){return e.wizard.fingerprintVisitorId}))];case 6:return u=d.sent(),[4,(0,te.uD)({zipCode:r,vid:i,utilityName:o,customerType:a,uuid:t,checkCredit:!0,commercialClass:s,utilityCompanies:c,fingerprintId:u})];case 7:return d.sent().valid?[4,(0,f.gz)((0,M.xk)())]:[3,10];case 8:return d.sent(),[4,re({step:y.su})];case 9:return d.sent(),[3,14];case 10:return[4,(0,f.gz)((0,M.EK)())];case 11:return d.sent(),[4,(0,f.gz)((0,Jn.A7)(!0))];case 12:return d.sent(),[4,re({step:y.cc})];case 13:d.sent(),d.label=14;case 14:return[3,21];case 15:return[4,(0,f.gz)((0,Jn.wp)(!0))];case 16:return d.sent(),[4,re({step:y.BD})];case 17:return d.sent(),[3,21];case 18:return[4,re({step:y.cc})];case 19:return d.sent(),[4,(0,f.gz)((0,Jn.cN)(!0))];case 20:d.sent(),g.p.notify({message:'Unhandled credit check status: "'.concat(e,'" (agent-invitation)'),params:{application:"agent-invitation",uuid:t,status:e}}),d.label=21;case 21:return[2]}}))}function Pe(e){var n,t,r,i,a,o,s,c,l,u,d;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return p.trys.push([0,20,22,24]),[4,(0,f.gz)((0,Jn.yl)(!0))];case 1:return p.sent(),[4,re({step:y.mh})];case 2:return p.sent(),[4,(0,f.Ys)((function(e){var n;return[null===(n=e.agentInvitation.enrollment)||void 0===n?void 0:n.uuid,e.wizard.electricUtilityName]}))];case 3:n=ne.Z.apply(void 0,[p.sent(),2]),t=n[0],r=n[1],i=(0,m.M)(e),p.label=4;case 4:return p.trys.push([4,6,,11]),[4,ke({enrollmentUuid:t,enrollmentStateValues:i,lastStepName:R.zo.AGENT_CREDIT_CHECK,nextStepName:R.zo.AGENT_INVITED,sendVerifyEmail:!1})];case 5:return p.sent(),[3,11];case 6:return a=p.sent(),[4,re({step:y.cc})];case 7:return p.sent(),[4,(0,f.gz)((0,M.Sz)(ie.i.EnrollmentUpdateError))];case 8:return p.sent(),(null===a||void 0===a?void 0:a.code)?[4,(0,f.RE)(Ne,a.code,a)]:[3,10];case 9:return p.sent(),[2];case 10:throw a;case 11:return[4,(0,te.xX)(t)];case 12:return o=p.sent(),(s=o.Status)?[3,18]:105!==o[0].code?[3,14]:[4,(0,f.gz)((0,Jn.wp)(!0))];case 13:return p.sent(),[3,16];case 14:return[4,(0,f.gz)((0,Jn.AR)(!0))];case 15:p.sent(),p.label=16;case 16:return[4,re({step:y.cc})];case 17:return p.sent(),[2];case 18:return c=i.zipCode,l=i.vid,u=i.customerType,d=i.commercialClass,[4,(0,f.RE)(Ue,s,{customerType:u,commercialClass:d,enrollmentUuid:t,vid:l,zipCode:c,utilityName:r})];case 19:return p.sent(),[3,24];case 20:return p.sent(),[4,(0,f.gz)((0,Jn.AR)(!0))];case 21:return p.sent(),[3,24];case 22:return[4,(0,f.gz)((0,Jn.yl)(!1))];case 23:return p.sent(),[7];case 24:return[2]}}))}var ze=function(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return n=e.payload,[4,(0,f.rM)(Pe,n)];case 1:return t=r.sent(),[4,(0,f.ib)(we.jc,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.al)(t)];case 1:return e.sent(),[2]}}))}))];case 2:return r.sent(),[2]}}))};var Le=function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(M.Sb,Ie),(0,f.ib)(M.XL,_e),(0,f.ib)(we.c2,Te),(0,f.ib)(M.M8,je),(0,f.ib)(we.wR,Se),(0,f.ib)(we.f3,ze),(0,f.ib)(we.wl,F),(0,f.ib)(we.Yv,K),(0,f.ib)(we.ij,X),(0,f.ib)(we.tA,J),(0,f.ib)(M.xi,$)])];case 1:return e.sent(),[2]}}))},Me=t(47568);function Re(e,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,Me.Z)((function(e,n){var t,r,o,s,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:t=(0,a.Z)((0,i.Z)({},n),{bills:null}),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,(0,N.rK)("/api/docusign/embedded_link",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({baseUrl:"".concat(window.location.origin,"/?docusign=step"),contractToken:e,params:t})})];case 2:return(r=l.sent()).ok?[4,r.json()]:[3,4];case 3:if(s=l.sent(),(null===(o=s.docusign_embedded_link)||void 0===o?void 0:o.length)>0)return[2,s];throw new Error("Invalid contract link received");case 4:throw new Error("Bad response from server: ".concat(r.statusText," (").concat(r.status,")"));case 5:return c=l.sent(),g.p.notify({message:"Failed to process request to get docusign link: ".concat(c),params:{customer_email:n.email,contract_id:n.contract_id,contract_token:n.contract_token}}),[2,c];case 6:return[2]}}))}))).apply(this,arguments)}function He(e){return De.apply(this,arguments)}function De(){return(De=(0,Me.Z)((function(e){var n,t,r;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:n=(0,a.Z)((0,i.Z)({},e),{bills:null}),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(0,N.rK)("/api/docusign/envelope",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({params:n})})];case 2:return(t=o.sent()).ok?[4,t.json()]:[3,4];case 3:return[2,o.sent()];case 4:throw new Error("Bad response from server: ".concat(t.statusText," (").concat(t.status,")"));case 5:return r=o.sent(),g.p.notify({message:"Failed to process request to get docusign contract token: ".concat(r),params:{customer_email:e.email,contract_id:e.contract_id}}),[2,r];case 6:return[2]}}))}))).apply(this,arguments)}function Ve(e){return We.apply(this,arguments)}function We(){return(We=(0,Me.Z)((function(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,(0,N.rK)("/api/docusign/contract_token",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({params:e})})];case 1:return(n=r.sent()).ok?[4,n.json()]:[3,3];case 2:return[2,r.sent()];case 3:throw new Error("Bad response from server: ".concat(n.statusText," (").concat(n.status,")"));case 4:return t=r.sent(),g.p.notify({message:"Failed to process request to get docusign contract token: ".concat(t),params:{contract_id:e.contract_id}}),[2,t];case 5:return[2]}}))}))).apply(this,arguments)}var Fe=t(53196);function Be(e,n){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,f.gz)((0,Jn.DC)(!0))];case 1:return t.sent(),[4,n(e)];case 2:return t.sent(),[4,(0,f.gz)((0,Jn.DC)(!1))];case 3:return t.sent(),[2]}}))}function Ye(e,n){var t,r,i,a,o,s;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return[4,(0,f.Ys)()];case 1:if(t=c.sent(),r=t.docusign,i=r.frameUrl,a=r.isGettingDocusignContractLinkFailed,!e||i)return[2];c.label=2;case 2:return c.trys.push([2,14,,16]),[4,(0,f.RE)(Re,e,(0,Fe.q)(t.wizard))];case 3:return o=c.sent(),(0,oe.Z)(o,Error)?a?[4,(0,f.gz)((0,pe.zj)(o))]:[3,5]:[3,10];case 4:return c.sent(),[3,9];case 5:return[4,(0,f.gz)((0,Jn.h3)(!0))];case 6:return c.sent(),[4,(0,f.gz)((0,pe.s1)({name:"contractToken",value:null}))];case 7:return c.sent(),[4,(0,f.RE)(Be,!0,n)];case 8:c.sent(),c.label=9;case 9:return[3,12];case 10:return[4,(0,f.gz)((0,Jn.wG)(o.docusign_embedded_link))];case 11:c.sent(),c.label=12;case 12:return[4,(0,f.gz)((0,Jn.AN)(!1))];case 13:return c.sent(),[3,16];case 14:return s=c.sent(),[4,(0,f.gz)((0,pe.zj)(s))];case 15:return c.sent(),[3,16];case 16:return[2]}}))}function qe(e,n){var t,r,i=arguments;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return(t=i.length>2&&void 0!==i[2]?i[2]:0)>300?[4,(0,f.gz)((0,pe.zj)(new Error("Exceeded maximum number of tries to get docusign contract_token")))]:[3,2];case 1:case 4:return a.sent(),[2,void 0];case 2:return[4,(0,f.RE)(Ve,{contract_id:e,email:n})];case 3:return r=a.sent(),(0,oe.Z)(r,Error)?[4,(0,f.gz)((0,pe.zj)(r))]:[3,5];case 5:return(null===r||void 0===r?void 0:r.contract_token)?[3,8]:[4,(0,f.gw)(3e3)];case 6:return a.sent(),[4,(0,f.RE)(qe,e,n,t+1)];case 7:return[2,a.sent()];case 8:return[2,r]}}))}function Qe(){var e,n,t,r,o,s,c,l,u,d=arguments;return(0,p.__generator)(this,(function(m){switch(m.label){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:0,[4,(0,f.Ys)()];case 1:return n=m.sent(),t=n.wizard,r=n.enrollment.utilities,o=n.wizard.uuid,[4,(0,f.gz)((0,Jn.JA)(!0))];case 2:return m.sent(),s=(0,Fe.q)(t),[4,(0,f.RE)(He,(0,a.Z)((0,i.Z)({},s),{disclosures_enrollment_uuid:o,utilities:r}))];case 3:return c=m.sent(),(0,oe.Z)(c,Error)?[4,(0,f.gz)((0,pe.zj)(c))]:[3,5];case 4:case 7:case 9:return m.sent(),[2,void 0];case 5:return 117!==(null===c||void 0===c?void 0:c.code)?[3,13]:"IL"===(null===(l=r[0])||void 0===l?void 0:l.serviceAddressState)?[4,(0,te.eF)()]:[3,8];case 6:return m.sent().working?[3,8]:[4,(0,f.gz)((0,Jn.c5)(!0))];case 8:return e>100?[4,(0,f.gz)((0,pe.zj)(new Error("Exceeded maximum number of tries to initiate generation of docusign contract_token")))]:[3,10];case 10:return[4,(0,f.gw)(3e3)];case 11:return m.sent(),[4,(0,f.RE)(Qe,e+1)];case 12:return[2,m.sent()];case 13:return c.pending?[4,(0,f.RE)(qe,s.contract_id,s.email)]:[3,16];case 14:return u=m.sent(),[4,(0,f.gz)((0,Jn.JA)(!1))];case 15:return m.sent(),[2,u];case 16:return[4,(0,f.gz)((0,Jn.JA)(!1))];case 17:return m.sent(),[2,c]}}))}function Ge(){var e,n,t,r,o,s,c,l,u,d,m,g,h,v,x=arguments;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return e=x.length>0&&void 0!==x[0]&&x[0],[4,(0,f.Ys)()];case 1:return n=p.sent(),t=n.wizard,r=n.enrollment,o=r.hasVerifiedEmail,s=r.manualContract,c=r.userToken,l=r.nextStepName,u=n.wizard.contractToken,d=n.docusign.isContractTokenLoading,m=(0,me.l)(n),d?[2]:u&&!e?[3,10]:[4,(0,f.RE)(Qe)];case 2:return(null===(g=p.sent())||void 0===g?void 0:g.contract_token)?(h=g.contract_token,[4,(0,f.RE)(Ye,h,Ge)]):[3,10];case 3:return p.sent(),[4,(0,f.RE)(ye,{params:(0,a.Z)((0,i.Z)({},t),{contractToken:h}),shouldUpdate:!0,lastStepName:m?R.l0.CONFIRM_EMAIL:R.l0.CREATE_YOUR_PASSWORD,nextStepName:l,hasVerifiedEmail:o,manualContract:s,userToken:c})];case 4:return v=p.sent(),(0,oe.Z)(v,Error)?[4,(0,f.gz)((0,pe.zj)(v))]:[3,6];case 5:return p.sent(),[2];case 6:return Array.isArray(v)?[4,(0,f.RE)(ve,v,{shouldRetry:!0})]:[3,8];case 7:p.sent(),p.label=8;case 8:return[4,(0,f.gz)((0,pe.s1)({name:"contractToken",value:h}))];case 9:p.sent(),p.label=10;case 10:return[2]}}))}function Ke(){var e,n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,f.Ys)()];case 1:return e=t.sent(),n=e.wizard.contractToken,e.docusign.isContractTokenLoading||!n?[3,3]:[4,(0,f.RE)(Ye,n,Ge)];case 2:case 4:return t.sent(),[2];case 3:return[4,Ge()]}}))}function Je(e){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,Be(e,Ge)];case 1:return n.sent(),[2]}}))}function Xe(e){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,f.gz)((0,Jn.I$)(!1))];case 1:return n.sent(),[4,Be(e,Ge)];case 2:return n.sent(),[4,(0,f.gz)((0,Jn.AN)(!1))];case 3:return n.sent(),[2]}}))}function $e(){var e,n,t,r,o,s;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return[4,(0,f.Ys)()];case 1:return e=c.sent(),n=e.enrollment,t=n.manualContract,r=n.userToken,o=n.hasVerifiedEmail,s=e.wizard,[4,(0,f.gz)((0,Jn.wG)(null))];case 2:return c.sent(),[4,(0,f.gz)((0,pe.s1)({name:"contractToken",value:""}))];case 3:return c.sent(),[4,(0,f.RE)(ye,{params:(0,a.Z)((0,i.Z)({},s),{contractToken:""}),shouldUpdate:!0,hasVerifiedEmail:o,manualContract:t,userToken:r})];case 4:return c.sent(),[2]}}))}function en(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.E9,(function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,(0,f.RE)(Je,n)];case 1:return[2,t.sent()]}}))})),(0,f.ib)(pe.P6,(function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,(0,f.RE)(Xe,n)];case 1:return[2,t.sent()]}}))})),(0,f.ib)(pe.a7,$e)])];case 1:return e.sent(),[2]}}))}var nn=t(20165),tn=t(48392),rn=t(57062),an=t(83197),on=function(e){return function(n){var t=e.accountLinking;n((0,Jn.qi)(e)),n((0,A.ur)(t))}},sn=t(78280),cn=t(69833),ln=t(18420);function un(){var e,n,t,r,o;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return[4,(0,f.Ys)((function(e){return e}))];case 1:return e=s.sent(),n=e.enrollment.utilities,t=e.wizard.billUploadRequired,r=n.map((function(e){if(e.accountLinked)return{success:!0,error:null,data:null};var n=(0,ln.L$)(e),r=(0,ln.gs)(e),o=(0,cn.n)(e.utilityId).askMeterNumber,s=(0,O.hC)(e.serviceAddressState);return(0,sn.k)({isSCE:n,isIL:r,askMeterNumber:o,billUploadRequired:t,isCountyRequired:s}).safeParse(function(e){var n=e.serviceBills&&Object.keys(e.serviceBills).length?e.serviceBills:void 0;return(0,a.Z)((0,i.Z)({},e),{serviceBills:n})}(e))})),o=!r.some((function(e){return!e.success})),[2,{isValid:o,result:r}]}}))}var dn=t(87371),mn=(0,r.Z)({},R.l0.UTILITY_INFO,un);function pn(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return(n=mn[e])?[4,n()]:[3,2];case 1:return t=i.sent(),[3,3];case 2:t=rn.D,i.label=3;case 3:return r={stepName:e,validation:t},[4,(0,f.gz)((0,Jn.NX)(r))];case 4:return i.sent(),[2,r]}}))}function fn(){var e,n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,f.Ys)()];case 1:return e=r.sent(),n=e.enrollment.wizardStep,t=(0,le.GQ)(e),[4,pn(an.F[t[n].stepName].name)];case 2:return r.sent(),[2]}}))}function gn(){var e,n,t,r,i,a;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,f.Ys)()];case 1:return e=o.sent(),n=e.enrollment.wizardStep,t=(0,le.GQ)(e),r=t.slice(0,n+1).map((function(e){return an.F[e.stepName].name})),[4,(0,f.$6)(r.map((function(e){return(0,f.RE)(pn,e)})))];case 2:return i=o.sent(),(a=i.find((function(e){var n;return!(null===(n=e.validation)||void 0===n?void 0:n.isValid)})))?[2,a.stepName]:[2,void 0]}}))}function hn(e){var n,t,r,i,a,o,s,c,l,u,d,m,g,h,v,x,y;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return n=e.account_linking,t=e.bill_upload_required,r=e.contract_details,i=r.docusign_enabled,a=r.fixed_percent_discount,o=r.payment_method,s=r.skip_contract,c=e.create_password,l=e.distribution_co_id,u=e.final_distribution_co_id,d=e.lmi_qualifications,m=e.manual_contract,g=e.payment_info,h=e.icsa,v=e.tpv_delay_minutes,x=e.tpv_profile,y=e.workflow_id,[4,(0,f.gz)((0,Jn.$c)(m))];case 1:return p.sent(),[4,(0,f.gz)((0,Jn.xG)(d))];case 2:return p.sent(),[4,(0,f.gz)(on({accountLinking:n,billUploadRequired:t,docusignEnabled:i,fixedPercentDiscount:a,paymentMethod:o,skipContract:s,createPassword:c,distributionCompanyId:l,finalDistributionCompanyId:u,paymentInfo:g,icsa:h,tpvDelayMinutes:v,tpvProfile:x,workflowId:y}))];case 3:return p.sent(),[2]}}))}function vn(){var e,n,t,r,i,a,o,s,c,l,u;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return[4,(0,f.Ys)()];case 1:e=d.sent(),n=(0,B.sC)(e),t=(0,sr.Hf)(e),r=e.wizard,i=r.uuid,a=r.zipCode,o=r.customerType,s=r.commercialClass,c=e.utilityCompanies.companies,d.label=2;case 2:return d.trys.push([2,9,,10]),[4,(0,te.uD)({zipCode:a,vid:t,utilityName:null===n||void 0===n?void 0:n.name,uuid:i,customerType:o,commercialClass:s,utilityCompanies:c})];case 3:return(l=d.sent()).valid?[3,7]:[4,(0,f.gz)((0,Jn.Nh)(+R.l0.CHECK_AVAILABILITY))];case 4:return d.sent(),[4,(0,f.qn)(Jn.I5)];case 5:return d.sent(),[4,(0,f.gz)((0,Jn.I5)(!0))];case 6:return d.sent(),[2];case 7:return[4,(0,f.RE)(hn,l)];case 8:return d.sent(),[3,10];case 9:return u=d.sent(),g.p.notify({message:u.message,trigger:"checkValidityOnCustomerTypeChangeSaga"}),[3,10];case 10:return[2]}}))}function xn(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.gE,fn),(0,f.ib)(dn.f,vn)])];case 1:return e.sent(),[2]}}))}function yn(e){return bn.apply(this,arguments)}function bn(){return(bn=(0,Me.Z)((function(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return(0,O.mf)(e)?(n="".concat(N.Gy,"/").concat(N.iA,"/").concat(e),[4,(0,N.rK)(n)]):[2,null];case 1:if(!(t=i.sent()).ok)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.json()];case 3:return[2,i.sent()];case 4:return r=i.sent(),g.p.notify({message:"Failed to parse JSON response from utilities API",params:{url:n,err:r,zipCode:e}}),[2,r];case 5:throw new Error("Bad response from utilities API: ".concat(t.statusText," (").concat(t.status,")"))}}))}))).apply(this,arguments)}var Cn=[R.l0.SIGN_DISCLOSURES];function Zn(){var e,n,t,r,a,o,s,c,l,u;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return[4,(0,f.RE)(ge,!0)];case 1:return d.sent(),[4,(0,f.Ys)()];case 2:return e=d.sent(),n=e.enrollment,t=n.lastStepName,r=n.nextStepName,a=n.hasVerifiedEmail,o=n.manualContract,s=n.userToken,c=r===R.l0.CONFIRM_EMAIL?r:t,Cn.includes(r)?[3,5]:[4,(0,f.RE)(ye,{params:(0,i.Z)({},e.wizard),shouldUpdate:!0,lastStepName:c,nextStepName:r,hasVerifiedEmail:a,manualContract:o,userToken:s})];case 3:return l=d.sent(),(0,oe.Z)(l,Error)||(null===l||void 0===l?void 0:l.code)?[4,(0,f.gz)((0,pe.zj)(l))]:[3,5];case 4:return d.sent(),[2];case 5:return[4,(0,f.RE)(yt,(null===l||void 0===l?void 0:l.next_step)||r||R.l0.CONNECT_UTILITY_ACCOUNT||R.l0.CHECK_AVAILABILITY)];case 6:return d.sent(),[4,gn()];case 7:return(u=d.sent())?[4,yt(u)]:[3,9];case 8:d.sent(),d.label=9;case 9:return[4,(0,f.RE)(ge,!1)];case 10:return d.sent(),[4,(0,f.gz)((0,Jn.vj)(!1))];case 11:return d.sent(),[4,(0,f.gz)((0,Jn.pO)(!1))];case 12:return d.sent(),[2]}}))}function En(e,n,t){var r,i,a,o,s,c,l,u,d,m,g,h,v,x,y,C,Z=arguments;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return r=Z.length>3&&void 0!==Z[3]?Z[3]:[],[4,(0,f.Ys)()];case 1:return i=p.sent(),a=(0,sr.Hf)(i),o=i.enrollment.isAlreadyEnrolled,s=i.wizard,c=s.mailingAddressZipCode,l=s.commercialClass,u=s.customerType,d=s.fingerprintVisitorId,m=!t||!(0,b.Z)(Object.values(R.l0)).includes(t),g=t,m?o?(g=R.l0.PERSONAL_INFO,[3,5]):[3,2]:[3,5];case 2:return[4,(0,f.gz)((0,Jn.Nh)(1))];case 3:return p.sent(),[4,(0,f.gz)((0,Jn.vj)(!1))];case 4:return p.sent(),[2];case 5:return(null===r||void 0===r?void 0:r.length)?[4,(0,f.Ys)(Y.Ur)]:[3,7];case 6:return h=p.sent(),[3,8];case 7:h=c,p.label=8;case 8:return h?[4,(0,f.RE)(yn,h)]:[3,15];case 9:return x=p.sent(),v=(null===r||void 0===r?void 0:r.length)?r[0].utility:null===(y=x[0])||void 0===y?void 0:y.name,[4,(0,te.uD)({zipCode:h,vid:a,utilityName:v,uuid:i.wizard.uuid,customerType:u,commercialClass:l,utilityCompanies:x,fingerprintId:d})];case 10:return(C=p.sent()).valid?[3,13]:[4,(0,f.gz)((0,Jn.I5)(!0))];case 11:return p.sent(),[4,(0,f.gz)((0,Jn.vj)(!1))];case 12:return p.sent(),[2];case 13:return[4,(0,f.RE)(hn,C)];case 14:p.sent(),p.label=15;case 15:return[4,(0,f.gz)((0,Jn.S5)(n))];case 16:return p.sent(),[4,(0,f.gz)((0,Jn.iJ)(g))];case 17:return p.sent(),e?[4,(0,f.gz)((0,Jn.pO)(!0))]:[3,19];case 18:return p.sent(),[3,21];case 19:return[4,Zn()];case 20:p.sent(),p.label=21;case 21:return[2]}}))}var wn=t(35244),Nn=t(28707),An=t(20474);function jn(e){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,f.gz)((0,Nn.AP)(e))];case 1:return n.sent(),[2]}}))}function In(e){var n,t,r,i,a,o;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return[4,(0,f.Ys)()];case 1:return n=s.sent(),t=n.externalData.distCoName,[4,(0,f.gz)((0,Nn.hf)(e))];case 2:return s.sent(),1!==(r=Object.values(e)).length?[3,5]:[4,(0,f.gz)((0,wn.AW)("0"))];case 3:return s.sent(),i=r[0].code,[4,(0,f.RE)(jn,i)];case 4:return s.sent(),[2,i];case 5:return t&&r.length>1&&(a=r.findIndex((function(e){return e.name===t})))>=0?[4,(0,f.gz)((0,wn.AW)(a.toString()))]:[3,8];case 6:return s.sent(),o=r[a].code,[4,(0,f.RE)(jn,o)];case 7:return s.sent(),[2,o];case 8:return[2,void 0]}}))}function kn(e){var n,t,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return n=e.reduce((function(e,n,t){return e.map[t]=n.code,e.companies[n.code]=n,n.services_zip&&(e.services[n.code]=n),e}),{map:{},services:{},companies:{}}),t=Object.keys(n.services),r=t.length>1,[4,In(n.services)];case 1:return i=a.sent(),[4,(0,f.gz)((0,Nn.SI)(n.map))];case 2:return a.sent(),[4,(0,f.gz)((0,Nn.z4)(n.companies))];case 3:return a.sent(),[4,(0,f.gz)((0,Nn.U0)(r))];case 4:return a.sent(),[2,i]}}))}function _n(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.gz)((0,wn.AW)(""))];case 1:return e.sent(),[4,jn("")];case 2:return e.sent(),[2]}}))}function Tn(){var e,n,t,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return[4,(0,f.Ys)((function(e){return e}))];case 1:return e=a.sent(),n=e.utilityCompanies,t=n.selectedCompanyCode,r=n.companiesMap,i=Object.keys(r).find((function(e){return r[e]===t})),[4,(0,f.gz)((0,wn.AW)(i))];case 2:return a.sent(),[2]}}))}function Sn(e){var n,t,r,i,a,o,s,c,l,u,d,m,g,h,v;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return n=p.sent(),t=(0,sr.Hf)(n),r=(0,B.D$)(n),i=n.enrollment.utilities,a=n.wizard,o=a.customerType,s=a.commercialClass,c=a.uuid,l=a.fingerprintVisitorId,u=n.utilityCompanies.companies,[4,(0,f.Ys)(Y.Ur)];case 2:return d=p.sent(),[4,(0,te.uD)({zipCode:d,vid:t,utilityName:e,customerType:o,commercialClass:s,uuid:c,utilityCompanies:u,fingerprintId:l})];case 3:return(m=p.sent()).valid?[4,(0,f.RE)(hn,m)]:[2,!1];case 4:return p.sent(),g=m.contract_id,h=m.final_distribution_co_id,v=m.operator_id,[4,(0,f.gz)((0,pe.s1)({name:"operatorId",value:v}))];case 5:return p.sent(),[4,(0,f.gz)((0,pe.s1)({name:"contractId",value:g}))];case 6:return p.sent(),r||!i.length||i.some((function(e){return e.finalDistributionCompanyId===h}))?[3,8]:[4,(0,f.gz)((0,Jn.o5)(ae.uH.ENROLLING_FOR_DIFFERENT_CONTRACT,!0))];case 7:return p.sent(),[2,!1];case 8:return[2,m.valid]}}))}function Un(e){var n,t,r,i,a,o;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return[4,(0,f.gz)((0,Jn.bm)(!0))];case 1:return s.sent(),[4,(0,f.Ys)((function(e){return e}))];case 2:return n=s.sent(),t=n.utilityCompanies,r=t.companiesMap,i=t.companies,a=r[e],[4,Sn(i[a].name)];case 3:return o=s.sent(),[4,(0,f.gz)((0,Jn.oI)(o))];case 4:return s.sent(),[4,(0,f.gz)((0,wn.AW)(e))];case 5:return s.sent(),[4,jn(a)];case 6:return s.sent(),o?[3,8]:[4,(0,f.gz)((0,Jn.p3)(!0))];case 7:s.sent(),s.label=8;case 8:return[4,(0,f.gz)((0,Jn.bm)(!1))];case 9:return s.sent(),[2]}}))}function Pn(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,f.Ys)((function(e){return e}))];case 1:return n=r.sent(),t=n.utilityCompanies.companiesMap,[4,Un(Object.keys(t).find((function(n){return t[n]===e})))];case 2:return r.sent(),[2]}}))}function zn(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,yn(e)];case 1:return[2,t.sent()];case 2:return n=t.sent(),[4,(0,f.gz)((0,pe.zj)(n))];case 3:return t.sent(),[3,4];case 4:return[2,[]]}}))}function Ln(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,f.gz)((0,Nn.bg)(!1))];case 1:return i.sent(),[4,(0,f.gz)((0,Jn.I5)(!1))];case 2:return i.sent(),5!==(null===e||void 0===e?void 0:e.length)?[3,16]:[4,(0,f.gz)((0,Nn.bg)(!0))];case 3:i.sent(),i.label=4;case 4:return i.trys.push([4,13,,16]),[4,(0,f.RE)(zn,e)];case 5:if(n=i.sent(),!Array.isArray(n))throw Error(n);return[4,_n()];case 6:return i.sent(),[4,(0,f.RE)(kn,n)];case 7:return"undefined"===typeof(t=i.sent())?[3,9]:[4,(0,f.RE)(Pn,t)];case 8:i.sent(),i.label=9;case 9:return[4,(0,f.gz)((0,Nn.bg)(!1))];case 10:return i.sent(),0!==n.length?[3,12]:[4,(0,f.gz)((0,Jn.I5)(!0))];case 11:i.sent(),i.label=12;case 12:return[3,16];case 13:return r=i.sent(),[4,(0,f.gz)((0,pe.zj)(r))];case 14:return i.sent(),[4,(0,f.gz)((0,Nn.bg)(!1))];case 15:return i.sent(),[3,16];case 16:return[2]}}))}function Mn(e){var n,t,r,i,a,o,s,c,l,u;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return 5===(null===e||void 0===e?void 0:e.length)?[3,2]:[4,_n()];case 1:return d.sent(),[2];case 2:return[4,(0,f.gz)((0,Jn.bm)(!0))];case 3:return d.sent(),[4,(0,f.RE)(ge,!0)];case 4:return d.sent(),[4,(0,f.Ys)()];case 5:return n=d.sent(),n.utilityCompanies.currentServiceZip===e?[3,9]:[4,(0,f.gz)((0,Nn.Pu)(e))];case 6:return d.sent(),[4,zn(e)];case 7:return[4,kn(d.sent())];case 8:d.sent(),d.label=9;case 9:return[4,(0,f.Ys)((function(e){return e}))];case 10:return t=d.sent(),r=t.enrollment.utilities,i=t.wizard.electricUtility,a=t.utilityCompanies,o=a.serviceCompanies,s=a.selectedCompanyCode,c=a.isSplitZip,l=t.externalData.distCoName,u=Object.values(o),u.length>0?[3,12]:[4,(0,f.gz)((0,Jn.p3)(!0))];case 11:return d.sent(),[3,22];case 12:return(0,An.hj)(i)?[4,Un(i)]:[3,14];case 13:return d.sent(),[3,22];case 14:return l?[4,Pn(Object.keys(o).find((function(e){return o[e].name===l})))]:[3,16];case 15:return d.sent(),[3,22];case 16:return s?[4,Pn(s)]:[3,18];case 17:return d.sent(),[3,22];case 18:return c&&(null===r||void 0===r?void 0:r.length)?[4,Pn(r[0].utilityNumber)]:[3,20];case 19:return d.sent(),[3,22];case 20:return[4,Pn(u[0].code)];case 21:d.sent(),d.label=22;case 22:return[4,(0,f.gz)((0,Jn.bm)(!1))];case 23:return d.sent(),[4,(0,f.RE)(ge,!1)];case 24:return d.sent(),[2]}}))}function Rn(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,f.Ys)((function(e){return e}))];case 1:return n=r.sent(),t=n.utilityCompanies.companiesMap,[4,jn(t[e])];case 2:return r.sent(),[2]}}))}function On(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.ok,(function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,(0,f.RE)(kn,n)];case 1:return[2,t.sent()]}}))})),(0,f.ib)(pe.XB,_n),(0,f.ib)(pe.AB,Tn),(0,f.ib)(pe.ez,(function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,(0,f.RE)(Pn,n)];case 1:return[2,t.sent()]}}))})),(0,f.ib)(pe.PR,(function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,(0,f.RE)(Ln,n)];case 1:return[2,t.sent()]}}))}))])];case 1:return e.sent(),[2]}}))}function Hn(e){return(e||[]).reduce((function(e,n,t){if(n){var r=(0,ne.Z)(function(e){var n=e.split("/");if(n.length){var t=n[n.length-1];return[decodeURIComponent(t.slice(37)),t]}return[]}(n),2),i=r[0],a=r[1];e[t]={fileLocation:n,name:i,remoteKey:a}}return e}),{})}function Dn(e){return Array.isArray(e)&&e.length>0?{serviceAddress:e[0].service_address_1,serviceAddressUnit:e[0].service_address_2,serviceAddressCity:e[0].service_city,serviceAddressCounty:e[0].service_county,serviceAddressState:e[0].service_state,serviceAddressZipCode:e[0].service_zip_code}:{}}function Vn(e){var n,t=(null===(n=e.supporting_doc_links)||void 0===n?void 0:n.length)>0&&e.supporting_doc_links.filter((function(e){return!!e}));return e.category===D.e3.geo||e.origin!==R.aP.ENROLLMENT_PORTAL&&!!e.category&&!!e.type&&!!e.verification_method&&(null===t||void 0===t?void 0:t.length)>0}function Wn(e,n){var t,r,o,s,c,l,u,d,m,g,h,v,x,y,b,C,Z,E,w,N,A,j,I,k,_,T,S,U,P,z,L,M,O,H,V,W,F,B,Y,q,Q,G,K,J;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return t=e.accounts,r=e.agent_name,o=e.billing_address_1,s=e.billing_address_2,c=e.billing_city,l=e.billing_county,u=e.billing_state,d=e.billing_zip_code,m=e.company_name,g=e.complete,h=e.contract_token,v=e.customer_type,x=e.disclosures_completed,y=e.disclosures_created,b=e.disclosures_total,C=e.enrolling_for_more,Z=e.first_name,E=e.last_name,w=e.lmi_eligible,N=e.lmi_qualifications,A=e.next_step,j=e.payment_token,I=e.user_token,k=e.phone,_=e.send_verify_email,T=e.title,S=e.uuid,U=e.vanity_id,P=e.origin,[4,(0,f.gz)((0,Jn.xR)(!0))];case 1:return p.sent(),[4,(0,f.gz)((0,Jn.dC)(C))];case 2:return p.sent(),[4,(0,f.gz)((0,Jn.LP)(j))];case 3:return p.sent(),[4,(0,f.gz)((0,Jn.dP)(I))];case 4:return p.sent(),[4,(0,f.gz)((0,Jn.jw)(P))];case 5:return p.sent(),z=function(e){return e&&e.length&&e[0].contract_details?e[0].contract_details:{}}(t),L=z.docusign_enabled,M=z.fixed_percent_discount,O=z.payment_method,H=function(e){if(e&&e.length>0){var n="N/A"===e;return{name:n?"":e,isAssisting:n?"no":"yes"}}return{}}(r),V=function(e,n){var t={showLMISection:!0,lmiEligible:e,lmiProgramType:"",lmiVerificationMethod:"",lmiEvidence:void 0,lmiWontProvideEvidence:D.r8.noValue};if((null===n||void 0===n?void 0:n.length)>0){var r;if(n.filter(Vn).length>0)return t.showLMISection=!1,t;var i=n.findIndex((function(e){return e.origin===R.aP.ENROLLMENT_PORTAL}));-1===i&&(i=0);var a=n[i];t.lmiEligible=D.Bj.yes,t.lmiProgramType=a.type||"",t.lmiVerificationMethod=a.verification_method||"",t.lmiWontProvideEvidence=a.evidence_missing_reason||D.r8.noValue,(null===a||void 0===a||null===(r=a.supporting_doc_links)||void 0===r?void 0:r.length)>0&&(t.lmiEvidence=Hn(a.supporting_doc_links))}return t}(w,N),W=V.showLMISection,F=V.lmiEligible,B=V.lmiProgramType,Y=V.lmiVerificationMethod,q=V.lmiEvidence,Q=V.lmiWontProvideEvidence,[4,(0,f.gz)((0,Jn.qJ)(N))];case 6:return p.sent(),G={agentIsAssisting:H.isAssisting,agentName:H.name,accounts:t,companyName:m,complete:g,contractToken:h,customerType:v,disclosuresCompleted:x,disclosuresCreated:y,disclosuresTotal:b,docusignEnabled:L,emailAddress:n,firstName:Z,fixedPercentDiscount:M,lastName:E,showLMISection:W,lmiEligible:F,lmiProgramType:B,lmiVerificationMethod:Y,lmiEvidence:q,lmiWontProvideEvidence:Q,mailingAddress:o,mailingAddressCity:c,mailingAddressCounty:l,mailingAddressState:u,mailingAddressUnit:s,mailingAddressZipCode:d,nextStep:A,phoneNumber:k,requiredPaymentMethod:O,sendVerifyEmail:_,title:T,uuid:S,vid:U},K=function(e){return e&&e.length?e[e.length-1]:{}}(t),[4,(0,f.RE)(jn,K.utility)];case 7:return p.sent(),[4,(0,f.gz)((0,pe.U5)((0,a.Z)((0,i.Z)({},G,Dn(t)),{contractId:K.contract_id,resumed:!0})))];case 8:return p.sent(),J=function(e){return(e||[]).map((function(e){return{accountNumber:e.utility_account_number,contractId:e.contract_id,finalDistributionCompanyId:e.final_distribution_co_id,id:(0,cn.b)(),meterNumber:e.meter_number,operatorId:e.operator_id,serviceBills:Hn(e.utility_bill_link),serviceAddress:e.service_address_1,serviceAddressUnit:e.service_address_2,serviceAddressCity:e.service_city,serviceAddressCounty:e.service_county,serviceAddressState:e.service_state,serviceAddressZipCode:e.service_zip_code,utilityId:e.utility_id,utilityNumber:e.utility,electricUtility:e.utility,accountLinked:e.account_linked,accountLinkingContext:e.account_linking_context}}))}(t),[4,(0,f.gz)((0,Jn.lq)(J))];case 9:return p.sent(),[2]}}))}var Fn=Wn;function Bn(){var e,n,t,r,i,a,o,s,c,l,u,d,m,g;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return e=p.sent(),n=e.wizard.emailAddress,t=e.modals.emailVerificationCode,r=e.enrollment.retry,i=(0,sr.Hf)(e),[4,(0,f.gz)((0,Jn.Zc)(!1))];case 2:return p.sent(),[4,(0,f.RE)(ge,!0)];case 3:p.sent(),p.label=4;case 4:return p.trys.push([4,27,,29]),[4,(0,f.RE)(te.s6,{email:n.toLowerCase(),code:t,uuid:"",vid:i})];case 5:return a=p.sent(),Array.isArray(a)?[4,re({step:y.G5})]:[3,9];case 6:return p.sent(),[4,(0,f.gz)((0,Jn.Zc)(!0))];case 7:return p.sent(),[4,(0,f.RE)(ge,!1)];case 8:return p.sent(),[2];case 9:return r?[4,(0,f.gz)((0,Jn.no)(!1))]:[3,16];case 10:return p.sent(),[4,(0,f.gz)((0,pe.s1)({name:nn.UE.uuid,value:a.uuid}))];case 11:return p.sent(),[4,(0,f.gz)((0,Jn.vj)(!1))];case 12:return p.sent(),[4,(0,f.gz)((0,Jn.Yc)(!1))];case 13:return p.sent(),[4,(0,f.gz)((0,Jn.xR)(!0))];case 14:return p.sent(),[4,(0,f.RE)(ge,!1)];case 15:return p.sent(),[2];case 16:return o=a.accounts,s=a.uuid,c=a.last_step,l=a.next_step,u=a.commercial_class,d=a.lmi_qualifications,[4,re({step:y.Ch,notifyMe:!1,override:{uuid:s}})];case 17:return p.sent(),[4,(0,f.gz)((0,Jn.i6)(u))];case 18:return p.sent(),[4,(0,f.gz)((0,Jn.qJ)(d))];case 19:return p.sent(),[4,(0,f.RE)(Wn,a,n)];case 20:return p.sent(),m=[],(null===o||void 0===o?void 0:o.length)?(m=o,[4,(0,f.gz)((0,pe.VT)(o))]):[3,22];case 21:p.sent(),p.label=22;case 22:return[4,(0,f.RE)(En,!1,c,l,m)];case 23:return p.sent(),[4,(0,f.gz)((0,Jn.p3)(!1))];case 24:return p.sent(),[4,(0,f.gz)((0,Jn.vj)(!1))];case 25:return p.sent(),[4,(0,f.gz)((0,Jn.Yc)(!1))];case 26:return p.sent(),[3,29];case 27:return g=p.sent(),[4,(0,f.gz)((0,pe.zj)(g))];case 28:return p.sent(),[3,29];case 29:return[4,(0,f.RE)(ge,!1)];case 30:return p.sent(),[2]}}))}function Yn(){var e,n,t,r,i,a,o,s,c,l,u,d,m,g,h,v;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return e=p.sent(),n=(0,sr.Hf)(e),t=e.wizard.emailAddress,r=e.externalData,i=r.code,a=r.uuid,tn.CU.test(t)?[4,(0,f.RE)(ge,!0)]:[2];case 2:return p.sent(),[4,(0,f.gz)((0,Jn.xs)(!0))];case 3:return p.sent(),[4,(0,f.RE)(te.s6,{email:t,code:i,uuid:a,vid:n})];case 4:return o=p.sent(),Array.isArray(o)?[4,re({step:y.G5})]:[3,10];case 5:return p.sent(),[4,(0,f.gz)((0,Jn.fT)(!0))];case 6:return p.sent(),[4,(0,f.gz)((0,Jn.vj)(!0))];case 7:return p.sent(),[4,(0,f.RE)(ge,!1)];case 8:return p.sent(),[4,(0,f.gz)((0,Jn.xs)(!1))];case 9:return p.sent(),[2];case 10:return s=o.accounts,c=o.uuid,l=o.last_step,u=o.next_step,d=o.billing_zip_code,m=o.commercial_class,g=o.lmi_qualifications,[4,re({step:y.Ch,notifyMe:!1,override:{uuid:c}})];case 11:return p.sent(),[4,(0,f.gz)((0,Jn.i6)(m))];case 12:return p.sent(),[4,(0,f.gz)((0,Jn.qJ)(g))];case 13:return p.sent(),[4,(0,f.gz)((0,Jn.z2)(d))];case 14:return p.sent(),h=[],v=u,(null===s||void 0===s?void 0:s.length)?(h=s,[4,(0,f.gz)((0,pe.VT)(s))]):[3,16];case 15:p.sent(),v=u||(s?R.l0.UTILITY_INFO:R.l0.PERSONAL_INFO),p.label=16;case 16:return[4,(0,f.RE)(Wn,o,t)];case 17:return p.sent(),[4,(0,f.RE)(En,!0,l,v,h)];case 18:return p.sent(),[4,(0,f.RE)(ge,!1)];case 19:return p.sent(),[4,(0,f.gz)((0,Jn.xs)(!1))];case 20:return p.sent(),[2]}}))}function qn(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.FK,Bn)])];case 1:return e.sent(),[2]}}))}var Qn=function(e){return function(){var n,t,r,a,o,s,c,l,u,d,m,g,h,v,x;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return n=p.sent(),t=(0,B.sC)(n),r=n.wizard,a=r.emailAddress,o=r.uuid,s=r.zipCode,c=r.customerType,l=r.commercialClass,u=r.fingerprintVisitorId,d=n.enrollment.hasVerifiedEmail,m=n.utilityCompanies.companies,g=(0,sr.Hf)(n),a?[4,(0,f.gz)((0,Jn.w9)({zip:s}))]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,(0,te.uD)({zipCode:s,vid:g,utilityName:null===t||void 0===t?void 0:t.name,uuid:o,customerType:c,commercialClass:l,utilityCompanies:m,fingerprintId:u})];case 4:return(h=p.sent()).valid?[3,6]:[4,(0,f.gz)((0,Jn.I5)(!0))];case 5:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 6:return[4,(0,f.RE)(hn,h)];case 7:return p.sent(),v=h.manual_contract,"function"===typeof window.gtag&&window.gtag("event","electric_utility__button",{event_category:"event_electric_utility__button",event_action:"click"}),[4,(0,f.RE)(ye,{params:(0,i.Z)({},n.wizard),shouldUpdate:Boolean(n.wizard.uuid),lastStepName:e,hasVerifiedEmail:d,manualContract:v,userToken:n.enrollment.userToken})];case 8:return x=p.sent(),(0,oe.Z)(x,Error)||(null===x||void 0===x?void 0:x.code)?[4,(0,f.gz)((0,pe.zj)(x))]:[3,10];case 9:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 10:return Array.isArray(x)?[4,(0,f.RE)(ve,x)]:[3,12];case 11:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 12:return[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}]}}))}};function Gn(){var e,n,t,r,i,a;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,f.Ys)()];case 1:return n=o.sent(),t=n.enrollment.wizardStep,r=(0,le.GQ)(n),i=null===(e=r[t])||void 0===e?void 0:e.stepName,i===R.l0.CONFIRM_EMAIL?[4,(0,f.RE)(be,{lastStep:i})]:[3,3];case 2:if(a=o.sent())return[2,a.next_step];o.label=3;case 3:return[2,void 0]}}))}function Kn(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,f.RE)(Gn)];case 1:return[2,null!==(n=t.sent())&&void 0!==n?n:e]}}))}var Jn=t(9606);function Xn(){var e,n,t,r,o,s,c,l,u,d,m,g;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return e=p.sent(),[4,(0,f.Ys)(sr.WO)];case 2:return n=p.sent(),[4,(0,f.Ys)(Y.U$)];case 3:return t=p.sent(),[4,(0,f.Ys)(Y.tb)];case 4:return r=p.sent(),o=r.utility,s=r.utilityIndex,[4,(0,f.Ys)(A.s$)];case 5:return c=p.sent(),[4,(0,f.Ys)(Y.I4)];case 6:return l=p.sent(),[4,(0,f.Ys)(Y.Ur)];case 7:return u=p.sent(),d=e.wizard.billUploadRequired,m=e.utilityAccounts.selectedAccountIndex,g={id:(0,cn.b)(),finalDistributionCompanyId:e.wizard.finalDistributionCompanyId,contractId:e.wizard.contractId,operatorId:e.wizard.operatorId,utilityNumber:null===o||void 0===o?void 0:o.code,utilityId:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name,electricUtility:s,serviceBills:d?e.wizard.bills:null},t?[4,(0,f.gz)((0,pe.AC)(c.map((function(e){return(0,a.Z)((0,i.Z)({},g,e),{serviceAddressState:l,serviceAddressZipCode:u})}))))]:[3,10];case 8:return p.sent(),[4,(0,f.gz)((0,A.Py)())];case 9:return p.sent(),[3,14];case 10:return m>=0?[4,(0,f.gz)((0,Jn.a1)((0,a.Z)((0,i.Z)({},(0,i.Z)({},g,n)),{selectedAccountIndex:m})))]:[3,12];case 11:return p.sent(),[3,14];case 12:return[4,(0,f.gz)((0,pe.AC)([(0,i.Z)({},g,n)]))];case 13:p.sent(),p.label=14;case 14:return[4,(0,f.gz)((0,Jn.Iu)(void 0))];case 15:return p.sent(),[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}]}}))}var $n=function(){var e,n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,f.Ys)()];case 1:return e=i.sent(),n=e.wizard.docusignEnabled,t=(0,sr.xQ)(e),r=(0,de.V)(e),!n&&!r?t?[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}]:[4,(0,f.gz)((0,pe.rd)({lastStep:R.l0.CREATE_YOUR_PASSWORD}))]:[3,3];case 2:return i.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 3:return[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}]}}))};var et=function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}];case 1:return[2,e.sent()]}}))},nt=t(68697),tt=(0,nt.P1)((function(e){return e.enrollment}),(function(e){return e.wizard}),(function(e){return e.docusign}),(function(e,n,t){var r=e.isAlreadyEnrolled,i=n.workflowId,a=n.skipContract,o=t.isAgreedToSign;return"EP0003"===i&&!r&&!a&&!o}));var rt=t(86664),it=t(14755),at=t(68172),ot=t(67062);function st(){"function"===typeof window.gtag&&window.gtag("event","utility_info__button",{event_category:"event_utility_info__button",event_action:"click"})}function ct(e,n,t){var r,i,a,o,s,c,l,u,d,m,f,g,h,v;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:r=t.wizard,i=r.mailingAddressCity,a=r.mailingAddress,o=r.mailingAddressUnit,s=r.mailingAddressZipCode,c=r.mailingAddressState,l=r.paymentMethod,u=r.paymentNameOnCard,d=r.paymentNameOnAccount,m=r.paymentAccountNumber,f=r.paymentRoutingNumber,g=r.paymentAccountType,h=r.paymentVerificationMethod,p.label=1;case 1:switch(p.trys.push([1,10,,11]),l){case nn.A6.creditCard:return[3,2];case nn.A6.checkingAccount:return[3,4]}return[3,8];case 2:return e&&n?(v=n.getElement(rt.CardNumberElement),[4,e.createToken(v,{name:u,address_line1:a,address_line2:o,address_city:i,address_state:c,address_zip:s,address_country:"US",currency:"usd"})]):[2];case 3:return[2,p.sent()];case 4:return e?h!==nn.w.plaid?[3,6]:[4,(0,it.M)(t.plaid.data)]:[2];case 5:return[2,p.sent()];case 6:return[4,e.createToken("bank_account",{country:"US",currency:"usd",routing_number:f,account_number:m,account_holder_name:d,account_holder_type:g})];case 7:return[2,p.sent()];case 8:return[2];case 9:return[3,11];case 10:return[2,{error:p.sent()}];case 11:return[2]}}))}function lt(){var e,n,t,r,o,s,c,l,u,d,m,g,h,v,x,b,C,Z,E,w,N,A,j,I,k,_,T,S;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return e=p.sent(),[4,(0,f.gz)((0,pe.TM)())];case 2:return p.sent(),n=e.wizard,t=n.companyName,r=n.customerType,o=n.emailAddress,s=n.firstName,c=n.lastName,l=n.paymentMethod,u=n.paymentVerificationMethod,d=e.enrollment,m=d.paymentToken,g=d.userToken,h=e.plaid,v=h.dataIsMissing,x=h.error,e.navigation.isPaymentMethodSkipped?[4,(0,at._)({companyName:t,customerType:r,user:{email:o},userToken:g},at.B.userOnly)]:[3,9];case 3:return(b=p.sent()).error?[4,re({step:y.YV,messages:[{type:y.Dz.paymentError,value:b.error.message||b.error}]})]:[3,7];case 4:return p.sent(),[4,(0,f.gz)((0,pe.zj)({message:b.error,name:"SignupError",handled:!0}))];case 5:return p.sent(),[4,(0,f.RE)(ge,!1)];case 6:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}];case 7:return st(),[4,(0,f.gz)((0,pe.rd)({lastStep:R.l0.PAYMENT_METHOD,override:{skipPaymentMethod:!0,user_token:b.user_token}}))];case 8:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 9:return C=ot.Z.stripeRef,Z=ot.Z.elementsRef,l!==nn.A6.checkingAccount||u!==nn.w.plaid||!v&&!x?[3,11]:[4,(0,f.RE)(ge,!1)];case 10:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}];case 11:return[4,ct(C,Z,e)];case 12:return E=p.sent(),w=E.token,(N=E.error)?[4,(0,f.gz)((0,pe.zj)((0,a.Z)((0,i.Z)({},N),{handled:!0})))]:[3,16];case 13:return p.sent(),[4,(0,f.RE)(ge,!1)];case 14:return p.sent(),[4,re({step:y.YV,messages:[{type:y.Dz.paymentError,value:N.message}],override:{user_ipaddress:N.client_ip}})];case 15:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}];case 16:return p.trys.push([16,29,,32]),[4,(0,at._)({name:"".concat(s," ").concat(c),oneTimeToken:w.id,paymentToken:m,paymentMethod:l,paymentVerificationMethod:u,companyName:t,customerType:r,user:{email:o},userToken:g})];case 17:return(A=p.sent()).error?A.payment_token?(j=e.enrollment,I=j.hasVerifiedEmail,k=j.manualContract,[4,(0,f.gz)((0,Jn.LP)(A.payment_token))]):[3,22]:[3,26];case 18:return p.sent(),A.user_token?[4,(0,f.gz)((0,Jn.dP)(A.user_token))]:[3,20];case 19:p.sent(),p.label=20;case 20:return[4,(0,f.RE)(ye,{params:(0,a.Z)((0,i.Z)({},e.wizard),{paymentToken:A.payment_token}),shouldUpdate:!0,hasVerifiedEmail:I,manualContract:k,userToken:A.user_token||g})];case 21:p.sent(),p.label=22;case 22:return[4,re({step:y.YV,messages:[{type:y.Dz.paymentError,value:A.error},{type:y.Dz.paymentLogEntryId,value:"".concat(A.credit_card_log_id)}],override:{user_ipaddress:A.request_ip}})];case 23:return p.sent(),[4,(0,f.gz)((0,pe.zj)({message:A.error,name:"SignupError",handled:!0}))];case 24:return p.sent(),[4,(0,f.RE)(ge,!1)];case 25:return p.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}];case 26:return _=A.credit_card_log_id,T=A.request_ip,A?[4,(0,f.gz)((0,pe.rd)({lastStep:R.l0.PAYMENT_METHOD,override:{paymentData:A}}))]:[3,28];case 27:p.sent(),p.label=28;case 28:return st(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0,override:{user_ipaddress:T},messages:[{type:y.Dz.paymentLogEntryId,value:"".concat(_)}]}];case 29:return S=p.sent(),[4,(0,f.gz)((0,pe.zj)((0,a.Z)((0,i.Z)({},S),{handled:!0})))];case 30:return p.sent(),[4,(0,f.RE)(ge,!1)];case 31:return p.sent(),[3,32];case 32:return[2]}}))}function ut(){var e,n,t,r,a,o,s,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return[4,(0,f.Ys)()];case 1:return e=l.sent(),n=e.enrollment.isAlreadyEnrolled,t=e.wizard,r=t.lmiEligible,a=t.lmiEvidence,o=t.lmiWontProvideEvidence,s=t.showLMISection,n?[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}]:[4,(0,f.Ys)(sr.qW)];case 2:return l.sent()&&s&&r===D.Bj.yes&&0===Object.keys(a||{}).length&&!o?[4,(0,f.gz)((0,Jn.Cr)(!0))]:[3,4];case 3:case 7:case 10:case 12:case 14:return l.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 4:return[4,(0,f.RE)(ye,{params:(0,i.Z)({},e.wizard),shouldUpdate:e.wizard.resumed||e.wizard.uuid,lastStepName:R.l0.PERSONAL_INFO,hasVerifiedEmail:e.enrollment.hasVerifiedEmail,manualContract:e.enrollment.manualContract,userToken:e.enrollment.userToken})];case 5:return(c=l.sent()).code&&c.code===R.o6.VOIP_CODE?("VOIP numbers are not permitted.",[4,(0,f.gz)((0,Jn.EE)("VOIP numbers are not permitted."))]):[3,8];case 6:case 9:return l.sent(),[4,(0,f.RE)(ge,!1)];case 8:return c.code&&c.code===R.o6.DUPLICATE_NUMBER_CODE?("The phone number has already been enrolled in our system. If this is an agent's number, please use the subscriber's phone number instead.",[4,(0,f.gz)((0,Jn.EE)("The phone number has already been enrolled in our system. If this is an agent's number, please use the subscriber's phone number instead."))]):[3,11];case 11:return(0,oe.Z)(c,Error)?[4,(0,f.gz)((0,pe.zj)(c))]:[3,13];case 13:return Array.isArray(c)?[4,(0,f.RE)(ve,c)]:[3,15];case 15:return"function"===typeof window.gtag&&window.gtag("event","personal_info__button",{event_category:"event_personal_info__button",event_action:"click"}),[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}]}}))}var dt=t(88206);var mt,pt,ft=function(){var e,n,t,r,i,a,o,s;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return[4,(0,f.Ys)()];case 1:e=c.sent(),c.label=2;case 2:return c.trys.push([2,8,,10]),"function"===typeof window.gtag&&window.gtag("event","utility_info__button",{event_category:"event_utility_info__button",event_action:"click"}),t=(0,sr.xQ)(e),r=e.wizard.createPassword,i=e.enrollment.userToken,a=(0,me.l)({wizard:{createPassword:r}}),t?[4,(0,f.RE)(te.eF)]:[3,5];case 3:return c.sent().working?[3,5]:[4,(0,f.gz)((0,Jn.c5)(!0))];case 4:return c.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}];case 5:return o=(0,dt.c)(dt.A.createYourPassword)&&!a&&!i,!(null===(n=e.wizard)||void 0===n?void 0:n.docusignEnabled)&&!(0,de.V)(e)&&(!o||i)?t?[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}]:[4,(0,f.gz)((0,pe.rd)({lastStep:R.l0.UTILITY_INFO,override:{noEP2SF:!0}}))]:[3,7];case 6:return c.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 7:return[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}];case 8:return s=c.sent(),[4,(0,f.gz)((0,pe.zj)(s))];case 9:return c.sent(),[3,10];case 10:return[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}]}}))},gt=(mt={},(0,r.Z)(mt,R.l0.CHECK_AVAILABILITY,(function(){var e,n,t,r,a,o,s,c,l,u,d,m,g,h,v;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return e=p.sent(),n=e.enrollment.manualContract,t=e.wizard,r=t.resumed,a=t.uuid,o=t.serviceAddressZipCode,s=t.mailingAddressZipCode,c=t.zipCode,l=e.externalData,u=l.code,d=l.email,m=l.uuid,g=(0,le.I6)(e),h=c||s,o||!h?[3,3]:[4,(0,f.RE)(Mn,h)];case 2:p.sent(),p.label=3;case 3:return g?[3,6]:[4,(0,f.gz)((0,Jn.XY)())];case 4:return p.sent(),[4,(0,f.RE)(yt)];case 5:return p.sent(),[2];case 6:return d?[4,re({step:y.pM})]:[3,8];case 7:p.sent(),p.label=8;case 8:return!d||!u&&!m||r?[3,10]:[4,(0,f.RE)(Yn)];case 9:return p.sent(),[2];case 10:return d?[4,(0,f.RE)(ye,{params:(0,i.Z)({},e.wizard),shouldUpdate:Boolean(a),lastStepName:R.l0.CHECK_AVAILABILITY,hasVerifiedEmail:e.enrollment.hasVerifiedEmail,manualContract:n,userToken:e.enrollment.userToken})]:[3,15];case 11:return v=p.sent(),(0,oe.Z)(v,Error)?[4,(0,f.gz)((0,pe.zj)(v))]:[3,13];case 12:return p.sent(),[2];case 13:return Array.isArray(v)?[4,(0,f.RE)(ve,v)]:[3,15];case 14:p.sent(),p.label=15;case 15:return[2]}}))})),(0,r.Z)(mt,R.l0.CONFIRM_EMAIL,(function(){var e,n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,f.Ys)()];case 1:return e=i.sent(),n=e.wizard.resumed,t=e.enrollment.hasVerifiedEmail,n&&t?[4,(0,f.RE)(ge,!0)]:[3,7];case 2:return i.sent(),[4,(0,f.RE)(Gn)];case 3:return(r=i.sent())?[4,yt(r)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[4,(0,f.RE)(ge,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))})),(0,r.Z)(mt,R.l0.DOCUSIGN,(function(){var e,n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,f.Ys)()];case 1:return e=t.sent(),n=e.wizard.docusignEnabled,tt(e)?[4,(0,f.RE)(yt,R.l0.SUBSCRIPTION_BENEFITS)]:[3,3];case 2:case 4:case 6:return t.sent(),[2];case 3:return n?[3,5]:[4,(0,f.RE)(yt)];case 5:return[4,(0,f.RE)(Ke)]}}))})),(0,r.Z)(mt,R.l0.CONNECT_UTILITY_ACCOUNT,(function(){var e,n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,f.Ys)(A.Gn)];case 1:return e=t.sent(),[4,(0,f.Ys)(Y.mX)];case 2:return n=t.sent(),e||n?[3,4]:[4,(0,f.gz)((0,Jn.Iu)(!1))];case 3:t.sent(),t.label=4;case 4:return[2]}}))})),(0,r.Z)(mt,R.l0.PERSONAL_INFO,(function(){var e,n,t,r,o,s,c,l,u,d,m,g,h,v,x,b,C,Z,E;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return e=p.sent(),n=(0,sr.Hf)(e),t=e.wizard,r=t.customerType,o=t.commercialClass,s=t.emailAddress,c=t.uuid,l=t.mailingAddressZipCode,u=t.serviceAddressZipCode,d=t.zipCode,m=e.enrollment,g=m.hasSkippedCheckAvailability,h=m.hasVerifiedEmail,v=m.lmiQualificationsOptions,x=d||u||l,v||!x?[3,5]:[4,(0,f.RE)(yn,x)];case 2:return C=p.sent(),[4,(0,te.uD)({zipCode:x,vid:n,utilityName:null===(b=C[0])||void 0===b?void 0:b.name,uuid:e.wizard.uuid,customerType:r,commercialClass:o,utilityCompanies:C})];case 3:return(Z=p.sent()).valid?[4,(0,f.RE)(hn,Z)]:[3,5];case 4:p.sent(),p.label=5;case 5:return s&&g?[4,re({step:y.pM})]:[3,11];case 6:return p.sent(),h?[3,11]:[4,(0,f.RE)(ye,{params:(0,a.Z)((0,i.Z)({},e.wizard),{emailAddress:s}),shouldUpdate:Boolean(c),lastStepName:R.l0.CHECK_AVAILABILITY,hasVerifiedEmail:e.enrollment.hasVerifiedEmail,manualContract:e.enrollment.manualContract,userToken:e.enrollment.userToken})];case 7:return E=p.sent(),(0,oe.Z)(E,Error)?[4,(0,f.gz)((0,pe.zj)(E))]:[3,9];case 8:return p.sent(),[2];case 9:return Array.isArray(E)?[4,(0,f.RE)(ve,E)]:[3,11];case 10:p.sent(),p.label=11;case 11:return[2]}}))})),mt),ht=(pt={},(0,r.Z)(pt,R.l0.CHECK_AVAILABILITY,Qn(R.l0.CHECK_AVAILABILITY)),(0,r.Z)(pt,R.l0.CONNECT_UTILITY_ACCOUNT,Xn),(0,r.Z)(pt,R.l0.CREATE_YOUR_PASSWORD,$n),(0,r.Z)(pt,R.l0.SIGN_DISCLOSURES,et),(0,r.Z)(pt,R.l0.SUBSCRIPTION_BENEFITS,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.gz)((0,Jn.iE)(!0))];case 1:return e.sent(),[4,yt(R.l0.DOCUSIGN)];case 2:return e.sent(),[4,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 3:return[2,e.sent()]}}))})),(0,r.Z)(pt,R.l0.DOCUSIGN,(function(){var e,n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,f.Ys)()];case 1:e=t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),!(0,de.V)(e)?[4,(0,f.gz)((0,pe.rd)({lastStep:R.l0.DOCUSIGN}))]:[3,4];case 3:return t.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 4:return[2,{shouldProceedWithEnrollment:!0,shouldSendLeadTrackingRequest:!0}];case 5:return n=t.sent(),[4,(0,f.gz)((0,pe.zj)(n))];case 6:return t.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!0}];case 7:return[2]}}))})),(0,r.Z)(pt,R.l0.PAYMENT_METHOD,lt),(0,r.Z)(pt,R.l0.PERSONAL_INFO,ut),(0,r.Z)(pt,R.l0.UTILITY_INFO,ft),(0,r.Z)(pt,R.l0.VERIFY_SERVICE_AVAILABILITY,Qn(R.l0.VERIFY_SERVICE_AVAILABILITY)),(0,r.Z)(pt,R.l0.CONFIRM_EMAIL,(function(){var e,n,t,r,i,a,o,s,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return[4,(0,f.Ys)()];case 1:return e=l.sent(),n=e.wizard.emailAddress,t=e.modals.emailVerificationCode,r=(0,sr.Hf)(e),[4,(0,f.gz)((0,Jn.Zc)(!1))];case 2:return l.sent(),[4,(0,f.RE)(ge,!0)];case 3:l.sent(),l.label=4;case 4:return l.trys.push([4,14,,16]),[4,(0,f.RE)(te.s6,{email:n.toLowerCase(),code:t,uuid:"",vid:r})];case 5:return i=l.sent(),Array.isArray(i)?[4,re({step:y.G5})]:[3,9];case 6:return l.sent(),[4,(0,f.gz)((0,Jn.Zc)(!0))];case 7:return l.sent(),[4,(0,f.RE)(ge,!1)];case 8:return l.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}];case 9:return a=i.uuid,o=i.next_step,[4,(0,f.RE)(Kn,o)];case 10:return s=l.sent(),[4,re({step:y.Ch,notifyMe:!1,override:{uuid:a}})];case 11:return l.sent(),[4,(0,f.RE)(Fn,i,n)];case 12:return l.sent(),[4,(0,f.RE)(yt,s)];case 13:return l.sent(),[3,16];case 14:return c=l.sent(),[4,(0,f.gz)((0,pe.zj)(c))];case 15:return l.sent(),[3,16];case 16:return[4,(0,f.RE)(ge,!1)];case 17:return l.sent(),[2,{shouldProceedWithEnrollment:!1,shouldSendLeadTrackingRequest:!1}]}}))})),pt),vt=t(21245);function xt(e){var n,t,r,i,a,o,s,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return n=e.direction,[4,(0,f.Ys)()];case 1:return t=l.sent(),r=(0,le.GQ)(t),i=t.enrollment.wizardStep,window.scrollTo({top:0,behavior:"smooth"}),a=n===vt.m.BACKWARD?r.slice(0,i).reverse():r.slice(i+1),o=a.find((function(e){return e.active})),s=r.findIndex((function(e){var n,t;return(null===(n=an.F[null===e||void 0===e?void 0:e.stepName])||void 0===n?void 0:n.name)===(null===(t=an.F[null===o||void 0===o?void 0:o.stepName])||void 0===t?void 0:t.name)})),c=gt[o.stepName],s>=0?[4,(0,f.gz)((0,Jn.Nh)(s))]:[3,3];case 2:l.sent(),l.label=3;case 3:return c?[4,(0,f.RE)(c)]:[3,5];case 4:l.sent(),l.label=5;case 5:return[2]}}))}function yt(e){var n,t,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return[4,(0,f.Ys)()];case 1:return n=a.sent(),t=(0,le.GQ)(n),e?(r=t.findIndex((function(n){var t;return(null===(t=an.F[null===n||void 0===n?void 0:n.stepName])||void 0===t?void 0:t.name)===e})),i=gt[e],[4,(0,f.gz)((0,Jn.Nh)(r))]):[3,5];case 2:return a.sent(),i?[4,(0,f.RE)(i)]:[3,4];case 3:a.sent(),a.label=4;case 4:return[3,7];case 5:return[4,(0,f.RE)(xt,{direction:vt.m.FORWARD})];case 6:a.sent(),a.label=7;case 7:return[4,fn()];case 8:return a.sent(),[2]}}))}function bt(){var e,n,t,r,i,a,o,s,c,l,u,d,m,g,h,v,x,b,C,Z,E,w,N,A,j,I,k,_,T,S;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,(0,f.Ys)()];case 1:return n=p.sent(),t=(0,le.GQ)(n),r=n.enrollment.wizardStep,i=n.wizard,a=i.accountNumber,o=i.companyName,s=i.contractToken,c=i.customerType,l=i.firstName,u=i.lastName,d=i.mailingAddress,m=i.mailingAddressUnit,g=i.mailingAddressCity,h=i.mailingAddressState,v=i.mailingAddressZipCode,x=i.phoneNumber,b=i.title,C=n.navigation.isPaymentMethodSkipped,Z=an.F[null===(e=t[r])||void 0===e?void 0:e.stepName],E=Z.name,[4,(0,f.RE)(ge,!0)];case 2:if(p.sent(),!(w=ht[E]))return[3,13];N=C?y.bE:E===R.l0.PAYMENT_METHOD?y.mt:E,p.label=3;case 3:return p.trys.push([3,11,,13]),[4,w()];case 4:return A=p.sent(),j=A.shouldProceedWithEnrollment,I=A.shouldSendLeadTrackingRequest,k=A.override,_=A.messages,T=void 0===_?[]:_,[4,(0,f.gz)((0,Jn.w9)({account_number:a,contact_person_first_name:l,contact_person_last_name:u,contact_person_title:b,contract_token:s,organization_name:o,customer_type:c,first_name:l,last_name:u,address_1:d,address_2:m,city:g,state:h,zip:v,phone:x}))];case 5:return p.sent(),I?[4,re({step:N,notifyMe:!1,messages:T,override:k})]:[3,7];case 6:p.sent(),p.label=7;case 7:return j?[4,(0,f.RE)(be,{lastStep:E})]:[3,10];case 8:return p.sent()?[4,(0,f.RE)(yt)]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,13];case 11:return S=p.sent(),[4,(0,f.gz)((0,pe.zj)(S))];case 12:return p.sent(),[3,13];case 13:return[4,(0,f.RE)(ge,!1)];case 14:return p.sent(),[2]}}))}function Ct(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.gz)((0,Jn.UL)(!1))];case 1:return e.sent(),[4,(0,f.gz)((0,Jn.qh)())];case 2:return e.sent(),[4,(0,f.gz)((0,Jn.JN)())];case 3:return e.sent(),[2]}}))}function Zt(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.Ys)(Y.MF)];case 1:return e.sent()?[4,(0,f.gz)((0,Jn.Iu)(!1))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[4,Ct()];case 4:return e.sent(),[4,(0,f.gz)((0,Jn.EY)())];case 5:return e.sent(),[4,(0,f.RE)(yt,R.l0.CONNECT_UTILITY_ACCOUNT)];case 6:return e.sent(),[2]}}))}function Et(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return n=e.payload,[4,(0,f.Ys)((function(e){return e}))];case 1:return t=i.sent().enrollment,(r=(0,b.Z)(t.utilities)).splice(n,1),[4,(0,f.gz)((0,Jn.lq)(r))];case 2:return i.sent(),[4,(0,f.gz)((0,Jn.EY)())];case 3:return i.sent(),[4,(0,f.gz)((0,Jn.n3)(!1))];case 4:return i.sent(),[2]}}))}function wt(e){var n,t,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return n=e.payload,[4,(0,f.Ys)((function(e){return e}))];case 1:return t=a.sent(),r=t.enrollment.utilities,i=r[n],[4,(0,f.gz)((0,Jn.Eh)(n))];case 2:return a.sent(),[4,(0,f.RE)(Ct)];case 3:return a.sent(),[4,(0,f.gz)((0,Jn.fD)(i))];case 4:return a.sent(),[4,(0,f.RE)(Pn,i.utilityNumber)];case 5:return a.sent(),[4,(0,f.gz)((0,Jn.Iu)(!1))];case 6:return a.sent(),[4,(0,f.RE)(yt,R.l0.CONNECT_UTILITY_ACCOUNT)];case 7:return a.sent(),[2]}}))}function Nt(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.WR,Zt),(0,f.ib)(pe.ps,Ct),(0,f.ib)(pe.ov,Et),(0,f.ib)(pe.wF,wt)])];case 1:return e.sent(),[2]}}))}function At(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.W0,bt),(0,f.ib)(pe.N$,(function(e){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,yt(e.payload)];case 1:return n.sent(),[2]}}))})),(0,f.ib)(pe.cY,(function(e){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,xt(e.payload)];case 1:return n.sent(),[2]}}))})),(0,f.ib)(pe.I9,(function(e){var n,t,r,i,a;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return n=e.payload,t=n.shouldShowVerifySuccessModal,r=n.lastStep,i=n.nextStep,a=n.accounts,[4,(0,f.RE)(En,t,r,i,a)];case 1:return[2,o.sent()]}}))})),(0,f.ib)(pe.nI,Zn)])];case 1:return e.sent(),[2]}}))}var jt=t(45597);function It(e){return kt.apply(this,arguments)}function kt(){return(kt=(0,Me.Z)((function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,N.rK)("/api/state?zip=".concat(e))];case 1:return 200===(n=t.sent()).status?[2,n.json().then((function(e){return e.abbreviation}))]:[2,void 0];case 2:return[2,t.sent()];case 3:return[2]}}))}))).apply(this,arguments)}var _t=t(18606);function Tt(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.ib)(_t.k,(function(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return n=e.payload,[4,(0,f.RE)(It,n.zipCode)];case 1:return"string"!==typeof(t=i.sent())?[3,3]:(r={},n.updateFormFields.forEach((function(e){r[(0,jt.mapFormNameToStateName)(e)]=t})),[4,(0,f.gz)((0,pe.U5)(r))]);case 2:i.sent(),i.label=3;case 3:return[2]}}))}))];case 1:return e.sent(),[2]}}))}function St(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.ib)(_t.V,(function(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return n=e.payload,(r=null===(t=n[0])||void 0===t?void 0:t.service_zip_code)?[4,(0,f.gz)((0,pe.s1)({name:nn.UE.zipCode,value:r}))]:[2];case 1:return i.sent(),[4,(0,f.gz)((0,_t.k)({zipCode:r,updateFormFields:[nn.UE.serviceAddressState]}))];case 2:return i.sent(),[2]}}))}))];case 1:return e.sent(),[2]}}))}function Ut(e){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return n=e.payload,[4,(0,f.Ys)((function(e){return e}))];case 1:return t=i.sent().errors,(null===(r=t.length>0?t[0]:n)||void 0===r?void 0:r.handled)?[4,(0,f.gz)((0,Jn.cN)(!1))]:[3,3];case 2:return i.sent(),[3,14];case 3:if(!(null===r||void 0===r?void 0:r.code))return[3,12];switch(r.code){case R.o6.AGENT_EMAIL:return[3,4];case R.o6.DUPLICATE_NUMBER_CODE:return[3,7]}return[3,10];case 4:return[4,(0,f.gz)((0,Jn.dC)(!1))];case 5:return i.sent(),[4,(0,f.gz)((0,Jn.ao)(!0))];case 6:return i.sent(),[3,11];case 7:return[4,(0,f.RE)(yt,R.l0.PERSONAL_INFO)];case 8:return i.sent(),[4,(0,f.RE)(ge,!1)];case 9:return i.sent(),[3,11];case 10:return[3,11];case 11:return[3,14];case 12:return[4,(0,f.gz)((0,Jn.cN)(!0))];case 13:i.sent(),i.label=14;case 14:return[4,(0,f.gz)((0,Jn.xM)(n))];case 15:return i.sent(),[4,(0,f.gz)((0,Jn.OU)())];case 16:return i.sent(),[2]}}))}function Pt(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.gz)((0,Jn.OA)())];case 1:return e.sent(),[2]}}))}function zt(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.zj,Ut),(0,f.ib)(pe.TM,Pt)])];case 1:return e.sent(),[2]}}))}function Lt(e){var n=(0,m.$)(e);return null!==n&&void 0!==n?n:e}function Mt(e,n){var t,r,i,a,o,s,c,l;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:return[4,(0,f.Ys)()];case 1:switch(t=u.sent(),r=t.enrollment.phoneValidationMessage,i=t.wizard.mailingAddressZipCode,a=t.utilityCompanies,o=a.selectedCompanyCode,s=a.serviceCompanies,c=a.currentServiceZip,e){case(0,m.$)(nn.UE.serviceAddressZipCode):return[3,2];case(0,m.$)(nn.UE.electricUtility):return[3,6];case(0,m.$)(nn.UE.zipCode):return[3,8];case(0,m.$)(nn.UE.phoneNumber):return[3,13]}return[3,16];case 2:return(l=n)===c&&o&&s[o]?[3,5]:[4,Mn(l)];case 3:return u.sent(),5!==(null===l||void 0===l?void 0:l.length)?[3,5]:[4,(0,f.gz)((0,pe.k)({zipCode:l,updateFormFields:[nn.UE.serviceAddressState]}))];case 4:u.sent(),u.label=5;case 5:return[3,17];case 6:return[4,Rn(n)];case 7:return u.sent(),[3,17];case 8:return!(0,O.mf)(n)||i?[3,11]:[4,(0,f.gz)((0,wn.LJ)(n))];case 9:return u.sent(),[4,(0,f.gz)((0,pe.k)({zipCode:n,updateFormFields:[nn.UE.mailingAddressState]}))];case 10:u.sent(),u.label=11;case 11:return[4,(0,f.gz)((0,wn.z2)(n))];case 12:return u.sent(),[3,17];case 13:return r?[4,(0,f.gz)((0,Jn.EE)(void 0))]:[3,15];case 14:u.sent(),u.label=15;case 15:case 16:return[3,17];case 17:return[2]}}))}function Rt(e){var n,t,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return n=e.payload,t=n.name,r=n.value,i=Lt(t),[4,(0,f.gz)((0,wn.AK)(i,r))];case 1:return a.sent(),[4,Mt(i,r)];case 2:return a.sent(),[2]}}))}function Ot(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,(0,f.gz)((0,wn.TO)(n))];case 1:return t.sent(),[4,(0,f.$6)(Object.keys(n).map((function(e){var t=Lt(e);return(0,f.RE)(Mt,t,n[e])})))];case 2:return t.sent(),[2]}}))}function Ht(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.s1,Rt),(0,f.ib)(pe.U5,Ot)])];case 1:return e.sent(),[2]}}))}function Dt(){var e,n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,f.Ys)()];case 1:return e=r.sent().wizard,[4,(0,f.gz)((0,Jn.gx)(!0))];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,6,,8]),[4,(0,f.RE)(ye,{params:(0,a.Z)((0,i.Z)({},e),{sendVerifyEmail:!0}),shouldUpdate:!0,lastStepName:R.l0.CONFIRM_EMAIL,hasVerifiedEmail:!0,manualContract:!1})];case 4:return n=r.sent(),[4,(0,f.gz)((0,Jn.KN)(n))];case 5:return r.sent(),[3,8];case 6:return t=r.sent(),[4,(0,f.gz)((0,pe.zj)(t))];case 7:return r.sent(),[3,8];case 8:return[2]}}))}function Vt(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.xt,Dt)])];case 1:return e.sent(),[2]}}))}function Wt(){var e,n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,f.Ys)()];case 1:return e=r.sent(),n=e.enrollment.manualContract,t=e.wizard.emailAddress,[4,(0,f.RE)(ye,{params:{emailAddress:t,create_new_on_conflict:!0},shouldUpdate:!1,hasVerifiedEmail:!1,manualContract:n})];case 2:return r.sent(),[4,(0,f.gz)((0,Jn.jI)(!0))];case 3:return r.sent(),[2]}}))}function Ft(){var e,n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,f.Ys)()];case 1:return e=i.sent(),n=e.enrollment.manualContract,t=e.wizard.emailAddress,[4,(0,f.RE)(ye,{params:{emailAddress:t},shouldUpdate:!1,hasVerifiedEmail:!0,manualContract:n})];case 2:return r=i.sent(),Array.isArray(r)?[4,(0,f.gz)((0,Jn.gq)(!1))]:[3,6];case 3:return i.sent(),[4,(0,f.gz)((0,Jn.fT)(!1))];case 4:return i.sent(),[4,(0,f.RE)(ve,r)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}function Bt(){var e,n,t,r,i,a;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,f.Ys)()];case 1:return e=o.sent(),n=e.enrollment.manualContract,t=e.wizard.emailAddress,[4,(0,f.gz)((0,Jn.ty)(!0))];case 2:return o.sent(),[4,(0,f.RE)(ye,{params:{emailAddress:t},shouldUpdate:!1,hasVerifiedEmail:!1,manualContract:n})];case 3:return r=o.sent(),Array.isArray(r)?(i=(0,ne.Z)(r,1),a=i[0],a.code!==ae.V9?[3,5]:[4,(0,f.RE)(ye,{params:{create_new_on_conflict:!0,emailAddress:t},shouldUpdate:!1,hasVerifiedEmail:!1,manualContract:n})]):[3,5];case 4:o.sent(),o.label=5;case 5:return[2]}}))}function Yt(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.vS,Wt),(0,f.ib)(pe._y,Ft),(0,f.ib)(pe.yr,Bt)])];case 1:return e.sent(),[2]}}))}var qt=function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.JT,(function(e){var n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return n=e.payload,[4,re(n)];case 1:return t.sent(),[2]}}))}))])];case 1:return e.sent(),[2]}}))},Qt=t(43631),Gt=t(9310),Kt=t(60989),Jt="https://api.ampion.net";function Xt(e){return $t.apply(this,arguments)}function $t(){return($t=(0,Me.Z)((function(e){return(0,p.__generator)(this,(function(n){return[2,(0,N.rK)("".concat(Jt,"/v1/support/tickets"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})]}))}))).apply(this,arguments)}function er(){var e,n;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,f.RE)(h.hi,(0,j.Ii)(),{backgroundColor:"#fff",quality:.95,cacheBust:!0})];case 1:return e=t.sent(),[4,(0,f.RE)(x.EF.upload,{base64content:e,name:"enrollments/screenshots/contact_us_".concat((0,N.Fs)()),type:"image/jpeg"})];case 2:return[2,t.sent().fileLocation];case 3:return n=t.sent(),g.p.notify({message:"Failed to capture screenshot for contact us flow",params:{errorMessage:n.message,err:n}}),[2,null];case 4:return[2]}}))}function nr(){var e,n,t,r,i,a,o,s,c,l,u,d,m,h,v,x,y,b,C,Z,E,w;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return p.trys.push([0,11,13,15]),[4,(0,f.gz)((0,Jn.W3)(!0))];case 1:return p.sent(),[4,(0,f.gz)((0,Jn.n4)(!1))];case 2:return p.sent(),[4,(0,f.Ys)((function(e){return[e.wizard,(0,le.sx)(e),e.enrollment.userToken]}))];case 3:return e=ne.Z.apply(void 0,[p.sent(),3]),n=e[0],t=e[1],r=e[2],i=n.uuid,a=n.contactUsFirstName,o=n.contactUsLastName,s=n.contactUsPhoneNumber,c=n.contactUsEmailAddress,l=n.contactUsQuestionDescription,u=n.contactUsMethod,d=n.contactUsShouldTakeScreenshot,m=N.gY.reduce((function(e,n){var t=n.body,r=void 0===t?{}:t,i=n.transactionId;i&&e.transactionIds.push(i);var a=r.user_token;return a&&(e.userTokenFromRequestLog=a),e}),{transactionIds:[],userTokenFromRequestLog:void 0}),h=m.userTokenFromRequestLog,v=m.transactionIds,x=r||h,d?[4,(0,f.RE)(er)]:[3,5];case 4:y=p.sent(),p.label=5;case 5:return b=(0,Qt.qY)(),C=Object.entries(b),Z=C.map((function(e){var n=(0,ne.Z)(e,2),t=n[0],r=n[1];return"".concat(t,": ").concat(r)})).join(", "),E={uuid:i,name:"".concat(a," ").concat(o),email:u===Gt.m.Email?c:void 0,phone:u===Gt.m.Phone?s:void 0,origin:R.aP.ENROLLMENT_PORTAL,reason:R.KG.ENROLLMENT_SUPPORT,subject:R.xQ.ENROLLMENT_HELP_REQUEST,description:l,referer:"".concat(R.aP.ENROLLMENT_PORTAL,": ").concat(t),portal_user_token:x,device_info:Z,transaction_ids:v,attachments:y?[y]:[]},[4,(0,f.RE)(Xt,E)];case 6:return p.sent().ok?[4,(0,f.gz)((0,Jn.X1)(Kt.N.SuccessfulSubmit))]:[3,8];case 7:return p.sent(),[3,10];case 8:return[4,(0,f.gz)((0,Jn.n4)(!0))];case 9:p.sent(),p.label=10;case 10:return[3,15];case 11:return w=p.sent(),[4,(0,f.gz)((0,Jn.n4)(!0))];case 12:return p.sent(),g.p.notify({message:"Failed to handle form submission for contact us flow (need help wizard)",params:{errorMessage:w.message,err:w}}),[3,15];case 13:return[4,(0,f.gz)((0,Jn.W3)(!1))];case 14:return p.sent(),[7];case 15:return[2]}}))}function tr(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.ib)(pe.vv,nr)])];case 1:return e.sent(),[2]}}))}function rr(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.$6)([(0,f.rM)(en),(0,f.rM)(At),(0,f.rM)(Ee),(0,f.rM)(zt),(0,f.rM)(Nt),(0,f.rM)(xn),(0,f.rM)(Tt),(0,f.rM)(St),(0,f.rM)(L),(0,f.rM)(On),(0,f.rM)(Ht),(0,f.rM)(Le),(0,f.rM)(he),(0,f.rM)(Vt),(0,f.rM)(Yt),(0,f.rM)(qn),(0,f.rM)(qt),(0,f.rM)(tr)])];case 1:return e.sent(),[2]}}))}var ir,ar=t(99116),or=t(65873),sr=t(66692),cr=t(33240);function lr(e){var n=(0,u.ZP)();if(!e)return null;var t=(0,s.MT)(or.ZP,e,(0,c.Uo)((0,s.md)(l.Z,n)));return n.run(rr),t}function ur(e){return(0,o.useMemo)((function(){return function(e){var n=null!==ir&&void 0!==ir?ir:lr(e);return e&&ir&&(n=lr((0,i.Z)({},ir.getState(),e)),ir=void 0),ir||(ir=n),n}(e)}),[e])}function dr(e,n){return e?function(e){var n=(0,m.$)(nn.UE.mailingAddressState),t=(0,m.$)(nn.UE.customerType),o=(0,m.$)(nn.UE.paymentMethod);return(0,a.Z)((0,i.Z)({},e),{wizard:(0,i.Z)({},e.wizard,ar.$[e.wizard.mailingAddressState]?{}:(0,r.Z)({},n,void 0),Object.values(ar.g).indexOf(e.wizard.customerType)>=0?{}:(0,r.Z)({},t,or.Cb[t]),Object.values(nn.A6).indexOf(e.wizard.paymentMethod)>=0?{}:(0,r.Z)({},o,or.Cb[o]))})}((0,a.Z)((0,i.Z)({},e),{wizard:(0,i.Z)((0,a.Z)((0,i.Z)({},e.wizard,(0,m.M)(e.externalData,!0)),{bills:{}}),e.externalData.email?{emailAddress:e.externalData.email}:{},e.externalData.zipcode?{zipCode:e.externalData.zipcode,mailingAddressZipCode:e.externalData.zipcode}:{},e.externalData[nn.UE.zipCode]&&!e.externalData.zipcode?{zipCode:e.externalData[nn.UE.zipCode],mailingAddressZipCode:e.externalData[nn.UE.zipCode]}:{},e.externalData[nn.UE.agentName]?{agentIsAssisting:"yes"}:{},e.externalData[nn.UE.accountNumber]?{accountNumber:void 0}:{},e.externalData[R.dx.utilityAccountNumber]?{accountNumber:e.externalData[R.dx.utilityAccountNumber]}:{}),externalData:(0,i.Z)({},e.externalData,n)})):null}function mr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var t=new URL(window.location.toString()).searchParams,r=(0,d.O)(t);return dr(r,n)}},22822:function(e,n,t){t.d(n,{$I:function(){return m},E3:function(){return y},JB:function(){return p},QM:function(){return v},V9:function(){return f},_Q:function(){return h},_n:function(){return g},uH:function(){return x}});var r=t(26042),i=t(69396),a=t(99534),o=t(29815),s=t(26594),c=t(24923),l=t(82119),u=t(27970),d=t(95257),m=104,p=105,f=110,g=111,h=112,v=113,x={ENROLLING_FOR_DIFFERENT_CONTRACT:"enrollingForDifferentContract"},y={application:c.aP.ENROLLMENT_PORTAL,utilities:[],showSpinner:0},b=(0,s.Lq)(y,(function(e){e.addCase(d.bq,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{application:n.payload})})).addCase(d.MI,(function(e,n){var t=e.showSpinner+n.payload,a=t<0?0:t;return(0,i.Z)((0,r.Z)({},e),{showSpinner:a})})).addCase(d._N,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{retry:n.payload})})).addCase(d.xG,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{lmiQualificationsOptions:(0,l.HE)(n.payload).filter((function(e){return e.category!==l.e3.geo}))})})).addCase(d.nC,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{manualContract:n.payload})})).addCase(d.$4,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{skippedPasswordStep:n.payload})})).addCase(d.gx,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isConfirmationEmailSentAgain:n.payload})})).addCase(d.a1,(function(e,n){var t=n.payload,s=t.selectedAccountIndex,c=(0,a.Z)(t,["selectedAccountIndex"]),l=(0,o.Z)(e.utilities);return l[s]=c,(0,i.Z)((0,r.Z)({},e),{utilities:l})})).addCase(d.S5,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{lastStepName:n.payload})})).addCase(d.iJ,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{nextStepName:n.payload})})).addCase(d.LP,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{paymentToken:n.payload})})).addCase(d.dP,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{userToken:n.payload})})).addCase(d.xR,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{hasVerifiedEmail:n.payload})})).addCase(d.EE,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{phoneValidationMessage:n.payload})})).addCase(d.XY,(function(e){return(0,i.Z)((0,r.Z)({},e),{hasSkippedCheckAvailability:!0})})).addCase(d.xs,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isEnrollmentVerificationLoading:n.payload})})).addCase(d.dC,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isAlreadyEnrolled:n.payload})})).addDefaultCase((function(e,n){switch(n.type){case u.uk:return(0,r.Z)({},e,n.payload);case u.Dn:return(0,i.Z)((0,r.Z)({},e),{utilities:n.payload});case u.XG:return(0,i.Z)((0,r.Z)({},e),{wizardStep:n.payload});case u.Gl:return(0,r.Z)({},e,n.payload);default:return e}}))}));n.ZP=b},65873:function(e,n,t){t.d(n,{ZP:function(){return M},_d:function(){return C.E3},uj:function(){return z.E3},Cb:function(){return x}});var r=t(45217),i=t(57785),a=t(47822),o=t(1798),s=t(5318),c=t(14924),l=t(26042),u=t(69396),d=t(26594),m=t(24923),p=t(20165),f=t(9310),g=t(27970),h=t(99116),v=t(9606),x={origin:m.aP.WEB,mailingAddress:"",mailingAddressUnit:"",customerType:h.g.home,bills:{},sendVerifyEmail:!1,resumed:!1,leadTrackingFormData:{},paymentInfo:{},contactUsMethod:f.m.Phone,contactUsShouldTakeScreenshot:!0,showLMISection:!0},y=(0,d.Lq)(x,(function(e){e.addCase(v.qh,(function(e){return(0,u.Z)((0,l.Z)({},e),{serviceAddress:void 0,serviceAddressCity:"",serviceAddressCounty:"",serviceAddressUnit:"",serviceAddressState:void 0,serviceAddressZipCode:""})})).addCase(v.JN,(function(e){return(0,u.Z)((0,l.Z)({},e),{bills:{},accountNumber:void 0,meterNumber:void 0})})).addCase(v.jw,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{origin:n.payload})})).addCase(v.AW,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{electricUtility:n.payload})})).addCase(v.Kz,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{electricUtilityName:n.payload})})).addCase(v.eZ,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{customerType:n.payload})})).addCase(v.i6,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{commercialClass:n.payload})})).addCase(v.s0,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{emailAddress:n.payload})})).addCase(v.fD,(function(e,n){var t=n.payload;return(0,u.Z)((0,l.Z)({},e),{serviceAddress:t.serviceAddress,serviceAddressCity:t.serviceAddressCity,serviceAddressCounty:t.serviceAddressCounty,serviceAddressUnit:t.serviceAddressUnit,serviceAddressState:t.serviceAddressState,serviceAddressZipCode:t.serviceAddressZipCode,bills:t.serviceBills,accountNumber:t.accountNumber,electricUtility:t.electricUtility,meterNumber:t.meterNumber})})).addCase(v.oe,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{serviceAddress:n.payload})})).addCase(v.LJ,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{mailingAddressZipCode:n.payload})})).addCase(v.z2,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{serviceAddressZipCode:n.payload})})).addCase(v.vx,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{uuid:n.payload})})).addCase(v.ZC,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{zipCode:n.payload})})).addCase(v.VQ,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{lmiEligible:n.payload})})).addCase(v.MS,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{lmiProgramType:n.payload})})).addCase(v.zG,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{lmiVerificationMethod:n.payload})})).addCase(v.vs,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{lmiWontProvideEvidence:n.payload})})).addCase(v.qJ,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{lmiQualifications:n.payload})})).addCase(v.zE,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{contactUsMethod:n.payload})})).addCase(v.FB,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{contactUsShouldTakeScreenshot:n.payload})})).addCase(v.Bf,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{fingerprintVisitorId:n.payload})})).addDefaultCase((function(e,n){switch(n.type){case g.Ze:var t=n.payload||{},r=t.billUploadRequired,i=t.docusignEnabled,a=t.fixedPercentDiscount,o=t.paymentMethod,s={billUploadRequired:r,docusignEnabled:i,fixedPercentDiscount:a,requiredPaymentMethod:o,skipContract:t.skipContract,createPassword:t.createPassword,distributionCompanyId:t.distributionCompanyId,finalDistributionCompanyId:t.finalDistributionCompanyId,paymentInfo:t.paymentInfo,icsa:t.icsa,tpvDelayMinutes:t.tpvDelayMinutes,tpvProfile:t.tpvProfile,workflowId:t.workflowId};return o>0?(0,u.Z)((0,l.Z)({},e,s),{paymentParams:{kind:"check"}}):(0,l.Z)({},e,s);case g.jC:case g.w2:return(0,l.Z)({},e,n.payload);case g.dE:var d=n.payload,m=d.type,f=d.key,h={fileLocation:d.fileLocation,remoteKey:d.remoteKey,name:d.name,isUploading:!1,file:null,isSizeError:!1,isTypeError:!1,isUploadError:!1};if(m===p.xA.lmiEvidence){var v=e.lmiEvidence[f];return(0,u.Z)((0,l.Z)({},e),{lmiWontProvideEvidence:"",lmiEvidence:(0,u.Z)((0,l.Z)({},e.lmiEvidence),(0,c.Z)({},f,(0,l.Z)({},v,h)))})}var x=e.bills[f];return(0,u.Z)((0,l.Z)({},e),{bills:(0,u.Z)((0,l.Z)({},e.bills),(0,c.Z)({},f,(0,l.Z)({},x,h)))});case g.C0:var y=n.payload,b=y.type,C=y.key;if(b===p.xA.lmiEvidence){var Z=(0,u.Z)((0,l.Z)({},e),{lmiEvidence:(0,l.Z)({},e.lmiEvidence)});return delete Z.lmiEvidence[C],Z}var E=(0,u.Z)((0,l.Z)({},e),{bills:(0,l.Z)({},e.bills)});return delete E.bills[C],E;case g.a1:var w=n.payload,N=w.type,A=w.files,j=function(e){return Object.keys(e||{}).reduce((function(n,t){var r=e[t];return r.isSizeError||r.isTypeError||r.isUploadError?n:(0,u.Z)((0,l.Z)({},n),(0,c.Z)({},t,r))}),{})};if(N===p.xA.lmiEvidence){var I=j(e.lmiEvidence);return(0,u.Z)((0,l.Z)({},e),{lmiEvidence:(0,l.Z)({},I,A)})}var k=j(e.bills);return(0,u.Z)((0,l.Z)({},e),{bills:(0,l.Z)({},k,A)});case g.Lc:var _=n.payload,T=_.type,S=_.key;return T===p.xA.lmiEvidence?(0,u.Z)((0,l.Z)({},e),{lmiEvidence:(0,u.Z)((0,l.Z)({},e.lmiEvidence),(0,c.Z)({},S,(0,u.Z)((0,l.Z)({},e.lmiEvidence[S]),{isUploading:!0})))}):(0,u.Z)((0,l.Z)({},e),{bills:(0,u.Z)((0,l.Z)({},e.bills),(0,c.Z)({},S,(0,u.Z)((0,l.Z)({},e.bills[S]),{isUploading:!0})))});case g.Uy:var U=n.payload,P=U.type,z=U.key;return P===p.xA.lmiEvidence?(0,u.Z)((0,l.Z)({},e),{lmiEvidence:(0,u.Z)((0,l.Z)({},e.lmiEvidence),(0,c.Z)({},z,(0,u.Z)((0,l.Z)({},e.lmiEvidence[z]),{isUploading:!1,isUploadError:!0,file:null})))}):(0,u.Z)((0,l.Z)({},e),{bills:(0,u.Z)((0,l.Z)({},e.bills),(0,c.Z)({},z,(0,u.Z)((0,l.Z)({},e.bills[z]),{isUploading:!1,isUploadError:!0,file:null})))});case g.qK:var L=n.payload,M=L.type,R=L.key;return M===p.xA.lmiEvidence?(0,u.Z)((0,l.Z)({},e),{lmiEvidence:(0,u.Z)((0,l.Z)({},e.lmiEvidence),(0,c.Z)({},R,(0,u.Z)((0,l.Z)({},e.lmiEvidence[R]),{isSizeError:!0,isUploading:!1,file:null})))}):(0,u.Z)((0,l.Z)({},e),{bills:(0,u.Z)((0,l.Z)({},e.bills),(0,c.Z)({},R,(0,u.Z)((0,l.Z)({},e.bills[R]),{isUploading:!1,isSizeError:!0,file:null})))});case g.vd:var O=n.payload,H=O.type,D=O.key;return H===p.xA.lmiEvidence?(0,u.Z)((0,l.Z)({},e),{lmiEvidence:(0,u.Z)((0,l.Z)({},e.lmiEvidence),(0,c.Z)({},D,(0,u.Z)((0,l.Z)({},e.lmiEvidence[D]),{isUploading:!1,isTypeError:!0,file:null})))}):(0,u.Z)((0,l.Z)({},e),{bills:(0,u.Z)((0,l.Z)({},e.bills),(0,c.Z)({},D,(0,u.Z)((0,l.Z)({},e.bills[D]),{isUploading:!1,isTypeError:!0,file:null})))});case g.lS:return(0,u.Z)((0,l.Z)({},e),{leadTrackingFormData:n.payload});case g.vK:var V=n.payload,W=V.disclosuresCompleted,F=V.disclosuresCreated,B=V.disclosuresTotal;return(0,u.Z)((0,l.Z)({},e),{disclosuresCompleted:W,disclosuresCreated:F,disclosuresTotal:B});default:return e}}))})),b=(0,d.Lq)({},(function(e){return e.addCase(v.OU,(function(e){return(0,u.Z)((0,l.Z)({},e),{vid:void 0})}))})),C=t(22822),Z=t(59637),E=t(29815),w=(0,d.Lq)([],(function(e){e.addCase(v.xM,(function(e,n){return(0,E.Z)(e).concat([n.payload])})).addCase(v.OA,(function(e){return e.length>0?(0,Z.Z)(e).slice(1):e})).addDefaultCase((function(e){return e}))})),N=t(82859),A=t(90699),j={data:{},isAlreadyRegistered:!1,isAlreadyRegisteredByOtherEmail:!1,isGeneralError:!1,tooManyFailures:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.as:return(0,u.Z)((0,l.Z)({},e),{data:n.payload});case g.BP:return(0,u.Z)((0,l.Z)({},e),{isAlreadyRegistered:n.payload});case g.Ol:return(0,u.Z)((0,l.Z)({},e),{isAlreadyRegisteredByOtherEmail:n.payload});case g.sf:return(0,u.Z)((0,l.Z)({},e),{tooManyFailures:n.payload});case g.cb:return(0,u.Z)((0,l.Z)({},e),{isGeneralError:n.payload});default:return e}},k={isEmailVerificationSentAgain:!1,shouldShowEmailVerificationCodeInput:!1,emailVerificationCodeError:!1,emailVerificationCodeIsExpired:!1,isCannotProceedModalOpen:!1,isEmailVerifyModalOpen:!1,isVerifySuccessModalOpen:!1,isNotifyModalOpen:!1,isUtilityNotifyModalOpen:!1,isSessionTimeoutModalOpen:!1,isKeepSigningModalOpen:!1,isGenericModalOpen:!1,isAgentEmailModalOpen:!1,isDeleteUtilityAccountModalOpen:!1,isDeleteUtilityAccountRowModalOpen:!1,isDeleteLMIQualificationRowModalOpen:!1,isEnrollmentSuccessfullyCreatedModalOpen:!1,isNoAvailableUtilitiesForZipModalOpen:!1,isIncompleteEnrollmentFoundModalOpen:!1,isCompleteEnrollmentFoundModalOpen:!1,isCreditCheckLoadingModalOpen:!1,isCreditCheckFailedModalOpen:!1,isSystemErrorModalOpen:!1,isUserNotFoundModalOpen:!1,isUtilityCompanyChangeDetectedModalOpen:!1,isAgentAppGeneralErrorModalOpen:!1,isEvidenceUploadIsMissingModalOpen:!1,isLMIEvidenceMissingModalOpen:!1,isLMIWontProvideEvidenceModalOpen:!1,isILShinesSiteNotWorkingModalOpen:!1},_=(0,d.Lq)(k,(function(e){e.addCase(v.ty,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isEmailVerificationSentAgain:n.payload})})).addCase(v.jI,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{shouldShowEmailVerificationCodeInput:n.payload})})).addCase(v.Zc,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{emailVerificationCodeError:n.payload})})).addCase(v.NT,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{emailVerificationCode:n.payload})})).addCase(v.fT,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{emailVerificationCodeIsExpired:n.payload})})).addCase(v.gq,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isCannotProceedModalOpen:n.payload})})).addCase(v.aC,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{cannotProceedCode:n.payload})})).addCase(v.vj,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isEmailVerifyModalOpen:n.payload})})).addCase(v.pO,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isVerifySuccessModalOpen:n.payload})})).addCase(v.I5,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isNotifyModalOpen:n.payload})})).addCase(v.p3,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isUtilityNotifyModalOpen:n.payload})})).addCase(v.Yc,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isSessionTimeoutModalOpen:n.payload})})).addCase(v.AN,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isKeepSigningModalOpen:n.payload})})).addCase(v.cN,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isGenericModalOpen:n.payload})})).addCase(v.ao,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isAgentEmailModalOpen:n.payload})})).addCase(v.n3,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isDeleteUtilityAccountModalOpen:n.payload})})).addCase(v.oH,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isEnrollmentSuccessfullyCreatedModalOpen:n.payload})})).addCase(v.qq,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isNoAvailableUtilitiesForZipModalOpen:n.payload})})).addCase(v.pv,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isIncompleteEnrollmentFoundModalOpen:n.payload})})).addCase(v.KE,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isCompleteEnrollmentFoundModalOpen:n.payload})})).addCase(v.yl,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isCreditCheckLoadingModalOpen:n.payload})})).addCase(v.A7,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isCreditCheckFailedModalOpen:n.payload})})).addCase(v.AR,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isSystemErrorModalOpen:n.payload})})).addCase(v.wp,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isUserNotFoundModalOpen:n.payload})})).addCase(v.oN,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isAgentAppGeneralErrorModalOpen:n.payload.active,agentAppGeneralErrorMessage:n.payload.errorMessage})})).addCase(v.BB,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isDeleteLMIQualificationRowModalOpen:n.payload.active,lmiQualificationRowIndex:n.payload.rowIndex})})).addCase(v.bt,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isDeleteUtilityAccountRowModalOpen:n.payload.active,utilityAccountRowIndex:n.payload.rowIndex})})).addCase(v.ey,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isUtilityCompanyChangeDetectedModalOpen:n.payload})})).addCase(v.fY,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isEvidenceUploadIsMissingModalOpen:n.payload})})).addCase(v.Cr,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isLMIEvidenceMissingModalOpen:n.payload})})).addCase(v.M9,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isLMIWontProvideEvidenceModalOpen:n.payload})})).addCase(v.c5,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isILShinesSiteNotWorkingModalOpen:n.payload})})).addCase(v.Vm,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isStripeInitialLoadFailedModalOpen:n.payload})})).addCase(v.jK,(function(){return k})).addDefaultCase((function(e){return e}))})),T=(0,d.Lq)({isReloading:!1,isDeclined:!1,isContractTokenLoading:!1,isAgreedToSign:!1,isGettingDocusignContractLinkFailed:!1},(function(e){e.addCase(v.DC,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isReloading:n.payload})})).addCase(v.I$,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isDeclined:n.payload})})).addCase(v.JA,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isContractTokenLoading:n.payload})})).addCase(v.wG,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{frameUrl:n.payload})})).addCase(v.iE,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isAgreedToSign:n.payload})})).addCase(v.h3,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isGettingDocusignContractLinkFailed:n.payload})}))})),S=(0,d.Lq)({isLoadingSelectedUtility:!1,isCurrentUtilityValid:!1,isMailingAddressCopied:!1,isMailingAddressInitialCopy:!1},(function(e){return e.addCase(v.bm,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isLoadingSelectedUtility:n.payload})})).addCase(v.oI,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isCurrentUtilityValid:n.payload})})).addCase(v.Eh,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{selectedAccountIndex:n.payload})})).addCase(v.EY,(function(e){return(0,u.Z)((0,l.Z)({},e),{selectedAccountIndex:void 0})})).addCase(v.Iu,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{useAccountLinkingFlow:n.payload})})).addCase(v.UL,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isMailingAddressCopied:n.payload})})).addCase(v.Yd,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isMailingAddressInitialCopy:n.payload})}))})),U=(0,d.Lq)({isPaymentMethodSkipped:!1},(function(e){e.addCase(v.HG,(function(e,n){return(0,u.Z)((0,l.Z)({},e),{isPaymentMethodSkipped:n.payload})}))})),P=t(57062),z=t(28707),L=t(63764),M=(0,r.UY)({enrollment:C.ZP,wizard:y,externalData:b,errors:w,plaid:N.Z,accountLinking:A.Z,connectUtility:i.rk.reducer,connectUtilityApp:a.lC.reducer,ccaRegistration:I,modals:_,docusign:T,utilityAccounts:S,navigation:U,connectUtilityModalManager:o.t$.reducer,validation:P.Z,utilityCompanies:z.ZP,agentInvitation:s.Z,needHelp:L.Z})},63764:function(e,n,t){t.d(n,{E:function(){return c}});var r=t(26042),i=t(69396),a=t(26594),o=t(60989),s=t(9606),c={isWizardOpen:!1,currentPage:o.N.Main,previousPage:null,isContactUsFormBeingSubmitted:!1,contactUsSubmissionError:!1},l=(0,a.Lq)(c,(function(e){e.addCase(s.nC,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isWizardOpen:n.payload})})),e.addCase(s.X1,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{currentPage:n.payload,previousPage:e.currentPage})})),e.addCase(s.W3,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isContactUsFormBeingSubmitted:n.payload})})),e.addCase(s.n4,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{contactUsSubmissionError:n.payload})}))}));n.Z=l},82859:function(e,n,t){t.d(n,{E:function(){return s}});var r=t(26042),i=t(69396),a=t(26594),o=t(9606),s={data:{},plaidToken:"",dataIsMissing:!0,error:!1},c=(0,a.Lq)(s,(function(e){return e.addCase(o.wW,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{plaidToken:n.payload})})).addCase(o.Lr,(function(e,n){var t=n.payload,a=!t.account_id&&!t.accounts;return(0,i.Z)((0,r.Z)({},e),{data:t,dataIsMissing:a})})).addCase(o.nV,(function(e){return(0,i.Z)((0,r.Z)({},e),{error:!0,data:{},dataIsMissing:!0})})).addCase(o.$Z,(function(e){return(0,i.Z)((0,r.Z)({},e),{error:!1})}))}));n.Z=c},28707:function(e,n,t){t.d(n,{AP:function(){return l},E3:function(){return p},Pu:function(){return d},SI:function(){return s},U0:function(){return u},bg:function(){return m},hf:function(){return c},z4:function(){return o}});var r=t(26042),i=t(69396),a=t(26594),o=(0,a.PH)("utilityCompanies/set/companies"),s=(0,a.PH)("utilityCompanies/set/companiesMap"),c=(0,a.PH)("utilityCompanies/set/serviceCompanies"),l=(0,a.PH)("utilityCompanies/set/selectedCompanyCode"),u=(0,a.PH)("utilityCompanies/set/isSplitZip"),d=(0,a.PH)("utilityCompanies/set/currentServiceZip"),m=(0,a.PH)("utilityCompanies/set/isDataLoading"),p={companiesMap:{},companies:{},serviceCompanies:{},isSplitZip:!1,isDataLoading:!1},f=(0,a.Lq)(p,(function(e){e.addCase(o,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{companies:n.payload})})).addCase(s,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{companiesMap:n.payload})})).addCase(c,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{serviceCompanies:n.payload})})).addCase(l,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{selectedCompanyCode:n.payload})})).addCase(u,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isSplitZip:n.payload})})).addCase(d,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{currentServiceZip:n.payload})})).addCase(m,(function(e,n){return(0,i.Z)((0,r.Z)({},e),{isDataLoading:n.payload})}))}));n.ZP=f},57062:function(e,n,t){t.d(n,{D:function(){return u}});var r,i=t(14924),a=t(26042),o=t(69396),s=t(26594),c=t(24923),l=t(9606),u={isValid:!0},d=(r={},(0,i.Z)(r,c.l0.UTILITY_INFO,u),(0,i.Z)(r,c.l0.CHECK_AVAILABILITY,u),(0,i.Z)(r,c.l0.CONNECT_UTILITY_ACCOUNT,u),(0,i.Z)(r,c.l0.CREATE_YOUR_PASSWORD,u),(0,i.Z)(r,c.l0.SIGN_DISCLOSURES,u),(0,i.Z)(r,c.l0.SUBSCRIPTION_BENEFITS,u),(0,i.Z)(r,c.l0.DOCUSIGN,u),(0,i.Z)(r,c.l0.PAYMENT_METHOD,u),(0,i.Z)(r,c.l0.PERSONAL_INFO,u),(0,i.Z)(r,c.l0.CONFIRM_EMAIL,u),(0,i.Z)(r,c.l0.WELCOME,u),(0,i.Z)(r,c.l0.VERIFY_SERVICE_AVAILABILITY,u),r),m=(0,s.Lq)(d,(function(e){e.addCase(l.NX,(function(e,n){return(0,o.Z)((0,a.Z)({},e),(0,i.Z)({},n.payload.stepName,n.payload.validation))}))}));n.Z=m},66692:function(e,n,t){t.d(n,{Hf:function(){return d},Hn:function(){return u},VR:function(){return g},WO:function(){return h},bH:function(){return v},fi:function(){return p},oD:function(){return m},qW:function(){return x},xQ:function(){return f}});var r=t(68697),i=t(7590),a=t(57785),o=t(43585),s=t(88206),c=t(99116),l=t(82119),u=(0,r.P1)((function(e){return e.wizard.vid}),(function(e){return e.externalData.vid}),(function(e,n){return null!==e&&void 0!==e?e:n})),d=(0,r.P1)(u,(function(e){return null!==e&&void 0!==e?e:"a166R000007SsLMQA0"})),m=(0,r.P1)((function(e){return e.externalData}),(function(e){return e.agent_name})),p=(0,r.P1)((function(e){return e.enrollment}),(function(e){return!!e.showSpinner})),f=(0,r.P1)(o.I4,(function(e){return"IL"===e.toLocaleUpperCase()})),g=(0,r.P1)(o.I4,(function(e){return"ME"===(null===e||void 0===e?void 0:e.toLocaleUpperCase())})),h=(0,r.P1)((function(e){return e.wizard}),(function(e){return{serviceAddress:e.serviceAddress,serviceAddressCity:e.serviceAddressCity,serviceAddressCounty:e.serviceAddressCounty,serviceAddressUnit:e.serviceAddressUnit,serviceAddressState:e.serviceAddressState,serviceAddressZipCode:e.serviceAddressZipCode,accountNumber:e.accountNumber,meterNumber:e.meterNumber}})),v=(0,r.P1)(i.ux,a.Gn,o.MF,(function(e,n,t){return(e||n)&&!t})),x=(0,r.P1)((function(e){return e.wizard}),(function(e){return e.enrollment.lmiQualificationsOptions}),(function(e,n){return(0,s.c)(s.A.lmi)&&e.customerType===c.g.home&&e.lmiEligible!==l.Bj.yesOther&&!!n}))},76731:function(e,n,t){t.d(n,{l:function(){return i}});var r=t(33240),i=function(e){var n=e.wizard.createPassword;return n===r.F.Disabled||n===r.F.Email};n.Z=i},17600:function(e,n,t){t.d(n,{V:function(){return a}});var r=t(68697),i=t(20165),a=(0,r.P1)((function(e){var n;return null===(n=e.wizard.paymentInfo)||void 0===n?void 0:n.payment_step}),(function(e){var n=e===i.KB.required,t=e===i.KB.optional;return n||t}))},89923:function(e,n,t){t.d(n,{$g:function(){return m},GQ:function(){return d},I6:function(){return l},TE:function(){return u},V7:function(){return f},fc:function(){return g},sx:function(){return p}});var r=t(68697),i=t(20663),a=t(20165),o=t(30046),s=t(17600),c=t(76731),l=(0,r.P1)((function(e){return e.externalData}),(function(e){return!((null===e||void 0===e?void 0:e.zipcode)||(null===e||void 0===e?void 0:e[a.UE.zipCode]))&&!(null===e||void 0===e?void 0:e[a.UE.zipCode])||!(0,o.A)(null===e||void 0===e?void 0:e[a.UE.zipCode],o.r[a.UE.zipCode])})),u=(0,r.P1)((function(e){return e.wizard}),(function(e){return!e.zipCode&&!e.serviceAddressState})),d=(0,r.P1)((function(e){return e.wizard}),(function(e){return e.enrollment}),s.V,c.l,l,u,(function(e,n,t,r,a,o){var s=e.docusignEnabled,c=n.hasVerifiedEmail,l=n.manualContract,u=n.userToken,d=n.utilities;return(0,i.ue)({docusignEnabled:s,hasVerifiedEmail:c,manualContract:l,utilities:d,userToken:u,showPaymentStep:t,passwordStepDisabled:r,shouldShowCheckAvailabilityStep:a,shouldVerifyServiceAvailability:o}).map((function(e){return{active:e.active,stepName:e.name}}))})),m=(0,r.P1)((function(e){return e.wizard}),(function(e){return e.enrollment}),s.V,c.l,l,u,(function(e,n,t,r,a,o){var s=e.docusignEnabled,c=n.hasVerifiedEmail,l=n.manualContract,u=n.userToken,d=n.utilities;return(0,i.ue)({docusignEnabled:s,hasVerifiedEmail:c,manualContract:l,utilities:d,userToken:u,showPaymentStep:t,passwordStepDisabled:r,shouldShowCheckAvailabilityStep:a,shouldVerifyServiceAvailability:o})})),p=(0,r.P1)(d,(function(e){return e.enrollment.wizardStep}),(function(e,n){var t;return null===(t=e[n])||void 0===t?void 0:t.stepName})),f=(0,r.P1)(l,(function(e){return e.enrollment.isAlreadyEnrolled}),(function(e,n){return e&&!n})),g=(0,r.P1)(c.l,(function(e){return e.enrollment.skippedPasswordStep}),(function(e){var n=e.enrollment.userToken;return Boolean(n)}),(function(e,n,t){return!t&&(e||n)}))},43585:function(e,n,t){t.d(n,{Fy:function(){return b},I4:function(){return v},MF:function(){return u},St:function(){return y},U$:function(){return f},Ur:function(){return x},Y2:function(){return c},_Q:function(){return g},jq:function(){return m},mX:function(){return p},tb:function(){return h},yH:function(){return l}});var r=t(68697),i=t(30243),a=t(69833),o=t(57785),s=t(17572),c=(0,r.P1)(s.sC,(function(e){return e?i.zh[e.id]||e.name:void 0})),l=(0,r.P1)(s.sC,(function(e){return e?(0,a.n)(e.id):void 0})),u=(0,r.P1)((function(e){return e.enrollment.utilities}),(function(e){return!!e.find((function(e){return e.accountLinked}))})),d=(0,r.P1)((function(e){var n;return null===(n=e.utilityAccounts)||void 0===n?void 0:n.selectedAccountIndex}),(function(e){return e>=0})),m=(0,r.P1)((function(e){return e.utilityAccounts}),u,d,(function(e,n,t){return e.useAccountLinkingFlow&&!n&&!t})),p=(0,r.P1)((function(e){return e.utilityAccounts}),(function(e){return"undefined"!==typeof e.useAccountLinkingFlow})),f=(0,r.P1)(m,o.Gn,(function(e,n){return e&&n})),g=(0,r.P1)(o.fv,u,o.Gn,d,(function(e,n,t,r){return!e||!t||n||r})),h=(0,r.P1)((function(e){return e.utilityCompanies.companies}),(function(e){return e.utilityCompanies.companiesMap}),(function(e){return e.wizard}),(function(e,n,t){var r=t.distributionCompanyId,i=Object.values(e).find((function(e){return e.id===r}));if(i){var a=Object.keys(n).find((function(e){return n[e]===i.code}));return{utility:i,utilityIndex:parseInt(a,10)}}return{utilityIndex:0}})),v=(0,r.P1)((function(e){return e.wizard}),(function(e){return e.enrollment}),(function(e,n){var t,r=n.utilities;return e.serviceAddressState||(null===(t=r[0])||void 0===t?void 0:t.serviceAddressState)})),x=(0,r.P1)((function(e){return e.wizard}),(function(e){return e.enrollment}),(function(e,n){var t,r=e.zipCode,i=e.serviceAddressZipCode,a=n.utilities;return i||(null===(t=a[0])||void 0===t?void 0:t.serviceAddressZipCode)||r})),y=(0,r.P1)((function(e){return e.wizard}),(function(e){return{mailingAddress:e.mailingAddress,mailingAddressCity:e.mailingAddressCity,mailingAddressCounty:e.mailingAddressCounty,mailingAddressState:e.mailingAddressState,mailingAddressUnit:e.mailingAddressUnit,mailingAddressZipCode:e.mailingAddressZipCode}})),b=(0,r.P1)(x,(function(e){return e.wizard}),(function(e){return e.enrollment}),(function(e){return e.utilityAccounts}),(function(e,n,t,r){var i=n.mailingAddressZipCode,a=t.utilities,o=r.isMailingAddressInitialCopy;return e===i&&!a.length&&!o}))},17572:function(e,n,t){t.d(n,{D$:function(){return c},KJ:function(){return d},Me:function(){return m},bN:function(){return l},sC:function(){return s},vT:function(){return u}});var r=t(14924),i=t(26042),a=t(69396),o=t(68697),s=(0,o.P1)((function(e){return e.utilityCompanies.companies}),(function(e){return e.utilityCompanies.companiesMap}),(function(e){return e.wizard.electricUtility}),(function(e,n,t){return e[n[t]]})),c=(0,o.P1)((function(e){return e.enrollment.utilities}),(function(e){var n;return null===(n=e.utilityAccounts)||void 0===n?void 0:n.selectedAccountIndex}),(function(e,n){var t=Object.keys(e);return 0===t.length||n>=0&&1===t.length})),l=(0,o.P1)((function(e){return e.utilityCompanies.selectedCompanyCode}),(function(e){return e})),u=(0,o.P1)((function(e){return e.utilityCompanies.serviceCompanies}),(function(e){return e})),d=(0,o.P1)((function(e){return e.utilityCompanies.isSplitZip}),(function(e){return e})),m=(0,o.P1)((function(e){return e.utilityCompanies.companies}),(function(e){return Object.values(e).reduce((function(e,n,t){return(null===n||void 0===n?void 0:n.services_zip)?(0,a.Z)((0,i.Z)({},e),{highlightedUtilityValues:(0,a.Z)((0,i.Z)({},e.highlightedUtilityValues),(0,r.Z)({},t,null===n||void 0===n?void 0:n.name))}):(0,a.Z)((0,i.Z)({},e),{utilityValues:(0,a.Z)((0,i.Z)({},e.utilityValues),(0,r.Z)({},t,null===n||void 0===n?void 0:n.name))})}),{utilityValues:{},highlightedUtilityValues:{}})}))},18420:function(e,n,t){t.d(n,{L$:function(){return o},fL:function(){return s},gs:function(){return c},xQ:function(){return l}});var r=t(68697),i=t(30243),a=t(17572);function o(e){return(null===e||void 0===e?void 0:e.id)===i.dO.SouthernCaliforniaEdison}var s=(0,r.P1)(a.sC,(function(e){return o(e)}));function c(e){return(null===e||void 0===e?void 0:e.id)===i.dO.Ameren||(null===e||void 0===e?void 0:e.id)===i.dO.ComEd}var l=(0,r.P1)(a.sC,(function(e){return c(e)}))},3948:function(e,n,t){t.d(n,{R:function(){return f},j:function(){return v}});var r=t(14924),i=t(68697),a=t(24923),o=t(69833),s=t(78280),c=t(6146),l=t(81360),u=t(89923),d=t(43585),m=t(18420),p=t(17572),f=(0,i.P1)(u.sx,(function(e){return e.validation}),(function(e,n){var t=n[e];if(t&&e)return a.l0.UTILITY_INFO,t})),g=(0,i.P1)(p.sC,(function(e){return e.wizard.billUploadRequired}),(function(e){return e.wizard.serviceAddressState}),(function(e){return e.wizard.accountNumber}),(function(e){return e.enrollment.utilities}),(function(e){var n;return null===(n=e.utilityAccounts)||void 0===n?void 0:n.selectedAccountIndex}),d.Y2,m.fL,m.xQ,(function(e,n,t,r,i,a,u,d,m){var p=(0,o.n)(null===e||void 0===e?void 0:e.id),f=p.askMeterNumber,g=p.entityTypeTitle,h=(0,c.hC)(t),v=(0,l.iz)(i,null===e||void 0===e?void 0:e.code,r,a);return(0,s.k)({isSCE:d,isIL:m,askMeterNumber:f,billUploadRequired:n,isForm:!0,utilityDisplayName:u,entityTypeTitle:g,isCountyRequired:h,isNotUniqueUtility:v})})),h=(0,r.Z)({},a.l0.CONNECT_UTILITY_ACCOUNT,g),v=(0,i.P1)((function(e){return e}),u.sx,(function(e,n){var t=h[n];return t?t(e):void 0}))},99116:function(e,n,t){t.d(n,{g:function(){return r},$:function(){return i}});var r,i={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};!function(e){e.home="ResidentialCustomer",e.business="NonResidentialPrivateCustomer",e.public="NonResidentialPublicCustomer"}(r||(r={}))},33240:function(e,n,t){var r;t.d(n,{F:function(){return r}}),function(e){e.Disabled="Disabled",e.Optional="Optional",e.Required="Required",e.Email="Email"}(r||(r={}))},32:function(e,n,t){var r;t.d(n,{N:function(){return r}}),function(e){e.Small="Small",e.MediumToLarge="Medium-To-Large"}(r||(r={}))},20165:function(e,n,t){var r,i,a,o,s;t.d(n,{A6:function(){return a},IT:function(){return c},KB:function(){return s},UE:function(){return r},w:function(){return o},xA:function(){return i}}),function(e){e.accountNumber="account-number",e.agentIsAssisting="agentIsAssisting",e.agentName="agent_name",e.agreedToTerms="agreedToTerms",e.bills="bills",e.brand="brand",e.companyName="company_name",e.complete="complete",e.contractId="contract_id",e.contractToken="contract_token",e.customerType="customer_type",e.commercialClass="commercial_class",e.electricUtility="electric-utility",e.electricUtilityName="electric-utility-name",e.emailAddress="email",e.external_ref="external_ref",e.firstName="first-name",e.isMobile="is-mobile",e.lastName="last-name",e.mailingAddress="street-address",e.mailingAddressCity="address-level2",e.mailingAddressState="address-level1",e.mailingAddressCounty="address-county",e.mailingAddressUnit="mailing-address-unit",e.mailingAddressZipCode="mailing-address-postal-code",e.meterNumber="meter-number",e.nextStep="nextStep",e.operatorId="operator_id",e.password="password",e.paymentAccountNumber="payment-account-number",e.paymentAccountType="payment-account-type",e.paymentMethod="payment-method",e.paymentNameOnAccount="payment-name-on-account",e.paymentNameOnCard="payment-name-on-card",e.paymentRoutingNumber="payment-routing-number",e.paymentVerificationMethod="payment-verification-method",e.phoneNumber="tel",e.serviceAddress="service-street-address",e.serviceAddressCity="service-address-level2",e.serviceAddressCounty="service-address-county",e.serviceAddressState="service-address-level1",e.serviceAddressUnit="service-address-unit",e.serviceAddressZipCode="service-address-postal-code",e.tc_referrer="tc_referrer",e.title="title",e.username="username",e.utm_campaign="utm_campaign",e.utm_medium="utm_medium",e.utm_source="utm_source",e.uuid="uuid",e.vid="vanity_id",e.workflowId="workflowId",e.zipCode="postal-code",e.skipContract="skip_contract",e.lmiEligible="lmi-eligible",e.lmiProgramType="lmi-program-type",e.lmiVerificationMethod="lmi-verification-method",e.lmiEvidence="lmi-evidence",e.lmiWontProvideEvidence="lmi-wont-provide-evidence",e.contactUsFirstName="contactUsFirstName",e.contactUsLastName="contactUsLastName",e.contactUsMethod="contactUsMethod",e.contactUsPhoneNumber="contactUsPhoneNumber",e.contactUsEmailAddress="contactUsEmailAddress",e.contactUsQuestionDescription="contactUsQuestionDescription",e.contactUsShouldTakeScreenshot="contactUsShouldTakeScreenshot"}(r||(r={})),function(e){e.bills="bills",e.lmiEvidence="lmiEvidence"}(i||(i={})),function(e){e.checkingAccount="ach",e.creditCard="credit_card"}(a||(a={})),function(e){e.plaid="Plaid",e.microdeposits="Micro-deposits",e.none=""}(o||(o={})),function(e){e.required="Required",e.optional="Optional",e.none="None"}(s||(s={}));var c=[r.firstName,r.lastName,r.customerType,r.companyName,r.title,r.phoneNumber,r.emailAddress,r.mailingAddress,r.mailingAddressUnit,r.mailingAddressCity,r.mailingAddressState,r.mailingAddressZipCode,r.agentIsAssisting,r.agentName]},24923:function(e,n,t){var r,i;t.d(n,{zo:function(){return i},o6:function(){return c},aP:function(){return u},KG:function(){return d},_q:function(){return l},xQ:function(){return m},dx:function(){return o},l0:function(){return r}}),function(e){e.CHECK_AVAILABILITY="Check Availability",e.PERSONAL_INFO="Personal Info",e.CONNECT_UTILITY_ACCOUNT="Connect Utility Account",e.LINK_UTILITY_ACCOUNT="Link Utility Account",e.UTILITY_INFO="My Utility Accounts",e.CONFIRM_EMAIL="Confirm Your Email",e.CREATE_YOUR_PASSWORD="Create Your Password",e.DOCUSIGN="Contract Signature",e.PAYMENT_METHOD="Payment Method",e.ENROLLMENT_COMPLETE="Enrollment Complete",e.SIGN_DISCLOSURES="Sign Disclosures",e.SUBSCRIPTION_BENEFITS="Subscription Benefits",e.VERIFY_SERVICE_AVAILABILITY="Verify Service Availability",e.WELCOME="Welcome"}(r||(r={})),function(e){e.AGENT_INITIATED="Agent Initiated",e.AGENT_CREDIT_CHECK="Agent Credit Check",e.AGENT_INVITED="Agent Invited"}(i||(i={}));var a,o;!function(e){e.REQUIRED="REQUIRED",e.INVALID="INVALID",e.MAX_LENGTH="MAX_LENGTH"}(a||(a={})),function(e){e.utilityAccountNumber="utility-account-number",e.campaignId="CampaignId",e.testCondition="testCondition",e.testErrorCategory="testErrorCategory",e.distributionCompanyId="distId",e.utmCampaign="utm_campaign",e.utmMedium="utm_medium",e.utmSource="utm_source",e.tcReferrer="tc_referrer",e.customerType="customer_type"}(o||(o={}));var s,c,l,u,d,m;!function(e){e[e.ach_required=0]="ach_required",e[e.check_required=1]="check_required",e[e.omni_required=2]="omni_required"}(s||(s={})),function(e){e[e.VOIP_CODE=112]="VOIP_CODE",e[e.DUPLICATE_NUMBER_CODE=113]="DUPLICATE_NUMBER_CODE",e[e.RESTRICTED_CODE=114]="RESTRICTED_CODE",e[e.AGENT_EMAIL=115]="AGENT_EMAIL"}(c||(c={})),function(e){e.TransactionId="Transaction-Id"}(l||(l={})),function(e){e.AGENT_INVITATION="Agent Invitation",e.ENROLLMENT_PORTAL="Enrollment Portal",e.WEB="Web"}(u||(u={})),function(e){e.ENROLLMENT_SUPPORT="Enrollment Support"}(d||(d={})),function(e){e.ENROLLMENT_HELP_REQUEST="Enrollment Help Request"}(m||(m={}))},37874:function(e,n,t){var r,i,a;t.d(n,{Iz:function(){return a},eW:function(){return r},iJ:function(){return i}}),function(e){e.EmptyString="emptyString",e.UndefinedValue="undefinedValue"}(r||(r={})),function(e){e.Auto="auto",e.Manual="manual"}(i||(i={})),function(e){e.AgentInvitation="agentInvitation"}(a||(a={}))},21245:function(e,n,t){var r;t.d(n,{m:function(){return r}}),function(e){e.FORWARD="FORWARD",e.BACKWARD="BACKWARD"}(r||(r={}))},40838:function(e,n,t){var r;t.d(n,{BD:function(){return h},Ch:function(){return s},Dz:function(){return r},G5:function(){return o},YV:function(){return c},_I:function(){return v},bE:function(){return u},cc:function(){return g},hq:function(){return m},mh:function(){return p},mt:function(){return l},n$:function(){return a},pM:function(){return d},su:function(){return f},xy:function(){return i}}),function(e){e.paymentError="payment_error",e.paymentLogEntryId="log_entry_id"}(r||(r={}));var i,a,o="Email Verification Failed",s="Email Verification Succeeded",c="Payment Method Failed",l="Payment Method Succeeded",u="Payment Method Skipped",d="Lead Navigated To The Enrollment Portal",m="Agent Site Checked Availability",p="Agent Site Credit Check Initiated",f="Agent Site Credit Check Succeeded",g="Agent Site Credit Check Failed",h="Agent Site Credit Check User Not Found",v="Agent Site Invitation Sent";!function(e){e.InitiatedLinking="initiatedLinking",e.IncorrectCredentials="incorrectCredentials",e.ProcessingError="processingError",e.LinkingTimeout="linkingTimeout",e.SelectedUA="selectedUA",e.SuccessfulLinking="successfulLinking",e.UserConsent="userConsent",e.ConsentScreenshot="consentScreenshot"}(i||(i={})),function(e){e.Opportinity="Opportunity",e.Contact="Contact",e.Lead="Lead",e.ContactLead="ContactOrLead"}(a||(a={}))},20474:function(e,n,t){function r(e){return!Number.isNaN(parseInt(e,10))}function i(e){return JSON.parse(JSON.stringify(e||[]))}t.d(n,{hj:function(){return r},p$:function(){return i}})},20663:function(e,n,t){t.d(n,{Ac:function(){return o},PI:function(){return s},ue:function(){return a}});var r=t(88206),i=t(24923);function a(e){var n=e.docusignEnabled,t=e.hasVerifiedEmail,a=e.manualContract,o=e.utilities,s=e.userToken,c=e.showPaymentStep,l=e.passwordStepDisabled,u=e.shouldShowCheckAvailabilityStep,d=e.shouldVerifyServiceAvailability,m=!a&&!t,p=l,f=(0,r.c)(r.A.createYourPassword)&&!p&&!s,g=!(null===o||void 0===o?void 0:o.length)||!(null===o||void 0===o?void 0:o.filter((function(e){return e.accountNumber})).length);return[{active:u,name:i.l0.CHECK_AVAILABILITY},{active:!0,name:i.l0.PERSONAL_INFO},{active:d,name:i.l0.VERIFY_SERVICE_AVAILABILITY},{active:g,name:i.l0.CONNECT_UTILITY_ACCOUNT},{active:!0,name:i.l0.UTILITY_INFO},{active:m,name:i.l0.CONFIRM_EMAIL},{active:!1,name:i.l0.SIGN_DISCLOSURES},{active:!1,name:i.l0.SUBSCRIPTION_BENEFITS},{active:f,name:i.l0.CREATE_YOUR_PASSWORD},{active:n,name:i.l0.DOCUSIGN},{active:c,name:i.l0.PAYMENT_METHOD},{active:!0,name:i.l0.WELCOME}]}function o(e,n){return n>=e.length-1-1?e.length-1:e[n+1].active?n+1:o(e,n+1)}function s(e,n){var t,r=n.findIndex((function(n){return n.name===e}));if(!(r<0))return null===(t=n.find((function(e,n){return n>r&&e.active})))||void 0===t?void 0:t.name}},11342:function(e,n,t){t.d(n,{O:function(){return f}});var r=t(65873),i=t(24923),a=t(90699),o=t(47822),s=t(57785),c=t(1798),l=t(5318),u=t(63764),d=t(82859),m={vanity_id:function(e){return"-"===e}},p=function(e){var n=Object.keys(i.dx)[Object.values(i.dx).indexOf(e)];return null!==n&&void 0!==n?n:e};function f(e){var n={wizard:r.Cb,plaid:d.E,enrollment:r._d,externalData:{},errors:[],accountLinking:a.E,connectUtility:s.E3,connectUtilityApp:o.E3,connectUtilityModalManager:c.E3,utilityCompanies:r.uj,agentInvitation:l.E,needHelp:u.E};return e.forEach?e.forEach((function(e,t){if(!function(e,n){return m[e]&&m[e](n)}(t,e)){if(t.includes("postal-code")&&!e.match(/[0-9]{5}/g))return;n.externalData[t]=e,n.externalData[p(t)]=e}})):Object.keys(e).forEach((function(t){n.externalData[t]=e[t],n.externalData[p(t)]=e[t]})),n}},925:function(e,n,t){t.d(n,{y:function(){return c}});var r=t(47568),i=t(20414),a=t(52273),o=t(81360),s=function(){return window.analytics&&window.analytics.user?window.analytics.user().anonymousId():(0,a.vQ)("ajs_anonymous_id")},c=function(){var e=(0,r.Z)((function(){var e,n,t=arguments;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:0,(n=s())?[2,n]:e<=3?[2,void 0]:[4,(0,o.gw)(1e3)];case 1:return r.sent(),[2,c(e+1)]}}))}));return function(){return e.apply(this,arguments)}}()},53196:function(e,n,t){t.d(n,{q:function(){return o}});var r=t(14924),i=t(99116),a=t(20165);function o(e){var n;return n={},(0,r.Z)(n,a.UE.zipCode,e.zipCode),(0,r.Z)(n,a.UE.electricUtility,e.electricUtility),(0,r.Z)(n,a.UE.firstName,e.firstName),(0,r.Z)(n,a.UE.customerType,e.customerType||i.g.home),(0,r.Z)(n,a.UE.companyName,e.companyName),(0,r.Z)(n,a.UE.title,e.title),(0,r.Z)(n,a.UE.lastName,e.lastName),(0,r.Z)(n,a.UE.emailAddress,e.emailAddress),(0,r.Z)(n,a.UE.phoneNumber,e.phoneNumber),(0,r.Z)(n,a.UE.mailingAddress,e.mailingAddress),(0,r.Z)(n,a.UE.mailingAddressUnit,e.mailingAddressUnit),(0,r.Z)(n,a.UE.mailingAddressCity,e.mailingAddressCity),(0,r.Z)(n,a.UE.mailingAddressCounty,e.mailingAddressCounty),(0,r.Z)(n,a.UE.mailingAddressState,e.mailingAddressState),(0,r.Z)(n,a.UE.mailingAddressZipCode,e.mailingAddressZipCode),(0,r.Z)(n,a.UE.agentIsAssisting,e.agentIsAssisting),(0,r.Z)(n,a.UE.agentName,e.agentName),(0,r.Z)(n,a.UE.accountNumber,e.accountNumber),(0,r.Z)(n,a.UE.bills,e.bills),(0,r.Z)(n,a.UE.meterNumber,e.meterNumber),(0,r.Z)(n,a.UE.serviceAddress,e.serviceAddress),(0,r.Z)(n,a.UE.serviceAddressUnit,e.serviceAddressUnit),(0,r.Z)(n,a.UE.serviceAddressCity,e.serviceAddressCity),(0,r.Z)(n,a.UE.serviceAddressCounty,e.serviceAddressCounty),(0,r.Z)(n,a.UE.serviceAddressState,e.serviceAddressState),(0,r.Z)(n,a.UE.serviceAddressZipCode,e.serviceAddressZipCode),(0,r.Z)(n,a.UE.paymentMethod,e.paymentMethod),(0,r.Z)(n,a.UE.paymentNameOnCard,e.paymentNameOnCard),(0,r.Z)(n,a.UE.paymentAccountType,e.paymentAccountType),(0,r.Z)(n,a.UE.paymentNameOnAccount,e.paymentNameOnAccount),(0,r.Z)(n,a.UE.paymentAccountNumber,e.paymentAccountNumber),(0,r.Z)(n,a.UE.paymentRoutingNumber,e.paymentRoutingNumber),(0,r.Z)(n,a.UE.paymentVerificationMethod,e.paymentVerificationMethod),(0,r.Z)(n,a.UE.contractId,e.contractId),(0,r.Z)(n,a.UE.contractToken,e.contractToken),(0,r.Z)(n,a.UE.skipContract,e.skipContract),(0,r.Z)(n,a.UE.lmiEligible,e.lmiEligible),(0,r.Z)(n,a.UE.lmiProgramType,e.lmiProgramType||""),(0,r.Z)(n,a.UE.lmiVerificationMethod,e.lmiVerificationMethod||""),(0,r.Z)(n,a.UE.lmiWontProvideEvidence,e.lmiWontProvideEvidence),n}},67062:function(e,n){var t,r;n.Z={set stripeRef(e){t=e},set elementsRef(e){r=e},get stripeRef(){return t},get elementsRef(){return r}}},81360:function(e,n,t){t.d(n,{ZG:function(){return r},gw:function(){return i},iz:function(){return a}});var r=function(e){if(e)return"".concat(e.slice(0,-5).replace(/./gi,"*")).concat(e.slice(-5))},i=function(e){return new Promise((function(n){setTimeout(n,e)}))};function a(e,n,t,r){if(!e)return!1;var i=e.filter((function(e,i){return e.accountNumber===t&&e.utilityNumber===n&&i!==r}));return(null===i||void 0===i?void 0:i.length)>0}},6146:function(e,n,t){t.d(n,{N4:function(){return c},cO:function(){return l},hC:function(){return s},j:function(){return a},mf:function(){return u}});var r=t(20165),i=t(58655);function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.isForm?r.UE[e]:e}var o=["MN","MD"];function s(e){return o.includes(e)}var c=function(e){var n=e.requiredKeys,t=e.formValues,r=e.errors;return n.every((function(e){var n=t[e],i=r[e];return n&&!i}))};function l(e){if(!e||!e.issues)return{};var n={};return e.issues.forEach((function(e){n[e.path[0]]=e.message})),n}function u(e){return(0,i.mT)().safeParse(e).success}},92022:function(e,n,t){t.d(n,{$:function(){return o},M:function(){return s}});var r=t(20165),i=Object.keys(r.UE).reduce((function(e,n){return e[r.UE[n]]=n,e}),{}),a=[r.UE.agreedToTerms,r.UE.paymentAccountNumber,r.UE.paymentAccountType,r.UE.paymentMethod,r.UE.paymentNameOnAccount,r.UE.paymentNameOnCard,r.UE.paymentRoutingNumber];function o(e){return i[e]}function s(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(e||{}).reduce((function(t,r){if(!n||!a.includes(r)){var i=o(r),s=e[r];i&&"undefined"!==typeof s&&(t[i]=s)}return t}),{})}},68348:function(e,n,t){t.d(n,{D:function(){return o},d:function(){return s}});var r=t(14924),i=t(1604),a=t(20165),o=function(){return i.z.object((0,r.Z)({},a.UE.lmiEligible,i.z.string()))},s=function(){return i.z.object({type:i.z.string().min(1,"A program must be selected"),verificationMethod:i.z.string().min(1,"A verification method must be selected")})}},58655:function(e,n,t){t.d(n,{EI:function(){return c},GU:function(){return o},kc:function(){return s},kf:function(){return u},mT:function(){return d},ng:function(){return l}});var r=t(1604),i=t(48392),a=t(46027);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.isCountyRequired?r.z.string().min(1,{message:a.aY.REQUIRED}).max(255,{message:a.aY.MAX_LENGTH}).regex(i.NH,{message:a.aY.INVALID}):r.z.string().max(255,{message:a.aY.MAX_LENGTH}).regex(i.NH,{message:a.aY.INVALID}).optional()}function s(e){var n=(null===e||void 0===e?void 0:e.errorMessagesOverride)||{},t=n.REQUIRED,i=n.MAX_LENGTH,o=n.INVALID;return r.z.string().min(1,{message:t||a.cC.REQUIRED}).max(100,{message:i||a.cC.MAX_LENGTH}).regex(/^[\w \-.,/]*$/,{message:o||a.cC.INVALID})}function c(){return r.z.string().min(1,{message:a.Or.REQUIRED}).max(25,{message:a.Or.MAX_LENGTH}).regex(i.NH,{message:a.Or.INVALID})}function l(){return r.z.string().regex(/^[\w \-.,/]{0,100}$/,{message:a.iI.INVALID}).optional()}function u(){return r.z.string().min(1,{message:a.iI.REQUIRED})}function d(){return r.z.string().min(1,{message:a.zA.REQUIRED}).regex(i.pX,{message:a.zA.INVALID})}},98702:function(e,n,t){t.d(n,{$u:function(){return u},Fw:function(){return p},Mf:function(){return f},N7:function(){return d},Nv:function(){return g},P1:function(){return m},Re:function(){return l},uD:function(){return h}});var r=t(97280),i=t(48392),a=t(99116),o=t(32),s=t(46027),c=t(1604),l=function(){return c.z.string().min(1,s.xK.REQUIRED).regex(i.CU,s.xK.INVALID)};function u(){return c.z.string().min(1,s.rU.REQUIRED).regex(i.c3,s.rU.INVALID)}function d(){return c.z.string().min(1,s.Yt.REQUIRED).regex(i.c3,s.Yt.INVALID)}function m(){return c.z.string().min(1,s.UE.REQUIRED).refine((function(e){try{return!!(0,r.h)(e,"US").isValid()}catch(n){return!1}}),{message:s.UE.INVALID})}function p(){return c.z.string().min(1,s.R.REQUIRED).max(60,s.R.MAX_LENGTH).regex(/^[\w \-.,/]*$/,s.R.INVALID)}function f(){return c.z.string().min(1,s.pB.REQUIRED).max(160,s.pB.MAX_LENGTH).regex(/^[\w \-,. +@'&()/]*$/,s.pB.INVALID)}function g(){return c.z.enum([a.g.home,a.g.business])}function h(){return c.z.enum(["",o.N.Small,o.N.MediumToLarge])}},46027:function(e,n,t){t.d(n,{Dk:function(){return f},Or:function(){return m},R:function(){return l},S6:function(){return i},UE:function(){return c},Yt:function(){return s},aY:function(){return d},cC:function(){return g},iI:function(){return p},pB:function(){return u},rU:function(){return o},xK:function(){return a},zA:function(){return r}});var r={INVALID:"Not a valid US zip code",REQUIRED:"Zip Code required"},i={REQUIRED:"Electric Utility required"},a={REQUIRED:"Email Address is required",INVALID:"Invalid email address"},o={REQUIRED:"First Name is required",INVALID:"Not a valid First Name"},s={REQUIRED:"Last Name is required",INVALID:"Not a valid Last Name"},c={REQUIRED:"Phone Number is required",INVALID:"Please enter a 10-digit number (XXX) XXX-XXXX"},l={REQUIRED:"Job Title is required",MAX_LENGTH:"Job Title should not be longer then 60 characters",INVALID:"Job Title should not have special symbols"},u={REQUIRED:"Company Name is required",MAX_LENGTH:"Company Name should not be longer then 160 characters",INVALID:"Company name should not have special symbols"},d={REQUIRED:"County is required",MAX_LENGTH:"County should not be longer then 255 characters",INVALID:"Special symbols are not allowed"},m={REQUIRED:"City is required",INVALID:"Special symbols are not allowed",MAX_LENGTH:"City should not be longer then 25 characters"},p={INVALID:"Special symbols are not allowed"},f={REQUIRED:"Mailing Address is required",INVALID:"Special symbols are not allowed",MAX_LENGTH:"Mailing Address should not be longer then 100 characters"},g={REQUIRED:"Service Address is required",INVALID:"Special symbols are not allowed",MAX_LENGTH:"Service Address should not be longer then 100 characters"}},78280:function(e,n,t){t.d(n,{k:function(){return i}});var r=t(74888);function i(e){return(0,r.T2)(e).merge((0,r.qF)(e)).merge((0,r.QH)(e)).merge((0,r.Sz)(e))}},74888:function(e,n,t){t.d(n,{qF:function(){return m},QH:function(){return f},T2:function(){return h},Sz:function(){return y}});var r=t(1604),i=t(14924),a=t(6146),o=t(48392);function s(e){return"".concat(e.utilityDisplayName," ").concat(e.entityTypeTitle," required")}function c(e){return"Maximum length of ".concat(e.entityTypeTitle," is 35")}function l(e){return"Minimum length of ".concat(e.entityTypeTitle," is 2")}function u(e){return"You already used this ".concat(e.entityTypeTitle)}function d(e){return function(){return!e.isNotUniqueUtility}}function m(e){return e.isSCE?r.z.object((0,i.Z)({},(0,a.j)("accountNumber",e),function(e){return r.z.string({required_error:s(e)}).min(0,{message:"Minimum length of ".concat(e.entityTypeTitle," is 0")}).max(35,{message:c(e)}).regex(o.gc,{message:'*Service Account Number should be 10 digits starting with the number 8. Do not enter "Customer Account Number"'}).refine(d(e),{message:u(e)})}(e))):e.isIL?r.z.object((0,i.Z)({},(0,a.j)("accountNumber",e),function(e){return r.z.string({required_error:s(e)}).min(2,{message:l(e)}).max(35,{message:c(e)}).regex(o.v9,{message:"Account Number should be numbers only"}).refine(d(e),{message:u(e)})}(e))):r.z.object((0,i.Z)({},(0,a.j)("accountNumber",e),r.z.string({required_error:s(e)}).min(2,{message:l(e)}).max(35,{message:c(e)}).refine(d(e),{message:u(e)})))}function p(e){return"".concat(e.utilityDisplayName," meter number required")}function f(e){return e.askMeterNumber&&e.isIL?r.z.object((0,i.Z)({},(0,a.j)("meterNumber",e),function(e){return r.z.string({required_error:p(e)}).min(2,{message:"Minimum length of meter number is 2"}).max(35,{message:"Maximum length of meter number is 35"}).regex(o.v9,{message:"Meter number should be numbers only"})}(e))):e.askMeterNumber?r.z.object((0,i.Z)({},(0,a.j)("meterNumber",e),r.z.string({required_error:p(e)}).min(2,{message:"Minimum length of meter number is 2"}).max(35,{message:"Maximum length of meter number is 35"}))):r.z.object({})}var g=t(58655);function h(e){var n;return r.z.object((n={},(0,i.Z)(n,(0,a.j)("serviceAddress",e),(0,g.kc)()),(0,i.Z)(n,(0,a.j)("serviceAddressCity",e),(0,g.EI)()),(0,i.Z)(n,(0,a.j)("serviceAddressUnit",e),(0,g.ng)()),(0,i.Z)(n,(0,a.j)("serviceAddressState",e),(0,g.kf)()),(0,i.Z)(n,(0,a.j)("serviceAddressZipCode",e),(0,g.mT)()),(0,i.Z)(n,(0,a.j)("serviceAddressCounty",e),(0,g.GU)(e)),n))}var v=r.z.object({fileLocation:r.z.string(),remoteKey:r.z.string()}),x=r.z.record(v);function y(e){return e.billUploadRequired?e.isForm?r.z.object((0,i.Z)({},(0,a.j)("bills",e),x)):r.z.object((0,i.Z)({},(0,a.j)("serviceBills",e),x)):r.z.object({})}var b=r.z.object({accountNumber:r.z.union([m({isSCE:!0}),m({isIL:!0}),m({})])}),C=r.z.object({meterNumber:r.z.union([f({askMeterNumber:!0,isIL:!0}),f({askMeterNumber:!0})])}),Z=(h({}).merge(b).merge(C).merge(y({billUploadRequired:!0})),r.z.object({accountNumber:r.z.union([m({isSCE:!0,isForm:!0}),m({isIL:!0,isForm:!0}),m({isForm:!0})])})),E=r.z.object({meterNumber:r.z.union([f({askMeterNumber:!0,isIL:!0,isForm:!0}),f({askMeterNumber:!0,isForm:!0})])});h({}).merge(Z).merge(E).merge(y({billUploadRequired:!0,isForm:!0}))}}]);