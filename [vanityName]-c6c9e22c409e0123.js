(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{6069:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agent/[vanityName]",function(){return t(4431)}])},18032:function(n,e,t){"use strict";t.d(e,{Z:function(){return A}});var i=t(85893),r=t(67294),o=t(13457),a=t(25617),c=t(12918),u=t(56255),s=(t(11342),t(62371)),d=t(88206),l=t(74479),f=function(){var n=function(){var n;return null===(n=window.FingerprintJS)||void 0===n?void 0:n.lib}();if(!n)return Promise.resolve(void 0);var e=localStorage.getItem("fpjs_visitor_id");return e?Promise.resolve(e):n.get().then((function(n){var e=null===n||void 0===n?void 0:n.visitorId;return e&&localStorage.setItem("fpjs_visitor_id",e),null===n||void 0===n?void 0:n.visitorId}))},p=t(4612),v=t(41120),g=t(75154),m=(0,v.Z)((function(){return(0,g.Z)({centered:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})}));function h(n){var e=n.children,t=m(),o=(0,a.I0)(),c=(0,r.useState)(!1),s=c[0],v=c[1],g=(0,d.c)(d.A.fingerprint);return(0,r.useEffect)((function(){if(g){var n=document.createElement("script");n.setAttribute("src","/scripts/f.js"),n.addEventListener("load",(function(){window.FingerprintJS.loader.addEventListener("fpjs_initialization_success",(function(){f().then((function(n){o((0,u.Bf)(n))})).catch((function(n){p.p.notify({message:"Fingerprint failed to retrieve id",params:{err:n}})})).finally((function(){v(!0)}))})),window.FingerprintJS.loader.addEventListener("fpjs_initialization_failure",(function(){v(!0),p.p.notify({message:"Fingerprint script failed to initialize"})}))})),n.addEventListener("error",(function(){v(!0),p.p.notify({message:"Fingerprint script loading was blocked"})})),document.head.appendChild(n)}}),[g]),g&&!s?(0,i.jsx)("div",{className:t.centered,children:(0,i.jsx)(l.Z,{})}):e}var b,y=t(90009),w=t(14924),_=t(5152),j=t.n(_),x=t(63251),Z=j()((function(){return Promise.resolve().then(t.bind(t,45597))}),{loadableGenerated:{webpack:function(){return[45597]}},ssr:!1}),k=j()((function(){return t.e(154).then(t.bind(t,20154))}),{loadableGenerated:{webpack:function(){return[20154]}},ssr:!1}),E=j()((function(){return t.e(813).then(t.bind(t,4813))}),{loadableGenerated:{webpack:function(){return[4813]}},ssr:!1}),P=j()((function(){return t.e(548).then(t.bind(t,43548))}),{loadableGenerated:{webpack:function(){return[43548]}},ssr:!1}),N=j()((function(){return Promise.all([t.e(249),t.e(600)]).then(t.bind(t,50600))}),{loadableGenerated:{webpack:function(){return[50600]}},ssr:!1}),C=j()((function(){return Promise.all([t.e(664),t.e(590)]).then(t.bind(t,22590))}),{loadableGenerated:{webpack:function(){return[22590]}},ssr:!1}),F=j()((function(){return t.e(715).then(t.bind(t,28715))}),{loadableGenerated:{webpack:function(){return[28715]}},ssr:!1}),I=(b={},(0,w.Z)(b,x.K.Wizard,Z),(0,w.Z)(b,x.K.JouleCca,k),(0,w.Z)(b,x.K.AccountLinking,E),(0,w.Z)(b,x.K.ConnectUtility,P),(0,w.Z)(b,x.K.AgentInvitation,N),(0,w.Z)(b,x.K.AgentVanityNotFound,C),(0,w.Z)(b,x.K.PrivacyPolicy,F),b);var A=function(n){var e=n.page,t=n.themeVersion,l=n.featureFlaged,f=void 0!==l&&l,p=n.useRedux,v=void 0===p||p,g=n.useFingerprint,m=void 0===g||g;return function(n){var l=n.store,p=n.branding,g=n.extendExternalData,b=(0,r.useMemo)((function(){return(0,u.aY)(l,g)}),["object"]),w=(0,u.oR)(b),_=(0,y.ZD)(y.rT[t||e],p);if((0,s.Z)(),f&&!(0,d.c)(d.A[e]))return(0,i.jsx)(c.default,{statusCode:404});var j=I[e],x=(0,i.jsx)(o.Z,{theme:_,children:(0,i.jsx)(j,{})});return m&&(x=(0,i.jsx)(h,{children:x})),v&&(x=(0,i.jsx)(a.zt,{store:w,children:x})),x}}},63251:function(n,e,t){"use strict";var i;t.d(e,{K:function(){return i}}),function(n){n.Wizard="wizard",n.JouleCca="jouleCca",n.AccountLinking="accountLinking",n.ConnectUtility="connectUtility",n.AgentInvitation="agentInvitation",n.AgentVanityNotFound="agentVanityNotFound",n.PrivacyPolicy="privacyPolicy"}(i||(i={}))},74479:function(n,e,t){"use strict";var i=t(14924),r=t(85893),o=t(41120),a=t(75154),c=t(94184),u=t.n(c),s=(0,o.Z)((function(n){return(0,a.Z)({content:{display:"flex",justifyContent:"center",alignItems:"center"},"@keyframes logo-pulse":{"0%":{opacity:"0.3",transform:"scale(0.75)"},"50%":{opacity:"1",transform:"scale(1)"},"100%":{opacity:"0.3",transform:"scale(0.75)"}},logoPulse:(0,i.Z)({width:"100px",animation:"$logo-pulse 2s infinite ease-out"},n.breakpoints.up("sm"),{width:"auto"}),logo:{"& img":(0,i.Z)({minWidth:"45px"},n.breakpoints.up("sm"),{minWidth:"100px"})}})}));e.Z=function(){var n=s();return(0,r.jsx)("div",{className:n.content,children:(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:"/account-linking/logo-rounded.png","data-testid":"loader",className:u()(n.logo,n.logoPulse)})})})}},4431:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return o},default:function(){return a}});var i=t(18032),r=t(63251),o=!0;function a(n){var e=n.extendExternalData.vid?r.K.AgentInvitation:r.K.AgentVanityNotFound;return(0,i.Z)({page:e,featureFlaged:!1})(n)}},62371:function(n,e,t){"use strict";t.d(e,{Z:function(){return u}});var i=t(26042),r=t(67294),o=t(11163),a=["email","tel","uuid"],c=["/connect-utility","/agent"];function u(){var n=(0,o.useRouter)();return(0,r.useEffect)((function(){var e,t,r=(0,i.Z)({},n.query),o=window.location.pathname;t=o,c.filter((function(n){return t.includes(n)})).length>0||(a.forEach((function(n){delete r[n]})),Object.keys(r).length&&(o+="?".concat((e=r,Object.keys(e).map((function(n){return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n]))})).join("&")))),window.location.toString()!==o&&window.history.replaceState(null,null,o))})),!0}},12918:function(n,e,t){n.exports=t(89185)},11163:function(n,e,t){n.exports=t(90387)}},function(n){n.O(0,[401,473,9,255,774,888,179],(function(){return e=6069,n(n.s=e);var e}));var e=n.O();_N_E=e}]);